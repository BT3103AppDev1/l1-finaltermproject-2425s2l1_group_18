const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoginPage-DGAsD7zv.js","assets/finbonacci_logo-Sqr38KoG.js","assets/LoginPage-DKVsOHKu.css","assets/RegisterPage-CjWFoqBy.js","assets/RegisterPage-ByTXkbqW.css","assets/FARegisterPage-BDj5li-F.js","assets/FARegisterPage-BsdFMKKx.css","assets/HomePage-Cf4B4sXZ.js","assets/TheNavbar-BUUao04Q.js","assets/TheNavbar-D9--ilj6.css","assets/HomePage-BGNb7q90.css","assets/UploadsPage-D03p0vqV.js","assets/UploadsPage-G9ErSsCR.css","assets/ExpensePage-HH58AH-w.js","assets/ExpensePage-B_XjQHyH.css","assets/GoalsPage-Bele2qi1.js","assets/GoalsPage-DUOJoIcY.css","assets/SettingsPage-DtKu9puf.js","assets/SettingsPage-BDEVOVL-.css","assets/ProfilePage-_NxzRYNF.js","assets/ProfilePage-Dnxut8gb.css","assets/FindFA-CMTSeRcF.js","assets/FindFA-D1folC81.css","assets/FindClient-CkF2rQmf.js","assets/FindClient-lTAA46NQ.css","assets/GiveAdvice-V8NqHKOQ.js","assets/GiveAdvice-DIr5fwLd.css","assets/FAInfo-DrP-priv.js","assets/FAInfo-B-lqpw7K.css"])))=>i.map(i=>d[i]);
var Kx=Object.defineProperty;var Gx=(n,t,e)=>t in n?Kx(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var V=(n,t,e)=>Gx(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function sf(n){const t=Object.create(null);for(const e of n.split(","))t[e]=1;return e=>e in t}const Wt={},wr=[],zn=()=>{},Yx=()=>!1,nu=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),rf=n=>n.startsWith("onUpdate:"),je=Object.assign,of=(n,t)=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)},Qx=Object.prototype.hasOwnProperty,Vt=(n,t)=>Qx.call(n,t),dt=Array.isArray,Er=n=>Ra(n)==="[object Map]",iu=n=>Ra(n)==="[object Set]",Kg=n=>Ra(n)==="[object Date]",_t=n=>typeof n=="function",ge=n=>typeof n=="string",Yn=n=>typeof n=="symbol",qt=n=>n!==null&&typeof n=="object",Yb=n=>(qt(n)||_t(n))&&_t(n.then)&&_t(n.catch),Qb=Object.prototype.toString,Ra=n=>Qb.call(n),Xx=n=>Ra(n).slice(8,-1),Xb=n=>Ra(n)==="[object Object]",af=n=>ge(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Uo=sf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),su=n=>{const t=Object.create(null);return e=>t[e]||(t[e]=n(e))},Jx=/-(\w)/g,bn=su(n=>n.replace(Jx,(t,e)=>e?e.toUpperCase():"")),Zx=/\B([A-Z])/g,Js=su(n=>n.replace(Zx,"-$1").toLowerCase()),ru=su(n=>n.charAt(0).toUpperCase()+n.slice(1)),ch=su(n=>n?`on${ru(n)}`:""),Xi=(n,t)=>!Object.is(n,t),zc=(n,...t)=>{for(let e=0;e<n.length;e++)n[e](...t)},Jb=(n,t,e,i=!1)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,writable:i,value:e})},_l=n=>{const t=parseFloat(n);return isNaN(t)?n:t};let Gg;const ou=()=>Gg||(Gg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function cf(n){if(dt(n)){const t={};for(let e=0;e<n.length;e++){const i=n[e],s=ge(i)?iI(i):cf(i);if(s)for(const r in s)t[r]=s[r]}return t}else if(ge(n)||qt(n))return n}const tI=/;(?![^(]*\))/g,eI=/:([^]+)/,nI=/\/\*[^]*?\*\//g;function iI(n){const t={};return n.replace(nI,"").split(tI).forEach(e=>{if(e){const i=e.split(eI);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function lf(n){let t="";if(ge(n))t=n;else if(dt(n))for(let e=0;e<n.length;e++){const i=lf(n[e]);i&&(t+=i+" ")}else if(qt(n))for(const e in n)n[e]&&(t+=e+" ");return t.trim()}const sI="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",rI=sf(sI);function Zb(n){return!!n||n===""}function oI(n,t){if(n.length!==t.length)return!1;let e=!0;for(let i=0;e&&i<n.length;i++)e=au(n[i],t[i]);return e}function au(n,t){if(n===t)return!0;let e=Kg(n),i=Kg(t);if(e||i)return e&&i?n.getTime()===t.getTime():!1;if(e=Yn(n),i=Yn(t),e||i)return n===t;if(e=dt(n),i=dt(t),e||i)return e&&i?oI(n,t):!1;if(e=qt(n),i=qt(t),e||i){if(!e||!i)return!1;const s=Object.keys(n).length,r=Object.keys(t).length;if(s!==r)return!1;for(const o in n){const a=n.hasOwnProperty(o),c=t.hasOwnProperty(o);if(a&&!c||!a&&c||!au(n[o],t[o]))return!1}}return String(n)===String(t)}function aI(n,t){return n.findIndex(e=>au(e,t))}const tv=n=>!!(n&&n.__v_isRef===!0),cI=n=>ge(n)?n:n==null?"":dt(n)||qt(n)&&(n.toString===Qb||!_t(n.toString))?tv(n)?cI(n.value):JSON.stringify(n,ev,2):String(n),ev=(n,t)=>tv(t)?ev(n,t.value):Er(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[i,s],r)=>(e[lh(i,r)+" =>"]=s,e),{})}:iu(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>lh(e))}:Yn(t)?lh(t):qt(t)&&!dt(t)&&!Xb(t)?String(t):t,lh=(n,t="")=>{var e;return Yn(n)?`Symbol(${(e=n.description)!=null?e:t})`:n};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ln;class lI{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ln,!t&&ln&&(this.index=(ln.scopes||(ln.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].pause();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].resume();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].resume()}}run(t){if(this._active){const e=ln;try{return ln=this,t()}finally{ln=e}}}on(){ln=this}off(){ln=this.parent}stop(t){if(this._active){this._active=!1;let e,i;for(e=0,i=this.effects.length;e<i;e++)this.effects[e].stop();for(this.effects.length=0,e=0,i=this.cleanups.length;e<i;e++)this.cleanups[e]();if(this.cleanups.length=0,this.scopes){for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function uI(){return ln}let jt;const uh=new WeakSet;class nv{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ln&&ln.active&&ln.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,uh.has(this)&&(uh.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||sv(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Yg(this),rv(this);const t=jt,e=In;jt=this,In=!0;try{return this.fn()}finally{ov(this),jt=t,In=e,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)df(t);this.deps=this.depsTail=void 0,Yg(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?uh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Qh(this)&&this.run()}get dirty(){return Qh(this)}}let iv=0,Ho,zo;function sv(n,t=!1){if(n.flags|=8,t){n.next=zo,zo=n;return}n.next=Ho,Ho=n}function uf(){iv++}function hf(){if(--iv>0)return;if(zo){let t=zo;for(zo=void 0;t;){const e=t.next;t.next=void 0,t.flags&=-9,t=e}}let n;for(;Ho;){let t=Ho;for(Ho=void 0;t;){const e=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){n||(n=i)}t=e}}if(n)throw n}function rv(n){for(let t=n.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ov(n){let t,e=n.depsTail,i=e;for(;i;){const s=i.prevDep;i.version===-1?(i===e&&(e=s),df(i),hI(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}n.deps=t,n.depsTail=e}function Qh(n){for(let t=n.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(av(t.dep.computed)||t.dep.version!==t.version))return!0;return!!n._dirty}function av(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===oa))return;n.globalVersion=oa;const t=n.dep;if(n.flags|=2,t.version>0&&!n.isSSR&&n.deps&&!Qh(n)){n.flags&=-3;return}const e=jt,i=In;jt=n,In=!0;try{rv(n);const s=n.fn(n._value);(t.version===0||Xi(s,n._value))&&(n._value=s,t.version++)}catch(s){throw t.version++,s}finally{jt=e,In=i,ov(n),n.flags&=-3}}function df(n,t=!1){const{dep:e,prevSub:i,nextSub:s}=n;if(i&&(i.nextSub=s,n.prevSub=void 0),s&&(s.prevSub=i,n.nextSub=void 0),e.subs===n&&(e.subs=i,!i&&e.computed)){e.computed.flags&=-5;for(let r=e.computed.deps;r;r=r.nextDep)df(r,!0)}!t&&!--e.sc&&e.map&&e.map.delete(e.key)}function hI(n){const{prevDep:t,nextDep:e}=n;t&&(t.nextDep=e,n.prevDep=void 0),e&&(e.prevDep=t,n.nextDep=void 0)}let In=!0;const cv=[];function fs(){cv.push(In),In=!1}function ps(){const n=cv.pop();In=n===void 0?!0:n}function Yg(n){const{cleanup:t}=n;if(n.cleanup=void 0,t){const e=jt;jt=void 0;try{t()}finally{jt=e}}}let oa=0;class dI{constructor(t,e){this.sub=t,this.dep=e,this.version=e.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ff{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!jt||!In||jt===this.computed)return;let e=this.activeLink;if(e===void 0||e.sub!==jt)e=this.activeLink=new dI(jt,this),jt.deps?(e.prevDep=jt.depsTail,jt.depsTail.nextDep=e,jt.depsTail=e):jt.deps=jt.depsTail=e,lv(e);else if(e.version===-1&&(e.version=this.version,e.nextDep)){const i=e.nextDep;i.prevDep=e.prevDep,e.prevDep&&(e.prevDep.nextDep=i),e.prevDep=jt.depsTail,e.nextDep=void 0,jt.depsTail.nextDep=e,jt.depsTail=e,jt.deps===e&&(jt.deps=i)}return e}trigger(t){this.version++,oa++,this.notify(t)}notify(t){uf();try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{hf()}}}function lv(n){if(n.dep.sc++,n.sub.flags&4){const t=n.dep.computed;if(t&&!n.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)lv(i)}const e=n.dep.subs;e!==n&&(n.prevSub=e,e&&(e.nextSub=n)),n.dep.subs=n}}const Xh=new WeakMap,Vs=Symbol(""),Jh=Symbol(""),aa=Symbol("");function Fe(n,t,e){if(In&&jt){let i=Xh.get(n);i||Xh.set(n,i=new Map);let s=i.get(e);s||(i.set(e,s=new ff),s.map=i,s.key=e),s.track()}}function ui(n,t,e,i,s,r){const o=Xh.get(n);if(!o){oa++;return}const a=c=>{c&&c.trigger()};if(uf(),t==="clear")o.forEach(a);else{const c=dt(n),l=c&&af(e);if(c&&e==="length"){const h=Number(i);o.forEach((d,f)=>{(f==="length"||f===aa||!Yn(f)&&f>=h)&&a(d)})}else switch((e!==void 0||o.has(void 0))&&a(o.get(e)),l&&a(o.get(aa)),t){case"add":c?l&&a(o.get("length")):(a(o.get(Vs)),Er(n)&&a(o.get(Jh)));break;case"delete":c||(a(o.get(Vs)),Er(n)&&a(o.get(Jh)));break;case"set":Er(n)&&a(o.get(Vs));break}}hf()}function lr(n){const t=Nt(n);return t===n?t:(Fe(t,"iterate",aa),yn(n)?t:t.map(Be))}function cu(n){return Fe(n=Nt(n),"iterate",aa),n}const fI={__proto__:null,[Symbol.iterator](){return hh(this,Symbol.iterator,Be)},concat(...n){return lr(this).concat(...n.map(t=>dt(t)?lr(t):t))},entries(){return hh(this,"entries",n=>(n[1]=Be(n[1]),n))},every(n,t){return ni(this,"every",n,t,void 0,arguments)},filter(n,t){return ni(this,"filter",n,t,e=>e.map(Be),arguments)},find(n,t){return ni(this,"find",n,t,Be,arguments)},findIndex(n,t){return ni(this,"findIndex",n,t,void 0,arguments)},findLast(n,t){return ni(this,"findLast",n,t,Be,arguments)},findLastIndex(n,t){return ni(this,"findLastIndex",n,t,void 0,arguments)},forEach(n,t){return ni(this,"forEach",n,t,void 0,arguments)},includes(...n){return dh(this,"includes",n)},indexOf(...n){return dh(this,"indexOf",n)},join(n){return lr(this).join(n)},lastIndexOf(...n){return dh(this,"lastIndexOf",n)},map(n,t){return ni(this,"map",n,t,void 0,arguments)},pop(){return mo(this,"pop")},push(...n){return mo(this,"push",n)},reduce(n,...t){return Qg(this,"reduce",n,t)},reduceRight(n,...t){return Qg(this,"reduceRight",n,t)},shift(){return mo(this,"shift")},some(n,t){return ni(this,"some",n,t,void 0,arguments)},splice(...n){return mo(this,"splice",n)},toReversed(){return lr(this).toReversed()},toSorted(n){return lr(this).toSorted(n)},toSpliced(...n){return lr(this).toSpliced(...n)},unshift(...n){return mo(this,"unshift",n)},values(){return hh(this,"values",Be)}};function hh(n,t,e){const i=cu(n),s=i[t]();return i!==n&&!yn(n)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.value&&(r.value=e(r.value)),r}),s}const pI=Array.prototype;function ni(n,t,e,i,s,r){const o=cu(n),a=o!==n&&!yn(n),c=o[t];if(c!==pI[t]){const d=c.apply(n,r);return a?Be(d):d}let l=e;o!==n&&(a?l=function(d,f){return e.call(this,Be(d),f,n)}:e.length>2&&(l=function(d,f){return e.call(this,d,f,n)}));const h=c.call(o,l,i);return a&&s?s(h):h}function Qg(n,t,e,i){const s=cu(n);let r=e;return s!==n&&(yn(n)?e.length>3&&(r=function(o,a,c){return e.call(this,o,a,c,n)}):r=function(o,a,c){return e.call(this,o,Be(a),c,n)}),s[t](r,...i)}function dh(n,t,e){const i=Nt(n);Fe(i,"iterate",aa);const s=i[t](...e);return(s===-1||s===!1)&&mf(e[0])?(e[0]=Nt(e[0]),i[t](...e)):s}function mo(n,t,e=[]){fs(),uf();const i=Nt(n)[t].apply(n,e);return hf(),ps(),i}const gI=sf("__proto__,__v_isRef,__isVue"),uv=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Yn));function mI(n){Yn(n)||(n=String(n));const t=Nt(this);return Fe(t,"has",n),t.hasOwnProperty(n)}class hv{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,i){if(e==="__v_skip")return t.__v_skip;const s=this._isReadonly,r=this._isShallow;if(e==="__v_isReactive")return!s;if(e==="__v_isReadonly")return s;if(e==="__v_isShallow")return r;if(e==="__v_raw")return i===(s?r?AI:gv:r?pv:fv).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const o=dt(t);if(!s){let c;if(o&&(c=fI[e]))return c;if(e==="hasOwnProperty")return mI}const a=Reflect.get(t,e,We(t)?t:i);return(Yn(e)?uv.has(e):gI(e))||(s||Fe(t,"get",e),r)?a:We(a)?o&&af(e)?a:a.value:qt(a)?s?_v(a):lu(a):a}}class dv extends hv{constructor(t=!1){super(!1,t)}set(t,e,i,s){let r=t[e];if(!this._isShallow){const c=Hs(r);if(!yn(i)&&!Hs(i)&&(r=Nt(r),i=Nt(i)),!dt(t)&&We(r)&&!We(i))return c?!1:(r.value=i,!0)}const o=dt(t)&&af(e)?Number(e)<t.length:Vt(t,e),a=Reflect.set(t,e,i,We(t)?t:s);return t===Nt(s)&&(o?Xi(i,r)&&ui(t,"set",e,i):ui(t,"add",e,i)),a}deleteProperty(t,e){const i=Vt(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&i&&ui(t,"delete",e,void 0),s}has(t,e){const i=Reflect.has(t,e);return(!Yn(e)||!uv.has(e))&&Fe(t,"has",e),i}ownKeys(t){return Fe(t,"iterate",dt(t)?"length":Vs),Reflect.ownKeys(t)}}class _I extends hv{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const yI=new dv,bI=new _I,vI=new dv(!0);const Zh=n=>n,_c=n=>Reflect.getPrototypeOf(n);function wI(n,t,e){return function(...i){const s=this.__v_raw,r=Nt(s),o=Er(r),a=n==="entries"||n===Symbol.iterator&&o,c=n==="keys"&&o,l=s[n](...i),h=e?Zh:t?td:Be;return!t&&Fe(r,"iterate",c?Jh:Vs),{next(){const{value:d,done:f}=l.next();return f?{value:d,done:f}:{value:a?[h(d[0]),h(d[1])]:h(d),done:f}},[Symbol.iterator](){return this}}}}function yc(n){return function(...t){return n==="delete"?!1:n==="clear"?void 0:this}}function EI(n,t){const e={get(s){const r=this.__v_raw,o=Nt(r),a=Nt(s);n||(Xi(s,a)&&Fe(o,"get",s),Fe(o,"get",a));const{has:c}=_c(o),l=t?Zh:n?td:Be;if(c.call(o,s))return l(r.get(s));if(c.call(o,a))return l(r.get(a));r!==o&&r.get(s)},get size(){const s=this.__v_raw;return!n&&Fe(Nt(s),"iterate",Vs),Reflect.get(s,"size",s)},has(s){const r=this.__v_raw,o=Nt(r),a=Nt(s);return n||(Xi(s,a)&&Fe(o,"has",s),Fe(o,"has",a)),s===a?r.has(s):r.has(s)||r.has(a)},forEach(s,r){const o=this,a=o.__v_raw,c=Nt(a),l=t?Zh:n?td:Be;return!n&&Fe(c,"iterate",Vs),a.forEach((h,d)=>s.call(r,l(h),l(d),o))}};return je(e,n?{add:yc("add"),set:yc("set"),delete:yc("delete"),clear:yc("clear")}:{add(s){!t&&!yn(s)&&!Hs(s)&&(s=Nt(s));const r=Nt(this);return _c(r).has.call(r,s)||(r.add(s),ui(r,"add",s,s)),this},set(s,r){!t&&!yn(r)&&!Hs(r)&&(r=Nt(r));const o=Nt(this),{has:a,get:c}=_c(o);let l=a.call(o,s);l||(s=Nt(s),l=a.call(o,s));const h=c.call(o,s);return o.set(s,r),l?Xi(r,h)&&ui(o,"set",s,r):ui(o,"add",s,r),this},delete(s){const r=Nt(this),{has:o,get:a}=_c(r);let c=o.call(r,s);c||(s=Nt(s),c=o.call(r,s)),a&&a.call(r,s);const l=r.delete(s);return c&&ui(r,"delete",s,void 0),l},clear(){const s=Nt(this),r=s.size!==0,o=s.clear();return r&&ui(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=wI(s,n,t)}),e}function pf(n,t){const e=EI(n,t);return(i,s,r)=>s==="__v_isReactive"?!n:s==="__v_isReadonly"?n:s==="__v_raw"?i:Reflect.get(Vt(e,s)&&s in i?e:i,s,r)}const TI={get:pf(!1,!1)},xI={get:pf(!1,!0)},II={get:pf(!0,!1)};const fv=new WeakMap,pv=new WeakMap,gv=new WeakMap,AI=new WeakMap;function SI(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function PI(n){return n.__v_skip||!Object.isExtensible(n)?0:SI(Xx(n))}function lu(n){return Hs(n)?n:gf(n,!1,yI,TI,fv)}function mv(n){return gf(n,!1,vI,xI,pv)}function _v(n){return gf(n,!0,bI,II,gv)}function gf(n,t,e,i,s){if(!qt(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const r=s.get(n);if(r)return r;const o=PI(n);if(o===0)return n;const a=new Proxy(n,o===2?i:e);return s.set(n,a),a}function Tr(n){return Hs(n)?Tr(n.__v_raw):!!(n&&n.__v_isReactive)}function Hs(n){return!!(n&&n.__v_isReadonly)}function yn(n){return!!(n&&n.__v_isShallow)}function mf(n){return n?!!n.__v_raw:!1}function Nt(n){const t=n&&n.__v_raw;return t?Nt(t):n}function CI(n){return!Vt(n,"__v_skip")&&Object.isExtensible(n)&&Jb(n,"__v_skip",!0),n}const Be=n=>qt(n)?lu(n):n,td=n=>qt(n)?_v(n):n;function We(n){return n?n.__v_isRef===!0:!1}function yv(n){return bv(n,!1)}function RI(n){return bv(n,!0)}function bv(n,t){return We(n)?n:new kI(n,t)}class kI{constructor(t,e){this.dep=new ff,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=e?t:Nt(t),this._value=e?t:Be(t),this.__v_isShallow=e}get value(){return this.dep.track(),this._value}set value(t){const e=this._rawValue,i=this.__v_isShallow||yn(t)||Hs(t);t=i?t:Nt(t),Xi(t,e)&&(this._rawValue=t,this._value=i?t:Be(t),this.dep.trigger())}}function xr(n){return We(n)?n.value:n}const DI={get:(n,t,e)=>t==="__v_raw"?n:xr(Reflect.get(n,t,e)),set:(n,t,e,i)=>{const s=n[t];return We(s)&&!We(e)?(s.value=e,!0):Reflect.set(n,t,e,i)}};function vv(n){return Tr(n)?n:new Proxy(n,DI)}class MI{constructor(t,e,i){this.fn=t,this.setter=e,this._value=void 0,this.dep=new ff(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=oa-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!e,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&jt!==this)return sv(this,!0),!0}get value(){const t=this.dep.track();return av(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function OI(n,t,e=!1){let i,s;return _t(n)?i=n:(i=n.get,s=n.set),new MI(i,s,e)}const bc={},yl=new WeakMap;let Cs;function LI(n,t=!1,e=Cs){if(e){let i=yl.get(e);i||yl.set(e,i=[]),i.push(n)}}function NI(n,t,e=Wt){const{immediate:i,deep:s,once:r,scheduler:o,augmentJob:a,call:c}=e,l=M=>s?M:yn(M)||s===!1||s===0?hi(M,1):hi(M);let h,d,f,g,_=!1,y=!1;if(We(n)?(d=()=>n.value,_=yn(n)):Tr(n)?(d=()=>l(n),_=!0):dt(n)?(y=!0,_=n.some(M=>Tr(M)||yn(M)),d=()=>n.map(M=>{if(We(M))return M.value;if(Tr(M))return l(M);if(_t(M))return c?c(M,2):M()})):_t(n)?t?d=c?()=>c(n,2):n:d=()=>{if(f){fs();try{f()}finally{ps()}}const M=Cs;Cs=h;try{return c?c(n,3,[g]):n(g)}finally{Cs=M}}:d=zn,t&&s){const M=d,N=s===!0?1/0:s;d=()=>hi(M(),N)}const v=uI(),I=()=>{h.stop(),v&&v.active&&of(v.effects,h)};if(r&&t){const M=t;t=(...N)=>{M(...N),I()}}let A=y?new Array(n.length).fill(bc):bc;const k=M=>{if(!(!(h.flags&1)||!h.dirty&&!M))if(t){const N=h.run();if(s||_||(y?N.some((B,T)=>Xi(B,A[T])):Xi(N,A))){f&&f();const B=Cs;Cs=h;try{const T=[N,A===bc?void 0:y&&A[0]===bc?[]:A,g];c?c(t,3,T):t(...T),A=N}finally{Cs=B}}}else h.run()};return a&&a(k),h=new nv(d),h.scheduler=o?()=>o(k,!1):k,g=M=>LI(M,!1,h),f=h.onStop=()=>{const M=yl.get(h);if(M){if(c)c(M,4);else for(const N of M)N();yl.delete(h)}},t?i?k(!0):A=h.run():o?o(k.bind(null,!0),!0):h.run(),I.pause=h.pause.bind(h),I.resume=h.resume.bind(h),I.stop=I,I}function hi(n,t=1/0,e){if(t<=0||!qt(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),t--,We(n))hi(n.value,t,e);else if(dt(n))for(let i=0;i<n.length;i++)hi(n[i],t,e);else if(iu(n)||Er(n))n.forEach(i=>{hi(i,t,e)});else if(Xb(n)){for(const i in n)hi(n[i],t,e);for(const i of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,i)&&hi(n[i],t,e)}return n}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ka(n,t,e,i){try{return i?n(...i):n()}catch(s){uu(s,t,e)}}function Qn(n,t,e,i){if(_t(n)){const s=ka(n,t,e,i);return s&&Yb(s)&&s.catch(r=>{uu(r,t,e)}),s}if(dt(n)){const s=[];for(let r=0;r<n.length;r++)s.push(Qn(n[r],t,e,i));return s}}function uu(n,t,e,i=!0){const s=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Wt;if(t){let a=t.parent;const c=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${e}`;for(;a;){const h=a.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](n,c,l)===!1)return}a=a.parent}if(r){fs(),ka(r,null,10,[n,c,l]),ps();return}}VI(n,e,s,i,o)}function VI(n,t,e,i=!0,s=!1){if(s)throw n;console.error(n)}const Ye=[];let On=-1;const Ir=[];let Bi=null,pr=0;const wv=Promise.resolve();let bl=null;function _f(n){const t=bl||wv;return n?t.then(this?n.bind(this):n):t}function FI(n){let t=On+1,e=Ye.length;for(;t<e;){const i=t+e>>>1,s=Ye[i],r=ca(s);r<n||r===n&&s.flags&2?t=i+1:e=i}return t}function yf(n){if(!(n.flags&1)){const t=ca(n),e=Ye[Ye.length-1];!e||!(n.flags&2)&&t>=ca(e)?Ye.push(n):Ye.splice(FI(t),0,n),n.flags|=1,Ev()}}function Ev(){bl||(bl=wv.then(xv))}function BI(n){dt(n)?Ir.push(...n):Bi&&n.id===-1?Bi.splice(pr+1,0,n):n.flags&1||(Ir.push(n),n.flags|=1),Ev()}function Xg(n,t,e=On+1){for(;e<Ye.length;e++){const i=Ye[e];if(i&&i.flags&2){if(n&&i.id!==n.uid)continue;Ye.splice(e,1),e--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Tv(n){if(Ir.length){const t=[...new Set(Ir)].sort((e,i)=>ca(e)-ca(i));if(Ir.length=0,Bi){Bi.push(...t);return}for(Bi=t,pr=0;pr<Bi.length;pr++){const e=Bi[pr];e.flags&4&&(e.flags&=-2),e.flags&8||e(),e.flags&=-2}Bi=null,pr=0}}const ca=n=>n.id==null?n.flags&2?-1:1/0:n.id;function xv(n){try{for(On=0;On<Ye.length;On++){const t=Ye[On];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ka(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;On<Ye.length;On++){const t=Ye[On];t&&(t.flags&=-2)}On=-1,Ye.length=0,Tv(),bl=null,(Ye.length||Ir.length)&&xv()}}let hn=null,Iv=null;function vl(n){const t=hn;return hn=n,Iv=n&&n.type.__scopeId||null,t}function UI(n,t=hn,e){if(!t||n._n)return n;const i=(...s)=>{i._d&&am(-1);const r=vl(t);let o;try{o=n(...s)}finally{vl(r),i._d&&am(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function RH(n,t){if(hn===null)return n;const e=pu(hn),i=n.dirs||(n.dirs=[]);for(let s=0;s<t.length;s++){let[r,o,a,c=Wt]=t[s];r&&(_t(r)&&(r={mounted:r,updated:r}),r.deep&&hi(o),i.push({dir:r,instance:e,value:o,oldValue:void 0,arg:a,modifiers:c}))}return n}function Ts(n,t,e,i){const s=n.dirs,r=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let c=a.dir[i];c&&(fs(),Qn(c,e,8,[n.el,a,n,t]),ps())}}const HI=Symbol("_vte"),zI=n=>n.__isTeleport;function bf(n,t){n.shapeFlag&6&&n.component?(n.transition=t,bf(n.component.subTree,t)):n.shapeFlag&128?(n.ssContent.transition=t.clone(n.ssContent),n.ssFallback.transition=t.clone(n.ssFallback)):n.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Av(n,t){return _t(n)?je({name:n.name},t,{setup:n}):n}function Sv(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function wl(n,t,e,i,s=!1){if(dt(n)){n.forEach((_,y)=>wl(_,t&&(dt(t)?t[y]:t),e,i,s));return}if(Wo(i)&&!s){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&wl(n,t,e,i.component.subTree);return}const r=i.shapeFlag&4?pu(i.component):i.el,o=s?null:r,{i:a,r:c}=n,l=t&&t.r,h=a.refs===Wt?a.refs={}:a.refs,d=a.setupState,f=Nt(d),g=d===Wt?()=>!1:_=>Vt(f,_);if(l!=null&&l!==c&&(ge(l)?(h[l]=null,g(l)&&(d[l]=null)):We(l)&&(l.value=null)),_t(c))ka(c,a,12,[o,h]);else{const _=ge(c),y=We(c);if(_||y){const v=()=>{if(n.f){const I=_?g(c)?d[c]:h[c]:c.value;s?dt(I)&&of(I,r):dt(I)?I.includes(r)||I.push(r):_?(h[c]=[r],g(c)&&(d[c]=h[c])):(c.value=[r],n.k&&(h[n.k]=c.value))}else _?(h[c]=o,g(c)&&(d[c]=o)):y&&(c.value=o,n.k&&(h[n.k]=o))};o?(v.id=-1,an(v,e)):v()}}}ou().requestIdleCallback;ou().cancelIdleCallback;const Wo=n=>!!n.type.__asyncLoader,Pv=n=>n.type.__isKeepAlive;function WI(n,t){Cv(n,"a",t)}function jI(n,t){Cv(n,"da",t)}function Cv(n,t,e=He){const i=n.__wdc||(n.__wdc=()=>{let s=e;for(;s;){if(s.isDeactivated)return;s=s.parent}return n()});if(hu(t,i,e),e){let s=e.parent;for(;s&&s.parent;)Pv(s.parent.vnode)&&$I(i,t,e,s),s=s.parent}}function $I(n,t,e,i){const s=hu(t,n,i,!0);kv(()=>{of(i[t],s)},e)}function hu(n,t,e=He,i=!1){if(e){const s=e[n]||(e[n]=[]),r=t.__weh||(t.__weh=(...o)=>{fs();const a=Da(e),c=Qn(t,e,n,o);return a(),ps(),c});return i?s.unshift(r):s.push(r),r}}const Ii=n=>(t,e=He)=>{(!ua||n==="sp")&&hu(n,(...i)=>t(...i),e)},qI=Ii("bm"),Rv=Ii("m"),KI=Ii("bu"),GI=Ii("u"),YI=Ii("bum"),kv=Ii("um"),QI=Ii("sp"),XI=Ii("rtg"),JI=Ii("rtc");function ZI(n,t=He){hu("ec",n,t)}const tA="components";function eA(n,t){return iA(tA,n,!0,t)||n}const nA=Symbol.for("v-ndc");function iA(n,t,e=!0,i=!1){const s=hn||He;if(s){const r=s.type;{const a=$A(r,!1);if(a&&(a===t||a===bn(t)||a===ru(bn(t))))return r}const o=Jg(s[n]||r[n],t)||Jg(s.appContext[n],t);return!o&&i?r:o}}function Jg(n,t){return n&&(n[t]||n[bn(t)]||n[ru(bn(t))])}function kH(n,t,e,i){let s;const r=e,o=dt(n);if(o||ge(n)){const a=o&&Tr(n);let c=!1;a&&(c=!yn(n),n=cu(n)),s=new Array(n.length);for(let l=0,h=n.length;l<h;l++)s[l]=t(c?Be(n[l]):n[l],l,void 0,r)}else if(typeof n=="number"){s=new Array(n);for(let a=0;a<n;a++)s[a]=t(a+1,a,void 0,r)}else if(qt(n))if(n[Symbol.iterator])s=Array.from(n,(a,c)=>t(a,c,void 0,r));else{const a=Object.keys(n);s=new Array(a.length);for(let c=0,l=a.length;c<l;c++){const h=a[c];s[c]=t(n[h],h,c,r)}}else s=[];return s}const ed=n=>n?Zv(n)?pu(n):ed(n.parent):null,jo=je(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>ed(n.parent),$root:n=>ed(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>Mv(n),$forceUpdate:n=>n.f||(n.f=()=>{yf(n.update)}),$nextTick:n=>n.n||(n.n=_f.bind(n.proxy)),$watch:n=>xA.bind(n)}),fh=(n,t)=>n!==Wt&&!n.__isScriptSetup&&Vt(n,t),sA={get({_:n},t){if(t==="__v_skip")return!0;const{ctx:e,setupState:i,data:s,props:r,accessCache:o,type:a,appContext:c}=n;let l;if(t[0]!=="$"){const g=o[t];if(g!==void 0)switch(g){case 1:return i[t];case 2:return s[t];case 4:return e[t];case 3:return r[t]}else{if(fh(i,t))return o[t]=1,i[t];if(s!==Wt&&Vt(s,t))return o[t]=2,s[t];if((l=n.propsOptions[0])&&Vt(l,t))return o[t]=3,r[t];if(e!==Wt&&Vt(e,t))return o[t]=4,e[t];nd&&(o[t]=0)}}const h=jo[t];let d,f;if(h)return t==="$attrs"&&Fe(n.attrs,"get",""),h(n);if((d=a.__cssModules)&&(d=d[t]))return d;if(e!==Wt&&Vt(e,t))return o[t]=4,e[t];if(f=c.config.globalProperties,Vt(f,t))return f[t]},set({_:n},t,e){const{data:i,setupState:s,ctx:r}=n;return fh(s,t)?(s[t]=e,!0):i!==Wt&&Vt(i,t)?(i[t]=e,!0):Vt(n.props,t)||t[0]==="$"&&t.slice(1)in n?!1:(r[t]=e,!0)},has({_:{data:n,setupState:t,accessCache:e,ctx:i,appContext:s,propsOptions:r}},o){let a;return!!e[o]||n!==Wt&&Vt(n,o)||fh(t,o)||(a=r[0])&&Vt(a,o)||Vt(i,o)||Vt(jo,o)||Vt(s.config.globalProperties,o)},defineProperty(n,t,e){return e.get!=null?n._.accessCache[t]=0:Vt(e,"value")&&this.set(n,t,e.value,null),Reflect.defineProperty(n,t,e)}};function Zg(n){return dt(n)?n.reduce((t,e)=>(t[e]=null,t),{}):n}let nd=!0;function rA(n){const t=Mv(n),e=n.proxy,i=n.ctx;nd=!1,t.beforeCreate&&tm(t.beforeCreate,n,"bc");const{data:s,computed:r,methods:o,watch:a,provide:c,inject:l,created:h,beforeMount:d,mounted:f,beforeUpdate:g,updated:_,activated:y,deactivated:v,beforeDestroy:I,beforeUnmount:A,destroyed:k,unmounted:M,render:N,renderTracked:B,renderTriggered:T,errorCaptured:b,serverPrefetch:E,expose:x,inheritAttrs:C,components:D,directives:S,filters:Ct}=t;if(l&&oA(l,i,null),o)for(const it in o){const lt=o[it];_t(lt)&&(i[it]=lt.bind(e))}if(s){const it=s.call(e,e);qt(it)&&(n.data=lu(it))}if(nd=!0,r)for(const it in r){const lt=r[it],Mt=_t(lt)?lt.bind(e,e):_t(lt.get)?lt.get.bind(e,e):zn,be=!_t(lt)&&_t(lt.set)?lt.set.bind(e):zn,Ee=Tn({get:Mt,set:be});Object.defineProperty(i,it,{enumerable:!0,configurable:!0,get:()=>Ee.value,set:Ot=>Ee.value=Ot})}if(a)for(const it in a)Dv(a[it],i,e,it);if(c){const it=_t(c)?c.call(e):c;Reflect.ownKeys(it).forEach(lt=>{Wc(lt,it[lt])})}h&&tm(h,n,"c");function ft(it,lt){dt(lt)?lt.forEach(Mt=>it(Mt.bind(e))):lt&&it(lt.bind(e))}if(ft(qI,d),ft(Rv,f),ft(KI,g),ft(GI,_),ft(WI,y),ft(jI,v),ft(ZI,b),ft(JI,B),ft(XI,T),ft(YI,A),ft(kv,M),ft(QI,E),dt(x))if(x.length){const it=n.exposed||(n.exposed={});x.forEach(lt=>{Object.defineProperty(it,lt,{get:()=>e[lt],set:Mt=>e[lt]=Mt})})}else n.exposed||(n.exposed={});N&&n.render===zn&&(n.render=N),C!=null&&(n.inheritAttrs=C),D&&(n.components=D),S&&(n.directives=S),E&&Sv(n)}function oA(n,t,e=zn){dt(n)&&(n=id(n));for(const i in n){const s=n[i];let r;qt(s)?"default"in s?r=An(s.from||i,s.default,!0):r=An(s.from||i):r=An(s),We(r)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[i]=r}}function tm(n,t,e){Qn(dt(n)?n.map(i=>i.bind(t.proxy)):n.bind(t.proxy),t,e)}function Dv(n,t,e,i){let s=i.includes(".")?Kv(e,i):()=>e[i];if(ge(n)){const r=t[n];_t(r)&&jc(s,r)}else if(_t(n))jc(s,n.bind(e));else if(qt(n))if(dt(n))n.forEach(r=>Dv(r,t,e,i));else{const r=_t(n.handler)?n.handler.bind(e):t[n.handler];_t(r)&&jc(s,r,n)}}function Mv(n){const t=n.type,{mixins:e,extends:i}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=n.appContext,a=r.get(t);let c;return a?c=a:!s.length&&!e&&!i?c=t:(c={},s.length&&s.forEach(l=>El(c,l,o,!0)),El(c,t,o)),qt(t)&&r.set(t,c),c}function El(n,t,e,i=!1){const{mixins:s,extends:r}=t;r&&El(n,r,e,!0),s&&s.forEach(o=>El(n,o,e,!0));for(const o in t)if(!(i&&o==="expose")){const a=aA[o]||e&&e[o];n[o]=a?a(n[o],t[o]):t[o]}return n}const aA={data:em,props:nm,emits:nm,methods:So,computed:So,beforeCreate:Ge,created:Ge,beforeMount:Ge,mounted:Ge,beforeUpdate:Ge,updated:Ge,beforeDestroy:Ge,beforeUnmount:Ge,destroyed:Ge,unmounted:Ge,activated:Ge,deactivated:Ge,errorCaptured:Ge,serverPrefetch:Ge,components:So,directives:So,watch:lA,provide:em,inject:cA};function em(n,t){return t?n?function(){return je(_t(n)?n.call(this,this):n,_t(t)?t.call(this,this):t)}:t:n}function cA(n,t){return So(id(n),id(t))}function id(n){if(dt(n)){const t={};for(let e=0;e<n.length;e++)t[n[e]]=n[e];return t}return n}function Ge(n,t){return n?[...new Set([].concat(n,t))]:t}function So(n,t){return n?je(Object.create(null),n,t):t}function nm(n,t){return n?dt(n)&&dt(t)?[...new Set([...n,...t])]:je(Object.create(null),Zg(n),Zg(t??{})):t}function lA(n,t){if(!n)return t;if(!t)return n;const e=je(Object.create(null),n);for(const i in t)e[i]=Ge(n[i],t[i]);return e}function Ov(){return{app:null,config:{isNativeTag:Yx,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uA=0;function hA(n,t){return function(i,s=null){_t(i)||(i=je({},i)),s!=null&&!qt(s)&&(s=null);const r=Ov(),o=new WeakSet,a=[];let c=!1;const l=r.app={_uid:uA++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:KA,get config(){return r.config},set config(h){},use(h,...d){return o.has(h)||(h&&_t(h.install)?(o.add(h),h.install(l,...d)):_t(h)&&(o.add(h),h(l,...d))),l},mixin(h){return r.mixins.includes(h)||r.mixins.push(h),l},component(h,d){return d?(r.components[h]=d,l):r.components[h]},directive(h,d){return d?(r.directives[h]=d,l):r.directives[h]},mount(h,d,f){if(!c){const g=l._ceVNode||Qe(i,s);return g.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),n(g,h,f),c=!0,l._container=h,h.__vue_app__=l,pu(g.component)}},onUnmount(h){a.push(h)},unmount(){c&&(Qn(a,l._instance,16),n(null,l._container),delete l._container.__vue_app__)},provide(h,d){return r.provides[h]=d,l},runWithContext(h){const d=Ar;Ar=l;try{return h()}finally{Ar=d}}};return l}}let Ar=null;function Wc(n,t){if(He){let e=He.provides;const i=He.parent&&He.parent.provides;i===e&&(e=He.provides=Object.create(i)),e[n]=t}}function An(n,t,e=!1){const i=He||hn;if(i||Ar){const s=Ar?Ar._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&n in s)return s[n];if(arguments.length>1)return e&&_t(t)?t.call(i&&i.proxy):t}}const Lv={},Nv=()=>Object.create(Lv),Vv=n=>Object.getPrototypeOf(n)===Lv;function dA(n,t,e,i=!1){const s={},r=Nv();n.propsDefaults=Object.create(null),Fv(n,t,s,r);for(const o in n.propsOptions[0])o in s||(s[o]=void 0);e?n.props=i?s:mv(s):n.type.props?n.props=s:n.props=r,n.attrs=r}function fA(n,t,e,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=n,a=Nt(s),[c]=n.propsOptions;let l=!1;if((i||o>0)&&!(o&16)){if(o&8){const h=n.vnode.dynamicProps;for(let d=0;d<h.length;d++){let f=h[d];if(du(n.emitsOptions,f))continue;const g=t[f];if(c)if(Vt(r,f))g!==r[f]&&(r[f]=g,l=!0);else{const _=bn(f);s[_]=sd(c,a,_,g,n,!1)}else g!==r[f]&&(r[f]=g,l=!0)}}}else{Fv(n,t,s,r)&&(l=!0);let h;for(const d in a)(!t||!Vt(t,d)&&((h=Js(d))===d||!Vt(t,h)))&&(c?e&&(e[d]!==void 0||e[h]!==void 0)&&(s[d]=sd(c,a,d,void 0,n,!0)):delete s[d]);if(r!==a)for(const d in r)(!t||!Vt(t,d))&&(delete r[d],l=!0)}l&&ui(n.attrs,"set","")}function Fv(n,t,e,i){const[s,r]=n.propsOptions;let o=!1,a;if(t)for(let c in t){if(Uo(c))continue;const l=t[c];let h;s&&Vt(s,h=bn(c))?!r||!r.includes(h)?e[h]=l:(a||(a={}))[h]=l:du(n.emitsOptions,c)||(!(c in i)||l!==i[c])&&(i[c]=l,o=!0)}if(r){const c=Nt(e),l=a||Wt;for(let h=0;h<r.length;h++){const d=r[h];e[d]=sd(s,c,d,l[d],n,!Vt(l,d))}}return o}function sd(n,t,e,i,s,r){const o=n[e];if(o!=null){const a=Vt(o,"default");if(a&&i===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&_t(c)){const{propsDefaults:l}=s;if(e in l)i=l[e];else{const h=Da(s);i=l[e]=c.call(null,t),h()}}else i=c;s.ce&&s.ce._setProp(e,i)}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===Js(e))&&(i=!0))}return i}const pA=new WeakMap;function Bv(n,t,e=!1){const i=e?pA:t.propsCache,s=i.get(n);if(s)return s;const r=n.props,o={},a=[];let c=!1;if(!_t(n)){const h=d=>{c=!0;const[f,g]=Bv(d,t,!0);je(o,f),g&&a.push(...g)};!e&&t.mixins.length&&t.mixins.forEach(h),n.extends&&h(n.extends),n.mixins&&n.mixins.forEach(h)}if(!r&&!c)return qt(n)&&i.set(n,wr),wr;if(dt(r))for(let h=0;h<r.length;h++){const d=bn(r[h]);im(d)&&(o[d]=Wt)}else if(r)for(const h in r){const d=bn(h);if(im(d)){const f=r[h],g=o[d]=dt(f)||_t(f)?{type:f}:je({},f),_=g.type;let y=!1,v=!0;if(dt(_))for(let I=0;I<_.length;++I){const A=_[I],k=_t(A)&&A.name;if(k==="Boolean"){y=!0;break}else k==="String"&&(v=!1)}else y=_t(_)&&_.name==="Boolean";g[0]=y,g[1]=v,(y||Vt(g,"default"))&&a.push(d)}}const l=[o,a];return qt(n)&&i.set(n,l),l}function im(n){return n[0]!=="$"&&!Uo(n)}const Uv=n=>n[0]==="_"||n==="$stable",vf=n=>dt(n)?n.map(Fn):[Fn(n)],gA=(n,t,e)=>{if(t._n)return t;const i=UI((...s)=>vf(t(...s)),e);return i._c=!1,i},Hv=(n,t,e)=>{const i=n._ctx;for(const s in n){if(Uv(s))continue;const r=n[s];if(_t(r))t[s]=gA(s,r,i);else if(r!=null){const o=vf(r);t[s]=()=>o}}},zv=(n,t)=>{const e=vf(t);n.slots.default=()=>e},Wv=(n,t,e)=>{for(const i in t)(e||i!=="_")&&(n[i]=t[i])},mA=(n,t,e)=>{const i=n.slots=Nv();if(n.vnode.shapeFlag&32){const s=t._;s?(Wv(i,t,e),e&&Jb(i,"_",s,!0)):Hv(t,i)}else t&&zv(n,t)},_A=(n,t,e)=>{const{vnode:i,slots:s}=n;let r=!0,o=Wt;if(i.shapeFlag&32){const a=t._;a?e&&a===1?r=!1:Wv(s,t,e):(r=!t.$stable,Hv(t,s)),o=t}else t&&(zv(n,t),o={default:1});if(r)for(const a in s)!Uv(a)&&o[a]==null&&delete s[a]},an=kA;function yA(n){return bA(n)}function bA(n,t){const e=ou();e.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:a,createComment:c,setText:l,setElementText:h,parentNode:d,nextSibling:f,setScopeId:g=zn,insertStaticContent:_}=n,y=(P,R,O,H=null,$=null,W=null,Q=void 0,G=null,K=!!R.dynamicChildren)=>{if(P===R)return;P&&!_o(P,R)&&(H=U(P),Ot(P,$,W,!0),P=null),R.patchFlag===-2&&(K=!1,R.dynamicChildren=null);const{type:q,ref:ot,shapeFlag:J}=R;switch(q){case fu:v(P,R,O,H);break;case zs:I(P,R,O,H);break;case $c:P==null&&A(R,O,H,Q);break;case Vn:D(P,R,O,H,$,W,Q,G,K);break;default:J&1?N(P,R,O,H,$,W,Q,G,K):J&6?S(P,R,O,H,$,W,Q,G,K):(J&64||J&128)&&q.process(P,R,O,H,$,W,Q,G,K,nt)}ot!=null&&$&&wl(ot,P&&P.ref,W,R||P,!R)},v=(P,R,O,H)=>{if(P==null)i(R.el=a(R.children),O,H);else{const $=R.el=P.el;R.children!==P.children&&l($,R.children)}},I=(P,R,O,H)=>{P==null?i(R.el=c(R.children||""),O,H):R.el=P.el},A=(P,R,O,H)=>{[P.el,P.anchor]=_(P.children,R,O,H,P.el,P.anchor)},k=({el:P,anchor:R},O,H)=>{let $;for(;P&&P!==R;)$=f(P),i(P,O,H),P=$;i(R,O,H)},M=({el:P,anchor:R})=>{let O;for(;P&&P!==R;)O=f(P),s(P),P=O;s(R)},N=(P,R,O,H,$,W,Q,G,K)=>{R.type==="svg"?Q="svg":R.type==="math"&&(Q="mathml"),P==null?B(R,O,H,$,W,Q,G,K):E(P,R,$,W,Q,G,K)},B=(P,R,O,H,$,W,Q,G)=>{let K,q;const{props:ot,shapeFlag:J,transition:st,dirs:ut}=P;if(K=P.el=o(P.type,W,ot&&ot.is,ot),J&8?h(K,P.children):J&16&&b(P.children,K,null,H,$,ph(P,W),Q,G),ut&&Ts(P,null,H,"created"),T(K,P,P.scopeId,Q,H),ot){for(const yt in ot)yt!=="value"&&!Uo(yt)&&r(K,yt,null,ot[yt],W,H);"value"in ot&&r(K,"value",null,ot.value,W),(q=ot.onVnodeBeforeMount)&&Dn(q,H,P)}ut&&Ts(P,null,H,"beforeMount");const at=vA($,st);at&&st.beforeEnter(K),i(K,R,O),((q=ot&&ot.onVnodeMounted)||at||ut)&&an(()=>{q&&Dn(q,H,P),at&&st.enter(K),ut&&Ts(P,null,H,"mounted")},$)},T=(P,R,O,H,$)=>{if(O&&g(P,O),H)for(let W=0;W<H.length;W++)g(P,H[W]);if($){let W=$.subTree;if(R===W||Yv(W.type)&&(W.ssContent===R||W.ssFallback===R)){const Q=$.vnode;T(P,Q,Q.scopeId,Q.slotScopeIds,$.parent)}}},b=(P,R,O,H,$,W,Q,G,K=0)=>{for(let q=K;q<P.length;q++){const ot=P[q]=G?Ui(P[q]):Fn(P[q]);y(null,ot,R,O,H,$,W,Q,G)}},E=(P,R,O,H,$,W,Q)=>{const G=R.el=P.el;let{patchFlag:K,dynamicChildren:q,dirs:ot}=R;K|=P.patchFlag&16;const J=P.props||Wt,st=R.props||Wt;let ut;if(O&&xs(O,!1),(ut=st.onVnodeBeforeUpdate)&&Dn(ut,O,R,P),ot&&Ts(R,P,O,"beforeUpdate"),O&&xs(O,!0),(J.innerHTML&&st.innerHTML==null||J.textContent&&st.textContent==null)&&h(G,""),q?x(P.dynamicChildren,q,G,O,H,ph(R,$),W):Q||lt(P,R,G,null,O,H,ph(R,$),W,!1),K>0){if(K&16)C(G,J,st,O,$);else if(K&2&&J.class!==st.class&&r(G,"class",null,st.class,$),K&4&&r(G,"style",J.style,st.style,$),K&8){const at=R.dynamicProps;for(let yt=0;yt<at.length;yt++){const St=at[yt],ke=J[St],Te=st[St];(Te!==ke||St==="value")&&r(G,St,ke,Te,$,O)}}K&1&&P.children!==R.children&&h(G,R.children)}else!Q&&q==null&&C(G,J,st,O,$);((ut=st.onVnodeUpdated)||ot)&&an(()=>{ut&&Dn(ut,O,R,P),ot&&Ts(R,P,O,"updated")},H)},x=(P,R,O,H,$,W,Q)=>{for(let G=0;G<R.length;G++){const K=P[G],q=R[G],ot=K.el&&(K.type===Vn||!_o(K,q)||K.shapeFlag&70)?d(K.el):O;y(K,q,ot,null,H,$,W,Q,!0)}},C=(P,R,O,H,$)=>{if(R!==O){if(R!==Wt)for(const W in R)!Uo(W)&&!(W in O)&&r(P,W,R[W],null,$,H);for(const W in O){if(Uo(W))continue;const Q=O[W],G=R[W];Q!==G&&W!=="value"&&r(P,W,G,Q,$,H)}"value"in O&&r(P,"value",R.value,O.value,$)}},D=(P,R,O,H,$,W,Q,G,K)=>{const q=R.el=P?P.el:a(""),ot=R.anchor=P?P.anchor:a("");let{patchFlag:J,dynamicChildren:st,slotScopeIds:ut}=R;ut&&(G=G?G.concat(ut):ut),P==null?(i(q,O,H),i(ot,O,H),b(R.children||[],O,ot,$,W,Q,G,K)):J>0&&J&64&&st&&P.dynamicChildren?(x(P.dynamicChildren,st,O,$,W,Q,G),(R.key!=null||$&&R===$.subTree)&&jv(P,R,!0)):lt(P,R,O,ot,$,W,Q,G,K)},S=(P,R,O,H,$,W,Q,G,K)=>{R.slotScopeIds=G,P==null?R.shapeFlag&512?$.ctx.activate(R,O,H,Q,K):Ct(R,O,H,$,W,Q,K):wt(P,R,K)},Ct=(P,R,O,H,$,W,Q)=>{const G=P.component=UA(P,H,$);if(Pv(P)&&(G.ctx.renderer=nt),HA(G,!1,Q),G.asyncDep){if($&&$.registerDep(G,ft,Q),!P.el){const K=G.subTree=Qe(zs);I(null,K,R,O)}}else ft(G,P,R,O,$,W,Q)},wt=(P,R,O)=>{const H=R.component=P.component;if(CA(P,R,O))if(H.asyncDep&&!H.asyncResolved){it(H,R,O);return}else H.next=R,H.update();else R.el=P.el,H.vnode=R},ft=(P,R,O,H,$,W,Q)=>{const G=()=>{if(P.isMounted){let{next:J,bu:st,u:ut,parent:at,vnode:yt}=P;{const De=$v(P);if(De){J&&(J.el=yt.el,it(P,J,Q)),De.asyncDep.then(()=>{P.isUnmounted||G()});return}}let St=J,ke;xs(P,!1),J?(J.el=yt.el,it(P,J,Q)):J=yt,st&&zc(st),(ke=J.props&&J.props.onVnodeBeforeUpdate)&&Dn(ke,at,J,yt),xs(P,!0);const Te=rm(P),pn=P.subTree;P.subTree=Te,y(pn,Te,d(pn.el),U(pn),P,$,W),J.el=Te.el,St===null&&RA(P,Te.el),ut&&an(ut,$),(ke=J.props&&J.props.onVnodeUpdated)&&an(()=>Dn(ke,at,J,yt),$)}else{let J;const{el:st,props:ut}=R,{bm:at,m:yt,parent:St,root:ke,type:Te}=P,pn=Wo(R);xs(P,!1),at&&zc(at),!pn&&(J=ut&&ut.onVnodeBeforeMount)&&Dn(J,St,R),xs(P,!0);{ke.ce&&ke.ce._injectChildStyle(Te);const De=P.subTree=rm(P);y(null,De,O,H,P,$,W),R.el=De.el}if(yt&&an(yt,$),!pn&&(J=ut&&ut.onVnodeMounted)){const De=R;an(()=>Dn(J,St,De),$)}(R.shapeFlag&256||St&&Wo(St.vnode)&&St.vnode.shapeFlag&256)&&P.a&&an(P.a,$),P.isMounted=!0,R=O=H=null}};P.scope.on();const K=P.effect=new nv(G);P.scope.off();const q=P.update=K.run.bind(K),ot=P.job=K.runIfDirty.bind(K);ot.i=P,ot.id=P.uid,K.scheduler=()=>yf(ot),xs(P,!0),q()},it=(P,R,O)=>{R.component=P;const H=P.vnode.props;P.vnode=R,P.next=null,fA(P,R.props,H,O),_A(P,R.children,O),fs(),Xg(P),ps()},lt=(P,R,O,H,$,W,Q,G,K=!1)=>{const q=P&&P.children,ot=P?P.shapeFlag:0,J=R.children,{patchFlag:st,shapeFlag:ut}=R;if(st>0){if(st&128){be(q,J,O,H,$,W,Q,G,K);return}else if(st&256){Mt(q,J,O,H,$,W,Q,G,K);return}}ut&8?(ot&16&&se(q,$,W),J!==q&&h(O,J)):ot&16?ut&16?be(q,J,O,H,$,W,Q,G,K):se(q,$,W,!0):(ot&8&&h(O,""),ut&16&&b(J,O,H,$,W,Q,G,K))},Mt=(P,R,O,H,$,W,Q,G,K)=>{P=P||wr,R=R||wr;const q=P.length,ot=R.length,J=Math.min(q,ot);let st;for(st=0;st<J;st++){const ut=R[st]=K?Ui(R[st]):Fn(R[st]);y(P[st],ut,O,null,$,W,Q,G,K)}q>ot?se(P,$,W,!0,!1,J):b(R,O,H,$,W,Q,G,K,J)},be=(P,R,O,H,$,W,Q,G,K)=>{let q=0;const ot=R.length;let J=P.length-1,st=ot-1;for(;q<=J&&q<=st;){const ut=P[q],at=R[q]=K?Ui(R[q]):Fn(R[q]);if(_o(ut,at))y(ut,at,O,null,$,W,Q,G,K);else break;q++}for(;q<=J&&q<=st;){const ut=P[J],at=R[st]=K?Ui(R[st]):Fn(R[st]);if(_o(ut,at))y(ut,at,O,null,$,W,Q,G,K);else break;J--,st--}if(q>J){if(q<=st){const ut=st+1,at=ut<ot?R[ut].el:H;for(;q<=st;)y(null,R[q]=K?Ui(R[q]):Fn(R[q]),O,at,$,W,Q,G,K),q++}}else if(q>st)for(;q<=J;)Ot(P[q],$,W,!0),q++;else{const ut=q,at=q,yt=new Map;for(q=at;q<=st;q++){const xe=R[q]=K?Ui(R[q]):Fn(R[q]);xe.key!=null&&yt.set(xe.key,q)}let St,ke=0;const Te=st-at+1;let pn=!1,De=0;const Ri=new Array(Te);for(q=0;q<Te;q++)Ri[q]=0;for(q=ut;q<=J;q++){const xe=P[q];if(ke>=Te){Ot(xe,$,W,!0);continue}let gn;if(xe.key!=null)gn=yt.get(xe.key);else for(St=at;St<=st;St++)if(Ri[St-at]===0&&_o(xe,R[St])){gn=St;break}gn===void 0?Ot(xe,$,W,!0):(Ri[gn-at]=q+1,gn>=De?De=gn:pn=!0,y(xe,R[gn],O,null,$,W,Q,G,K),ke++)}const no=pn?wA(Ri):wr;for(St=no.length-1,q=Te-1;q>=0;q--){const xe=at+q,gn=R[xe],ec=xe+1<ot?R[xe+1].el:H;Ri[q]===0?y(null,gn,O,ec,$,W,Q,G,K):pn&&(St<0||q!==no[St]?Ee(gn,O,ec,2):St--)}}},Ee=(P,R,O,H,$=null)=>{const{el:W,type:Q,transition:G,children:K,shapeFlag:q}=P;if(q&6){Ee(P.component.subTree,R,O,H);return}if(q&128){P.suspense.move(R,O,H);return}if(q&64){Q.move(P,R,O,nt);return}if(Q===Vn){i(W,R,O);for(let J=0;J<K.length;J++)Ee(K[J],R,O,H);i(P.anchor,R,O);return}if(Q===$c){k(P,R,O);return}if(H!==2&&q&1&&G)if(H===0)G.beforeEnter(W),i(W,R,O),an(()=>G.enter(W),$);else{const{leave:J,delayLeave:st,afterLeave:ut}=G,at=()=>i(W,R,O),yt=()=>{J(W,()=>{at(),ut&&ut()})};st?st(W,at,yt):yt()}else i(W,R,O)},Ot=(P,R,O,H=!1,$=!1)=>{const{type:W,props:Q,ref:G,children:K,dynamicChildren:q,shapeFlag:ot,patchFlag:J,dirs:st,cacheIndex:ut}=P;if(J===-2&&($=!1),G!=null&&wl(G,null,O,P,!0),ut!=null&&(R.renderCache[ut]=void 0),ot&256){R.ctx.deactivate(P);return}const at=ot&1&&st,yt=!Wo(P);let St;if(yt&&(St=Q&&Q.onVnodeBeforeUnmount)&&Dn(St,R,P),ot&6)Re(P.component,O,H);else{if(ot&128){P.suspense.unmount(O,H);return}at&&Ts(P,null,R,"beforeUnmount"),ot&64?P.type.remove(P,R,O,nt,H):q&&!q.hasOnce&&(W!==Vn||J>0&&J&64)?se(q,R,O,!1,!0):(W===Vn&&J&384||!$&&ot&16)&&se(K,R,O),H&&Bt(P)}(yt&&(St=Q&&Q.onVnodeUnmounted)||at)&&an(()=>{St&&Dn(St,R,P),at&&Ts(P,null,R,"unmounted")},O)},Bt=P=>{const{type:R,el:O,anchor:H,transition:$}=P;if(R===Vn){Ce(O,H);return}if(R===$c){M(P);return}const W=()=>{s(O),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(P.shapeFlag&1&&$&&!$.persisted){const{leave:Q,delayLeave:G}=$,K=()=>Q(O,W);G?G(P.el,W,K):K()}else W()},Ce=(P,R)=>{let O;for(;P!==R;)O=f(P),s(P),P=O;s(R)},Re=(P,R,O)=>{const{bum:H,scope:$,job:W,subTree:Q,um:G,m:K,a:q}=P;sm(K),sm(q),H&&zc(H),$.stop(),W&&(W.flags|=8,Ot(Q,P,R,O)),G&&an(G,R),an(()=>{P.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&P.asyncDep&&!P.asyncResolved&&P.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},se=(P,R,O,H=!1,$=!1,W=0)=>{for(let Q=W;Q<P.length;Q++)Ot(P[Q],R,O,H,$)},U=P=>{if(P.shapeFlag&6)return U(P.component.subTree);if(P.shapeFlag&128)return P.suspense.next();const R=f(P.anchor||P.el),O=R&&R[HI];return O?f(O):R};let Z=!1;const X=(P,R,O)=>{P==null?R._vnode&&Ot(R._vnode,null,null,!0):y(R._vnode||null,P,R,null,null,null,O),R._vnode=P,Z||(Z=!0,Xg(),Tv(),Z=!1)},nt={p:y,um:Ot,m:Ee,r:Bt,mt:Ct,mc:b,pc:lt,pbc:x,n:U,o:n};return{render:X,hydrate:void 0,createApp:hA(X)}}function ph({type:n,props:t},e){return e==="svg"&&n==="foreignObject"||e==="mathml"&&n==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:e}function xs({effect:n,job:t},e){e?(n.flags|=32,t.flags|=4):(n.flags&=-33,t.flags&=-5)}function vA(n,t){return(!n||n&&!n.pendingBranch)&&t&&!t.persisted}function jv(n,t,e=!1){const i=n.children,s=t.children;if(dt(i)&&dt(s))for(let r=0;r<i.length;r++){const o=i[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=Ui(s[r]),a.el=o.el),!e&&a.patchFlag!==-2&&jv(o,a)),a.type===fu&&(a.el=o.el)}}function wA(n){const t=n.slice(),e=[0];let i,s,r,o,a;const c=n.length;for(i=0;i<c;i++){const l=n[i];if(l!==0){if(s=e[e.length-1],n[s]<l){t[i]=s,e.push(i);continue}for(r=0,o=e.length-1;r<o;)a=r+o>>1,n[e[a]]<l?r=a+1:o=a;l<n[e[r]]&&(r>0&&(t[i]=e[r-1]),e[r]=i)}}for(r=e.length,o=e[r-1];r-- >0;)e[r]=o,o=t[o];return e}function $v(n){const t=n.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:$v(t)}function sm(n){if(n)for(let t=0;t<n.length;t++)n[t].flags|=8}const EA=Symbol.for("v-scx"),TA=()=>An(EA);function jc(n,t,e){return qv(n,t,e)}function qv(n,t,e=Wt){const{immediate:i,deep:s,flush:r,once:o}=e,a=je({},e),c=t&&i||!t&&r!=="post";let l;if(ua){if(r==="sync"){const g=TA();l=g.__watcherHandles||(g.__watcherHandles=[])}else if(!c){const g=()=>{};return g.stop=zn,g.resume=zn,g.pause=zn,g}}const h=He;a.call=(g,_,y)=>Qn(g,h,_,y);let d=!1;r==="post"?a.scheduler=g=>{an(g,h&&h.suspense)}:r!=="sync"&&(d=!0,a.scheduler=(g,_)=>{_?g():yf(g)}),a.augmentJob=g=>{t&&(g.flags|=4),d&&(g.flags|=2,h&&(g.id=h.uid,g.i=h))};const f=NI(n,t,a);return ua&&(l?l.push(f):c&&f()),f}function xA(n,t,e){const i=this.proxy,s=ge(n)?n.includes(".")?Kv(i,n):()=>i[n]:n.bind(i,i);let r;_t(t)?r=t:(r=t.handler,e=t);const o=Da(this),a=qv(s,r.bind(i),e);return o(),a}function Kv(n,t){const e=t.split(".");return()=>{let i=n;for(let s=0;s<e.length&&i;s++)i=i[e[s]];return i}}const IA=(n,t)=>t==="modelValue"||t==="model-value"?n.modelModifiers:n[`${t}Modifiers`]||n[`${bn(t)}Modifiers`]||n[`${Js(t)}Modifiers`];function AA(n,t,...e){if(n.isUnmounted)return;const i=n.vnode.props||Wt;let s=e;const r=t.startsWith("update:"),o=r&&IA(i,t.slice(7));o&&(o.trim&&(s=e.map(h=>ge(h)?h.trim():h)),o.number&&(s=e.map(_l)));let a,c=i[a=ch(t)]||i[a=ch(bn(t))];!c&&r&&(c=i[a=ch(Js(t))]),c&&Qn(c,n,6,s);const l=i[a+"Once"];if(l){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,Qn(l,n,6,s)}}function Gv(n,t,e=!1){const i=t.emitsCache,s=i.get(n);if(s!==void 0)return s;const r=n.emits;let o={},a=!1;if(!_t(n)){const c=l=>{const h=Gv(l,t,!0);h&&(a=!0,je(o,h))};!e&&t.mixins.length&&t.mixins.forEach(c),n.extends&&c(n.extends),n.mixins&&n.mixins.forEach(c)}return!r&&!a?(qt(n)&&i.set(n,null),null):(dt(r)?r.forEach(c=>o[c]=null):je(o,r),qt(n)&&i.set(n,o),o)}function du(n,t){return!n||!nu(t)?!1:(t=t.slice(2).replace(/Once$/,""),Vt(n,t[0].toLowerCase()+t.slice(1))||Vt(n,Js(t))||Vt(n,t))}function rm(n){const{type:t,vnode:e,proxy:i,withProxy:s,propsOptions:[r],slots:o,attrs:a,emit:c,render:l,renderCache:h,props:d,data:f,setupState:g,ctx:_,inheritAttrs:y}=n,v=vl(n);let I,A;try{if(e.shapeFlag&4){const M=s||i,N=M;I=Fn(l.call(N,M,h,d,g,f,_)),A=a}else{const M=t;I=Fn(M.length>1?M(d,{attrs:a,slots:o,emit:c}):M(d,null)),A=t.props?a:SA(a)}}catch(M){$o.length=0,uu(M,n,1),I=Qe(zs)}let k=I;if(A&&y!==!1){const M=Object.keys(A),{shapeFlag:N}=k;M.length&&N&7&&(r&&M.some(rf)&&(A=PA(A,r)),k=Mr(k,A,!1,!0))}return e.dirs&&(k=Mr(k,null,!1,!0),k.dirs=k.dirs?k.dirs.concat(e.dirs):e.dirs),e.transition&&bf(k,e.transition),I=k,vl(v),I}const SA=n=>{let t;for(const e in n)(e==="class"||e==="style"||nu(e))&&((t||(t={}))[e]=n[e]);return t},PA=(n,t)=>{const e={};for(const i in n)(!rf(i)||!(i.slice(9)in t))&&(e[i]=n[i]);return e};function CA(n,t,e){const{props:i,children:s,component:r}=n,{props:o,children:a,patchFlag:c}=t,l=r.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&c>=0){if(c&1024)return!0;if(c&16)return i?om(i,o,l):!!o;if(c&8){const h=t.dynamicProps;for(let d=0;d<h.length;d++){const f=h[d];if(o[f]!==i[f]&&!du(l,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?om(i,o,l):!0:!!o;return!1}function om(n,t,e){const i=Object.keys(t);if(i.length!==Object.keys(n).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(t[r]!==n[r]&&!du(e,r))return!0}return!1}function RA({vnode:n,parent:t},e){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===n&&(i.el=n.el),i===n)(n=t.vnode).el=e,t=t.parent;else break}}const Yv=n=>n.__isSuspense;function kA(n,t){t&&t.pendingBranch?dt(n)?t.effects.push(...n):t.effects.push(n):BI(n)}const Vn=Symbol.for("v-fgt"),fu=Symbol.for("v-txt"),zs=Symbol.for("v-cmt"),$c=Symbol.for("v-stc"),$o=[];let dn=null;function qc(n=!1){$o.push(dn=n?null:[])}function DA(){$o.pop(),dn=$o[$o.length-1]||null}let la=1;function am(n,t=!1){la+=n,n<0&&dn&&t&&(dn.hasOnce=!0)}function Qv(n){return n.dynamicChildren=la>0?dn||wr:null,DA(),la>0&&dn&&dn.push(n),n}function gh(n,t,e,i,s,r){return Qv(Jv(n,t,e,i,s,r,!0))}function MA(n,t,e,i,s){return Qv(Qe(n,t,e,i,s,!0))}function Tl(n){return n?n.__v_isVNode===!0:!1}function _o(n,t){return n.type===t.type&&n.key===t.key}const Xv=({key:n})=>n??null,Kc=({ref:n,ref_key:t,ref_for:e})=>(typeof n=="number"&&(n=""+n),n!=null?ge(n)||We(n)||_t(n)?{i:hn,r:n,k:t,f:!!e}:n:null);function Jv(n,t=null,e=null,i=0,s=null,r=n===Vn?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&Xv(t),ref:t&&Kc(t),scopeId:Iv,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:hn};return a?(wf(c,e),r&128&&n.normalize(c)):e&&(c.shapeFlag|=ge(e)?8:16),la>0&&!o&&dn&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&dn.push(c),c}const Qe=OA;function OA(n,t=null,e=null,i=0,s=null,r=!1){if((!n||n===nA)&&(n=zs),Tl(n)){const a=Mr(n,t,!0);return e&&wf(a,e),la>0&&!r&&dn&&(a.shapeFlag&6?dn[dn.indexOf(n)]=a:dn.push(a)),a.patchFlag=-2,a}if(qA(n)&&(n=n.__vccOpts),t){t=LA(t);let{class:a,style:c}=t;a&&!ge(a)&&(t.class=lf(a)),qt(c)&&(mf(c)&&!dt(c)&&(c=je({},c)),t.style=cf(c))}const o=ge(n)?1:Yv(n)?128:zI(n)?64:qt(n)?4:_t(n)?2:0;return Jv(n,t,e,i,s,o,r,!0)}function LA(n){return n?mf(n)||Vv(n)?je({},n):n:null}function Mr(n,t,e=!1,i=!1){const{props:s,ref:r,patchFlag:o,children:a,transition:c}=n,l=t?VA(s||{},t):s,h={__v_isVNode:!0,__v_skip:!0,type:n.type,props:l,key:l&&Xv(l),ref:t&&t.ref?e&&r?dt(r)?r.concat(Kc(t)):[r,Kc(t)]:Kc(t):r,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:a,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==Vn?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:c,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Mr(n.ssContent),ssFallback:n.ssFallback&&Mr(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return c&&i&&bf(h,c.clone(h)),h}function NA(n=" ",t=0){return Qe(fu,null,n,t)}function DH(n,t){const e=Qe($c,null,n);return e.staticCount=t,e}function cm(n="",t=!1){return t?(qc(),MA(zs,null,n)):Qe(zs,null,n)}function Fn(n){return n==null||typeof n=="boolean"?Qe(zs):dt(n)?Qe(Vn,null,n.slice()):Tl(n)?Ui(n):Qe(fu,null,String(n))}function Ui(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Mr(n)}function wf(n,t){let e=0;const{shapeFlag:i}=n;if(t==null)t=null;else if(dt(t))e=16;else if(typeof t=="object")if(i&65){const s=t.default;s&&(s._c&&(s._d=!1),wf(n,s()),s._c&&(s._d=!0));return}else{e=32;const s=t._;!s&&!Vv(t)?t._ctx=hn:s===3&&hn&&(hn.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else _t(t)?(t={default:t,_ctx:hn},e=32):(t=String(t),i&64?(e=16,t=[NA(t)]):e=8);n.children=t,n.shapeFlag|=e}function VA(...n){const t={};for(let e=0;e<n.length;e++){const i=n[e];for(const s in i)if(s==="class")t.class!==i.class&&(t.class=lf([t.class,i.class]));else if(s==="style")t.style=cf([t.style,i.style]);else if(nu(s)){const r=t[s],o=i[s];o&&r!==o&&!(dt(r)&&r.includes(o))&&(t[s]=r?[].concat(r,o):o)}else s!==""&&(t[s]=i[s])}return t}function Dn(n,t,e,i=null){Qn(n,t,7,[e,i])}const FA=Ov();let BA=0;function UA(n,t,e){const i=n.type,s=(t?t.appContext:n.appContext)||FA,r={uid:BA++,vnode:n,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new lI(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Bv(i,s),emitsOptions:Gv(i,s),emit:null,emitted:null,propsDefaults:Wt,inheritAttrs:i.inheritAttrs,ctx:Wt,data:Wt,props:Wt,attrs:Wt,slots:Wt,refs:Wt,setupState:Wt,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=AA.bind(null,r),n.ce&&n.ce(r),r}let He=null,xl,rd;{const n=ou(),t=(e,i)=>{let s;return(s=n[e])||(s=n[e]=[]),s.push(i),r=>{s.length>1?s.forEach(o=>o(r)):s[0](r)}};xl=t("__VUE_INSTANCE_SETTERS__",e=>He=e),rd=t("__VUE_SSR_SETTERS__",e=>ua=e)}const Da=n=>{const t=He;return xl(n),n.scope.on(),()=>{n.scope.off(),xl(t)}},lm=()=>{He&&He.scope.off(),xl(null)};function Zv(n){return n.vnode.shapeFlag&4}let ua=!1;function HA(n,t=!1,e=!1){t&&rd(t);const{props:i,children:s}=n.vnode,r=Zv(n);dA(n,i,r,t),mA(n,s,e);const o=r?zA(n,t):void 0;return t&&rd(!1),o}function zA(n,t){const e=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,sA);const{setup:i}=e;if(i){fs();const s=n.setupContext=i.length>1?jA(n):null,r=Da(n),o=ka(i,n,0,[n.props,s]),a=Yb(o);if(ps(),r(),(a||n.sp)&&!Wo(n)&&Sv(n),a){if(o.then(lm,lm),t)return o.then(c=>{um(n,c)}).catch(c=>{uu(c,n,0)});n.asyncDep=o}else um(n,o)}else t0(n)}function um(n,t,e){_t(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:qt(t)&&(n.setupState=vv(t)),t0(n)}function t0(n,t,e){const i=n.type;n.render||(n.render=i.render||zn);{const s=Da(n);fs();try{rA(n)}finally{ps(),s()}}}const WA={get(n,t){return Fe(n,"get",""),n[t]}};function jA(n){const t=e=>{n.exposed=e||{}};return{attrs:new Proxy(n.attrs,WA),slots:n.slots,emit:n.emit,expose:t}}function pu(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(vv(CI(n.exposed)),{get(t,e){if(e in t)return t[e];if(e in jo)return jo[e](n)},has(t,e){return e in t||e in jo}})):n.proxy}function $A(n,t=!0){return _t(n)?n.displayName||n.name:n.name||t&&n.__name}function qA(n){return _t(n)&&"__vccOpts"in n}const Tn=(n,t)=>OI(n,t,ua);function Ef(n,t,e){const i=arguments.length;return i===2?qt(t)&&!dt(t)?Tl(t)?Qe(n,null,[t]):Qe(n,t):Qe(n,null,t):(i>3?e=Array.prototype.slice.call(arguments,2):i===3&&Tl(e)&&(e=[e]),Qe(n,t,e))}const KA="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let od;const hm=typeof window<"u"&&window.trustedTypes;if(hm)try{od=hm.createPolicy("vue",{createHTML:n=>n})}catch{}const e0=od?n=>od.createHTML(n):n=>n,GA="http://www.w3.org/2000/svg",YA="http://www.w3.org/1998/Math/MathML",ai=typeof document<"u"?document:null,dm=ai&&ai.createElement("template"),QA={insert:(n,t,e)=>{t.insertBefore(n,e||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,e,i)=>{const s=t==="svg"?ai.createElementNS(GA,n):t==="mathml"?ai.createElementNS(YA,n):e?ai.createElement(n,{is:e}):ai.createElement(n);return n==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:n=>ai.createTextNode(n),createComment:n=>ai.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>ai.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},insertStaticContent(n,t,e,i,s,r){const o=e?e.previousSibling:t.lastChild;if(s&&(s===r||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),e),!(s===r||!(s=s.nextSibling)););else{dm.innerHTML=e0(i==="svg"?`<svg>${n}</svg>`:i==="mathml"?`<math>${n}</math>`:n);const a=dm.content;if(i==="svg"||i==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,e)}return[o?o.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}},XA=Symbol("_vtc");function JA(n,t,e){const i=n[XA];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?n.removeAttribute("class"):e?n.setAttribute("class",t):n.className=t}const fm=Symbol("_vod"),ZA=Symbol("_vsh"),tS=Symbol(""),eS=/(^|;)\s*display\s*:/;function nS(n,t,e){const i=n.style,s=ge(e);let r=!1;if(e&&!s){if(t)if(ge(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();e[a]==null&&Gc(i,a,"")}else for(const o in t)e[o]==null&&Gc(i,o,"");for(const o in e)o==="display"&&(r=!0),Gc(i,o,e[o])}else if(s){if(t!==e){const o=i[tS];o&&(e+=";"+o),i.cssText=e,r=eS.test(e)}}else t&&n.removeAttribute("style");fm in n&&(n[fm]=r?i.display:"",n[ZA]&&(i.display="none"))}const pm=/\s*!important$/;function Gc(n,t,e){if(dt(e))e.forEach(i=>Gc(n,t,i));else if(e==null&&(e=""),t.startsWith("--"))n.setProperty(t,e);else{const i=iS(n,t);pm.test(e)?n.setProperty(Js(i),e.replace(pm,""),"important"):n[i]=e}}const gm=["Webkit","Moz","ms"],mh={};function iS(n,t){const e=mh[t];if(e)return e;let i=bn(t);if(i!=="filter"&&i in n)return mh[t]=i;i=ru(i);for(let s=0;s<gm.length;s++){const r=gm[s]+i;if(r in n)return mh[t]=r}return t}const mm="http://www.w3.org/1999/xlink";function _m(n,t,e,i,s,r=rI(t)){i&&t.startsWith("xlink:")?e==null?n.removeAttributeNS(mm,t.slice(6,t.length)):n.setAttributeNS(mm,t,e):e==null||r&&!Zb(e)?n.removeAttribute(t):n.setAttribute(t,r?"":Yn(e)?String(e):e)}function ym(n,t,e,i,s){if(t==="innerHTML"||t==="textContent"){e!=null&&(n[t]=t==="innerHTML"?e0(e):e);return}const r=n.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?n.getAttribute("value")||"":n.value,c=e==null?n.type==="checkbox"?"on":"":String(e);(a!==c||!("_value"in n))&&(n.value=c),e==null&&n.removeAttribute(t),n._value=e;return}let o=!1;if(e===""||e==null){const a=typeof n[t];a==="boolean"?e=Zb(e):e==null&&a==="string"?(e="",o=!0):a==="number"&&(e=0,o=!0)}try{n[t]=e}catch{}o&&n.removeAttribute(s||t)}function Os(n,t,e,i){n.addEventListener(t,e,i)}function sS(n,t,e,i){n.removeEventListener(t,e,i)}const bm=Symbol("_vei");function rS(n,t,e,i,s=null){const r=n[bm]||(n[bm]={}),o=r[t];if(i&&o)o.value=i;else{const[a,c]=oS(t);if(i){const l=r[t]=lS(i,s);Os(n,a,l,c)}else o&&(sS(n,a,o,c),r[t]=void 0)}}const vm=/(?:Once|Passive|Capture)$/;function oS(n){let t;if(vm.test(n)){t={};let i;for(;i=n.match(vm);)n=n.slice(0,n.length-i[0].length),t[i[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Js(n.slice(2)),t]}let _h=0;const aS=Promise.resolve(),cS=()=>_h||(aS.then(()=>_h=0),_h=Date.now());function lS(n,t){const e=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=e.attached)return;Qn(uS(i,e.value),t,5,[i])};return e.value=n,e.attached=cS(),e}function uS(n,t){if(dt(t)){const e=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{e.call(n),n._stopped=!0},t.map(i=>s=>!s._stopped&&i&&i(s))}else return t}const wm=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,hS=(n,t,e,i,s,r)=>{const o=s==="svg";t==="class"?JA(n,i,o):t==="style"?nS(n,e,i):nu(t)?rf(t)||rS(n,t,e,i,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):dS(n,t,i,o))?(ym(n,t,i),!n.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&_m(n,t,i,o,r,t!=="value")):n._isVueCE&&(/[A-Z]/.test(t)||!ge(i))?ym(n,bn(t),i,r,t):(t==="true-value"?n._trueValue=i:t==="false-value"&&(n._falseValue=i),_m(n,t,i,o))};function dS(n,t,e,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in n&&wm(t)&&_t(e));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=n.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return wm(t)&&ge(e)?!1:t in n}const Il=n=>{const t=n.props["onUpdate:modelValue"]||!1;return dt(t)?e=>zc(t,e):t};function fS(n){n.target.composing=!0}function Em(n){const t=n.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Sr=Symbol("_assign"),MH={created(n,{modifiers:{lazy:t,trim:e,number:i}},s){n[Sr]=Il(s);const r=i||s.props&&s.props.type==="number";Os(n,t?"change":"input",o=>{if(o.target.composing)return;let a=n.value;e&&(a=a.trim()),r&&(a=_l(a)),n[Sr](a)}),e&&Os(n,"change",()=>{n.value=n.value.trim()}),t||(Os(n,"compositionstart",fS),Os(n,"compositionend",Em),Os(n,"change",Em))},mounted(n,{value:t}){n.value=t??""},beforeUpdate(n,{value:t,oldValue:e,modifiers:{lazy:i,trim:s,number:r}},o){if(n[Sr]=Il(o),n.composing)return;const a=(r||n.type==="number")&&!/^0\d/.test(n.value)?_l(n.value):n.value,c=t??"";a!==c&&(document.activeElement===n&&n.type!=="range"&&(i&&t===e||s&&n.value.trim()===c)||(n.value=c))}},OH={deep:!0,created(n,{value:t,modifiers:{number:e}},i){const s=iu(t);Os(n,"change",()=>{const r=Array.prototype.filter.call(n.options,o=>o.selected).map(o=>e?_l(Al(o)):Al(o));n[Sr](n.multiple?s?new Set(r):r:r[0]),n._assigning=!0,_f(()=>{n._assigning=!1})}),n[Sr]=Il(i)},mounted(n,{value:t}){Tm(n,t)},beforeUpdate(n,t,e){n[Sr]=Il(e)},updated(n,{value:t}){n._assigning||Tm(n,t)}};function Tm(n,t){const e=n.multiple,i=dt(t);if(!(e&&!i&&!iu(t))){for(let s=0,r=n.options.length;s<r;s++){const o=n.options[s],a=Al(o);if(e)if(i){const c=typeof a;c==="string"||c==="number"?o.selected=t.some(l=>String(l)===String(a)):o.selected=aI(t,a)>-1}else o.selected=t.has(a);else if(au(Al(o),t)){n.selectedIndex!==s&&(n.selectedIndex=s);return}}!e&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function Al(n){return"_value"in n?n._value:n.value}const pS=["ctrl","shift","alt","meta"],gS={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,t)=>pS.some(e=>n[`${e}Key`]&&!t.includes(e))},LH=(n,t)=>{const e=n._withMods||(n._withMods={}),i=t.join(".");return e[i]||(e[i]=(s,...r)=>{for(let o=0;o<t.length;o++){const a=gS[t[o]];if(a&&a(s,t))return}return n(s,...r)})},mS=je({patchProp:hS},QA);let xm;function _S(){return xm||(xm=yA(mS))}const yS=(...n)=>{const t=_S().createApp(...n),{mount:e}=t;return t.mount=i=>{const s=vS(i);if(!s)return;const r=t._component;!_t(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=e(s,!1,bS(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function bS(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function vS(n){return ge(n)?document.querySelector(n):n}const wS=()=>{};var Im={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},ES=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const s=n[e++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=n[e++];t[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=n[e++],o=n[e++],a=n[e++],c=((s&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(c>>10)),t[i++]=String.fromCharCode(56320+(c&1023))}else{const r=n[e++],o=n[e++];t[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return t.join("")},i0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const r=n[s],o=s+1<n.length,a=o?n[s+1]:0,c=s+2<n.length,l=c?n[s+2]:0,h=r>>2,d=(r&3)<<4|a>>4;let f=(a&15)<<2|l>>6,g=l&63;c||(g=64,o||(f=64)),i.push(e[h],e[d],e[f],e[g])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(n0(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):ES(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const r=e[n.charAt(s++)],a=s<n.length?e[n.charAt(s)]:0;++s;const l=s<n.length?e[n.charAt(s)]:64;++s;const d=s<n.length?e[n.charAt(s)]:64;if(++s,r==null||a==null||l==null||d==null)throw new TS;const f=r<<2|a>>4;if(i.push(f),l!==64){const g=a<<4&240|l>>2;if(i.push(g),d!==64){const _=l<<6&192|d;i.push(_)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class TS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xS=function(n){const t=n0(n);return i0.encodeByteArray(t,!0)},Sl=function(n){return xS(n).replace(/\./g,"")},s0=function(n){try{return i0.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=()=>IS().__FIREBASE_DEFAULTS__,SS=()=>{if(typeof process>"u"||typeof Im>"u")return;const n=Im.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},PS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&s0(n[1]);return t&&JSON.parse(t)},gu=()=>{try{return wS()||AS()||SS()||PS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},r0=n=>{var t,e;return(e=(t=gu())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},CS=n=>{const t=r0(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},o0=()=>{var n;return(n=gu())===null||n===void 0?void 0:n.config},a0=n=>{var t;return(t=gu())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",s=n.iat||0,r=n.sub||n.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Sl(JSON.stringify(e)),Sl(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function MS(){var n;const t=(n=gu())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function NS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VS(){const n=$e();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function FS(){return!MS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BS(){try{return typeof indexedDB=="object"}catch{return!1}}function US(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{var r;t(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="FirebaseError";class Ai extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=HS,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ma.prototype.create)}}class Ma{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},s=`${this.service}/${t}`,r=this.errors[t],o=r?zS(r,i):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Ai(s,a,i)}}function zS(n,t){return n.replace(WS,(e,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const WS=/\{\$([^}]+)}/g;function jS(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Ws(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const s of e){if(!i.includes(s))return!1;const r=n[s],o=t[s];if(Am(r)&&Am(o)){if(!Ws(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!e.includes(s))return!1;return!0}function Am(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Po(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(r)}}),t}function Co(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function $S(n,t){const e=new qS(n,t);return e.subscribe.bind(e)}class qS{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let s;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");KS(t,["next","error","complete"])?s=t:s={next:t,error:e,complete:i},s.next===void 0&&(s.next=yh),s.error===void 0&&(s.error=yh),s.complete===void 0&&(s.complete=yh);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KS(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function yh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(n){return n&&n._delegate?n._delegate:n}class js{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new RS;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(QS(t))try{this.getOrInitializeService({instanceIdentifier:Rs})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(t=Rs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Rs){return this.instances.has(t)}getOptions(t=Rs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);i===a&&o.resolve(s)}return s}onInit(t,e){var i;const s=this.normalizeInstanceIdentifier(e),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(t),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&t(o,s),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const s of i)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:YS(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Rs){return this.component?this.component.multipleInstances?t:Rs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YS(n){return n===Rs?void 0:n}function QS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new GS(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Tt||(Tt={}));const JS={debug:Tt.DEBUG,verbose:Tt.VERBOSE,info:Tt.INFO,warn:Tt.WARN,error:Tt.ERROR,silent:Tt.SILENT},ZS=Tt.INFO,tP={[Tt.DEBUG]:"log",[Tt.VERBOSE]:"log",[Tt.INFO]:"info",[Tt.WARN]:"warn",[Tt.ERROR]:"error"},eP=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),s=tP[t];if(s)console[s](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Tf{constructor(t){this.name=t,this._logLevel=ZS,this._logHandler=eP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Tt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?JS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Tt.DEBUG,...t),this._logHandler(this,Tt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Tt.VERBOSE,...t),this._logHandler(this,Tt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Tt.INFO,...t),this._logHandler(this,Tt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Tt.WARN,...t),this._logHandler(this,Tt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Tt.ERROR,...t),this._logHandler(this,Tt.ERROR,...t)}}const nP=(n,t)=>t.some(e=>n instanceof e);let Sm,Pm;function iP(){return Sm||(Sm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sP(){return Pm||(Pm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c0=new WeakMap,ad=new WeakMap,l0=new WeakMap,bh=new WeakMap,xf=new WeakMap;function rP(n){const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("success",r),n.removeEventListener("error",o)},r=()=>{e(Ji(n.result)),s()},o=()=>{i(n.error),s()};n.addEventListener("success",r),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&c0.set(e,n)}).catch(()=>{}),xf.set(t,n),t}function oP(n){if(ad.has(n))return;const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("complete",r),n.removeEventListener("error",o),n.removeEventListener("abort",o)},r=()=>{e(),s()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",r),n.addEventListener("error",o),n.addEventListener("abort",o)});ad.set(n,t)}let cd={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return ad.get(n);if(t==="objectStoreNames")return n.objectStoreNames||l0.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ji(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function aP(n){cd=n(cd)}function cP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(vh(this),t,...e);return l0.set(i,t.sort?t.sort():[t]),Ji(i)}:sP().includes(n)?function(...t){return n.apply(vh(this),t),Ji(c0.get(this))}:function(...t){return Ji(n.apply(vh(this),t))}}function lP(n){return typeof n=="function"?cP(n):(n instanceof IDBTransaction&&oP(n),nP(n,iP())?new Proxy(n,cd):n)}function Ji(n){if(n instanceof IDBRequest)return rP(n);if(bh.has(n))return bh.get(n);const t=lP(n);return t!==n&&(bh.set(n,t),xf.set(t,n)),t}const vh=n=>xf.get(n);function uP(n,t,{blocked:e,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(n,t),a=Ji(o);return i&&o.addEventListener("upgradeneeded",c=>{i(Ji(o.result),c.oldVersion,c.newVersion,Ji(o.transaction),c)}),e&&o.addEventListener("blocked",c=>e(c.oldVersion,c.newVersion,c)),a.then(c=>{r&&c.addEventListener("close",()=>r()),s&&c.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const hP=["get","getKey","getAll","getAllKeys","count"],dP=["put","add","delete","clear"],wh=new Map;function Cm(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(wh.get(t))return wh.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,s=dP.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(s||hP.includes(e)))return;const r=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let l=c.store;return i&&(l=l.index(a.shift())),(await Promise.all([l[e](...a),s&&c.done]))[0]};return wh.set(t,r),r}aP(n=>({...n,get:(t,e,i)=>Cm(t,e)||n.get(t,e,i),has:(t,e)=>!!Cm(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(pP(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function pP(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ld="@firebase/app",Rm="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new Tf("@firebase/app"),gP="@firebase/app-compat",mP="@firebase/analytics-compat",_P="@firebase/analytics",yP="@firebase/app-check-compat",bP="@firebase/app-check",vP="@firebase/auth",wP="@firebase/auth-compat",EP="@firebase/database",TP="@firebase/data-connect",xP="@firebase/database-compat",IP="@firebase/functions",AP="@firebase/functions-compat",SP="@firebase/installations",PP="@firebase/installations-compat",CP="@firebase/messaging",RP="@firebase/messaging-compat",kP="@firebase/performance",DP="@firebase/performance-compat",MP="@firebase/remote-config",OP="@firebase/remote-config-compat",LP="@firebase/storage",NP="@firebase/storage-compat",VP="@firebase/firestore",FP="@firebase/vertexai",BP="@firebase/firestore-compat",UP="firebase",HP="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud="[DEFAULT]",zP={[ld]:"fire-core",[gP]:"fire-core-compat",[_P]:"fire-analytics",[mP]:"fire-analytics-compat",[bP]:"fire-app-check",[yP]:"fire-app-check-compat",[vP]:"fire-auth",[wP]:"fire-auth-compat",[EP]:"fire-rtdb",[TP]:"fire-data-connect",[xP]:"fire-rtdb-compat",[IP]:"fire-fn",[AP]:"fire-fn-compat",[SP]:"fire-iid",[PP]:"fire-iid-compat",[CP]:"fire-fcm",[RP]:"fire-fcm-compat",[kP]:"fire-perf",[DP]:"fire-perf-compat",[MP]:"fire-rc",[OP]:"fire-rc-compat",[LP]:"fire-gcs",[NP]:"fire-gcs-compat",[VP]:"fire-fst",[BP]:"fire-fst-compat",[FP]:"fire-vertex","fire-js":"fire-js",[UP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=new Map,WP=new Map,hd=new Map;function km(n,t){try{n.container.addComponent(t)}catch(e){vi.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Or(n){const t=n.name;if(hd.has(t))return vi.debug(`There were multiple attempts to register component ${t}.`),!1;hd.set(t,n);for(const e of Pl.values())km(e,n);for(const e of WP.values())km(e,n);return!0}function If(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function _n(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zi=new Ma("app","Firebase",jP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=HP;function u0(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:ud,automaticDataCollectionEnabled:!1},t),s=i.name;if(typeof s!="string"||!s)throw Zi.create("bad-app-name",{appName:String(s)});if(e||(e=o0()),!e)throw Zi.create("no-options");const r=Pl.get(s);if(r){if(Ws(e,r.options)&&Ws(i,r.config))return r;throw Zi.create("duplicate-app",{appName:s})}const o=new XS(s);for(const c of hd.values())o.addComponent(c);const a=new $P(e,i,o);return Pl.set(s,a),a}function h0(n=ud){const t=Pl.get(n);if(!t&&n===ud&&o0())return u0();if(!t)throw Zi.create("no-app",{appName:n});return t}function ts(n,t,e){var i;let s=(i=zP[n])!==null&&i!==void 0?i:n;e&&(s+=`-${e}`);const r=s.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const a=[`Unable to register library "${s}" with version "${t}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),vi.warn(a.join(" "));return}Or(new js(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP="firebase-heartbeat-database",KP=1,ha="firebase-heartbeat-store";let Eh=null;function d0(){return Eh||(Eh=uP(qP,KP,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(ha)}catch(e){console.warn(e)}}}}).catch(n=>{throw Zi.create("idb-open",{originalErrorMessage:n.message})})),Eh}async function GP(n){try{const e=(await d0()).transaction(ha),i=await e.objectStore(ha).get(f0(n));return await e.done,i}catch(t){if(t instanceof Ai)vi.warn(t.message);else{const e=Zi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});vi.warn(e.message)}}}async function Dm(n,t){try{const i=(await d0()).transaction(ha,"readwrite");await i.objectStore(ha).put(t,f0(n)),await i.done}catch(e){if(e instanceof Ai)vi.warn(e.message);else{const i=Zi.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});vi.warn(i.message)}}}function f0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=1024,QP=30;class XP{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new ZP(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Mm();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>QP){const o=tC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){vi.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Mm(),{heartbeatsToSend:i,unsentEntries:s}=JP(this._heartbeatsCache.heartbeats),r=Sl(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return vi.warn(e),""}}}function Mm(){return new Date().toISOString().substring(0,10)}function JP(n,t=YP){const e=[];let i=n.slice();for(const s of n){const r=e.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),Om(e)>t){r.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),Om(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class ZP{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BS()?US().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await GP(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return Dm(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return Dm(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Om(n){return Sl(JSON.stringify({version:2,heartbeats:n})).length}function tC(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(n){Or(new js("platform-logger",t=>new fP(t),"PRIVATE")),Or(new js("heartbeat",t=>new XP(t),"PRIVATE")),ts(ld,Rm,n),ts(ld,Rm,"esm2017"),ts("fire-js","")}eC("");function Af(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e}function p0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nC=p0,g0=new Ma("auth","Firebase",p0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=new Tf("@firebase/auth");function iC(n,...t){Cl.logLevel<=Tt.WARN&&Cl.warn(`Auth (${Gr}): ${n}`,...t)}function Yc(n,...t){Cl.logLevel<=Tt.ERROR&&Cl.error(`Auth (${Gr}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(n,...t){throw Sf(n,...t)}function Wn(n,...t){return Sf(n,...t)}function m0(n,t,e){const i=Object.assign(Object.assign({},nC()),{[t]:e});return new Ma("auth","Firebase",i).create(t,{appName:n.name})}function yi(n){return m0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sf(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return g0.create(n,...t)}function ct(n,t,...e){if(!n)throw Sf(t,...e)}function di(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Yc(t),new Error(t)}function wi(n,t){n||di(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function sC(){return Lm()==="http:"||Lm()==="https:"}function Lm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sC()||LS()||"connection"in navigator)?navigator.onLine:!0}function oC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t,e){this.shortDelay=t,this.longDelay=e,wi(e>t,"Short delay should be less than long delay!"),this.isMobile=DS()||NS()}get(){return rC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(n,t){wi(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=new La(3e4,6e4);function Si(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function kn(n,t,e,i,s={}){return y0(n,s,async()=>{let r={},o={};i&&(t==="GET"?o=i:r={body:JSON.stringify(i)});const a=Oa(Object.assign({key:n.config.apiKey},o)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const l=Object.assign({method:t,headers:c},r);return OS()||(l.referrerPolicy="no-referrer"),_0.fetch()(b0(n,n.config.apiHost,e,a),l)})}async function y0(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},aC),t);try{const s=new uC(n),r=await Promise.race([e(),s.promise]);s.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw vc(n,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw vc(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw vc(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw vc(n,"user-disabled",o);const h=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw m0(n,h,l);Pn(n,h)}}catch(s){if(s instanceof Ai)throw s;Pn(n,"network-request-failed",{message:String(s)})}}async function Na(n,t,e,i,s={}){const r=await kn(n,t,e,i,s);return"mfaPendingCredential"in r&&Pn(n,"multi-factor-auth-required",{_serverResponse:r}),r}function b0(n,t,e,i){const s=`${t}${e}?${i}`;return n.config.emulator?Pf(n.config,s):`${n.config.apiScheme}://${s}`}function lC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Wn(this.auth,"network-request-failed")),cC.get())})}}function vc(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const s=Wn(n,t,i);return s.customData._tokenResponse=e,s}function Nm(n){return n!==void 0&&n.enterprise!==void 0}class hC{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return lC(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dC(n,t){return kn(n,"GET","/v2/recaptchaConfig",Si(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(n,t){return kn(n,"POST","/v1/accounts:delete",t)}async function v0(n,t){return kn(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function pC(n,t=!1){const e=ne(n),i=await e.getIdToken(t),s=Cf(i);ct(s&&s.exp&&s.auth_time&&s.iat,e.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:qo(Th(s.auth_time)),issuedAtTime:qo(Th(s.iat)),expirationTime:qo(Th(s.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Th(n){return Number(n)*1e3}function Cf(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const s=s0(e);return s?JSON.parse(s):(Yc("Failed to decode base64 JWT payload"),null)}catch(s){return Yc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Vm(n){const t=Cf(n);return ct(t,"internal-error"),ct(typeof t.exp<"u","internal-error"),ct(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $s(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Ai&&gC(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function gC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=qo(this.lastLoginAt),this.creationTime=qo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(n){var t;const e=n.auth,i=await n.getIdToken(),s=await $s(n,v0(e,{idToken:i}));ct(s==null?void 0:s.users.length,e,"internal-error");const r=s.users[0];n._notifyReloadListener(r);const o=!((t=r.providerUserInfo)===null||t===void 0)&&t.length?w0(r.providerUserInfo):[],a=yC(n.providerData,o),c=n.isAnonymous,l=!(n.email&&r.passwordHash)&&!(a!=null&&a.length),h=c?l:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new fd(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(n,d)}async function _C(n){const t=ne(n);await Rl(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function yC(n,t){return[...n.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function w0(n){return n.map(t=>{var{providerId:e}=t,i=Af(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(n,t){const e=await y0(n,{},async()=>{const i=Oa({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:r}=n.config,o=b0(n,s,"/v1/token",`key=${r}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",_0.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function vC(n,t){return kn(n,"POST","/v2/accounts:revokeToken",Si(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ct(t.idToken,"internal-error"),ct(typeof t.idToken<"u","internal-error"),ct(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Vm(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){ct(t.length!==0,"internal-error");const e=Vm(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(ct(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:s,expiresIn:r}=await bC(t,e);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:s,expirationTime:r}=e,o=new Pr;return i&&(ct(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),s&&(ct(typeof s=="string","internal-error",{appName:t}),o.accessToken=s),r&&(ct(typeof r=="number","internal-error",{appName:t}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Pr,this.toJSON())}_performRefresh(){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(n,t){ct(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class fi{constructor(t){var{uid:e,auth:i,stsTokenManager:s}=t,r=Af(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new fd(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await $s(this,this.stsTokenManager.getToken(this.auth,t));return ct(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return pC(this,t)}reload(){return _C(this)}_assign(t){this!==t&&(ct(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new fi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Rl(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(yi(this.auth));const t=await this.getIdToken();return await $s(this,fC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,s,r,o,a,c,l,h;const d=(i=e.displayName)!==null&&i!==void 0?i:void 0,f=(s=e.email)!==null&&s!==void 0?s:void 0,g=(r=e.phoneNumber)!==null&&r!==void 0?r:void 0,_=(o=e.photoURL)!==null&&o!==void 0?o:void 0,y=(a=e.tenantId)!==null&&a!==void 0?a:void 0,v=(c=e._redirectEventId)!==null&&c!==void 0?c:void 0,I=(l=e.createdAt)!==null&&l!==void 0?l:void 0,A=(h=e.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:k,emailVerified:M,isAnonymous:N,providerData:B,stsTokenManager:T}=e;ct(k&&T,t,"internal-error");const b=Pr.fromJSON(this.name,T);ct(typeof k=="string",t,"internal-error"),Oi(d,t.name),Oi(f,t.name),ct(typeof M=="boolean",t,"internal-error"),ct(typeof N=="boolean",t,"internal-error"),Oi(g,t.name),Oi(_,t.name),Oi(y,t.name),Oi(v,t.name),Oi(I,t.name),Oi(A,t.name);const E=new fi({uid:k,auth:t,email:f,emailVerified:M,displayName:d,isAnonymous:N,photoURL:_,phoneNumber:g,tenantId:y,stsTokenManager:b,createdAt:I,lastLoginAt:A});return B&&Array.isArray(B)&&(E.providerData=B.map(x=>Object.assign({},x))),v&&(E._redirectEventId=v),E}static async _fromIdTokenResponse(t,e,i=!1){const s=new Pr;s.updateFromServerResponse(e);const r=new fi({uid:e.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await Rl(r),r}static async _fromGetAccountInfoResponse(t,e,i){const s=e.users[0];ct(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?w0(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),a=new Pr;a.updateFromIdToken(i);const c=new fi({uid:s.localId,auth:t,stsTokenManager:a,isAnonymous:o}),l={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new fd(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(c,l),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm=new Map;function pi(n){wi(n instanceof Function,"Expected a class definition");let t=Fm.get(n);return t?(wi(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Fm.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}E0.type="NONE";const Bm=E0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(n,t,e){return`firebase:${n}:${t}:${e}`}class Cr{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=Qc(this.userKey,s.apiKey,r),this.fullPersistenceKey=Qc("persistence",s.apiKey,r),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?fi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Cr(pi(Bm),t,i);const s=(await Promise.all(e.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let r=s[0]||pi(Bm);const o=Qc(i,t.config.apiKey,t.name);let a=null;for(const l of e)try{const h=await l._get(o);if(h){const d=fi._fromJSON(t,h);l!==r&&(a=d),r=l;break}}catch{}const c=s.filter(l=>l._shouldAllowMigration);return!r._shouldAllowMigration||!c.length?new Cr(r,t,i):(r=c[0],a&&await r._set(o,a.toJSON()),await Promise.all(e.map(async l=>{if(l!==r)try{await l._remove(o)}catch{}})),new Cr(r,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(A0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(T0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(P0(t))return"Blackberry";if(C0(t))return"Webos";if(x0(t))return"Safari";if((t.includes("chrome/")||I0(t))&&!t.includes("edge/"))return"Chrome";if(S0(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function T0(n=$e()){return/firefox\//i.test(n)}function x0(n=$e()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function I0(n=$e()){return/crios\//i.test(n)}function A0(n=$e()){return/iemobile/i.test(n)}function S0(n=$e()){return/android/i.test(n)}function P0(n=$e()){return/blackberry/i.test(n)}function C0(n=$e()){return/webos/i.test(n)}function Rf(n=$e()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function wC(n=$e()){var t;return Rf(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function EC(){return VS()&&document.documentMode===10}function R0(n=$e()){return Rf(n)||S0(n)||C0(n)||P0(n)||/windows phone/i.test(n)||A0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(n,t=[]){let e;switch(n){case"Browser":e=Um($e());break;case"Worker":e=`${Um($e())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Gr}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=r=>new Promise((o,a)=>{try{const c=t(r);o(c)}catch(c){a(c)}});i.onAbort=e,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const s of e)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xC(n,t={}){return kn(n,"GET","/v2/passwordPolicy",Si(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=6;class AC{constructor(t){var e,i,s,r;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=o.minPasswordLength)!==null&&e!==void 0?e:IC,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=t.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,s,r,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(e=c.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(r=c.containsUppercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),s&&(e.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(t,e,i,s){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hm(this),this.idTokenSubscription=new Hm(this),this.beforeStateQueue=new TC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=g0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=pi(e)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Cr.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await v0(this,{idToken:t}),i=await fi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(_n(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(t);(!o||o===a)&&(c!=null&&c.user)&&(s=c.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Rl(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=oC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(_n(this.app))return Promise.reject(yi(this));const e=t?ne(t):null;return e&&ct(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&ct(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return _n(this.app)?Promise.reject(yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await xC(this),e=new AC(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Ma("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await vC(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&pi(t)||this._popupRedirectResolver;ct(e,this,"argument-error"),this.redirectPersistenceManager=await Cr.create(this,[pi(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,s){if(this._deleted)return()=>{};const r=typeof e=="function"?e:e.next.bind(e);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ct(a,this,"internal-error"),a.then(()=>{o||r(this.currentUser)}),typeof e=="function"){const c=t.addObserver(e,i,s);return()=>{o=!0,c()}}else{const c=t.addObserver(e);return()=>{o=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=k0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&iC(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Zs(n){return ne(n)}class Hm{constructor(t){this.auth=t,this.observer=null,this.addObserver=$S(e=>this.observer=e)}get next(){return ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PC(n){mu=n}function D0(n){return mu.loadJS(n)}function CC(){return mu.recaptchaEnterpriseScript}function RC(){return mu.gapiScript}function kC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class DC{constructor(){this.enterprise=new MC}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class MC{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const OC="recaptcha-enterprise",M0="NO_RECAPTCHA";class LC{constructor(t){this.type=OC,this.auth=Zs(t)}async verify(t="verify",e=!1){async function i(r){if(!e){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,a)=>{dC(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new hC(c);return r.tenantId==null?r._agentRecaptchaConfig=l:r._tenantRecaptchaConfigs[r.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})})}function s(r,o,a){const c=window.grecaptcha;Nm(c)?c.enterprise.ready(()=>{c.enterprise.execute(r,{action:t}).then(l=>{o(l)}).catch(()=>{o(M0)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DC().execute("siteKey",{action:"verify"}):new Promise((r,o)=>{i(this.auth).then(a=>{if(!e&&Nm(window.grecaptcha))s(a,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=CC();c.length!==0&&(c+=a),D0(c).then(()=>{s(a,r,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function zm(n,t,e,i=!1,s=!1){const r=new LC(n);let o;if(s)o=M0;else try{o=await r.verify(e)}catch{o=await r.verify(e,!0)}const a=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function pd(n,t,e,i,s){var r;if(!((r=n._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await zm(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await zm(n,t,e,e==="getOobCode");return i(n,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(n,t){const e=If(n,"auth");if(e.isInitialized()){const s=e.getImmediate(),r=e.getOptions();if(Ws(r,t??{}))return s;Pn(s,"already-initialized")}return e.initialize({options:t})}function VC(n,t){const e=(t==null?void 0:t.persistence)||[],i=(Array.isArray(e)?e:[e]).map(pi);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function FC(n,t,e){const i=Zs(n);ct(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,r=O0(t),{host:o,port:a}=BC(t),c=a===null?"":`:${a}`,l={url:`${r}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){ct(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ct(Ws(l,i.config.emulator)&&Ws(h,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=l,i.emulatorConfig=h,i.settings.appVerificationDisabledForTesting=!0,UC()}function O0(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function BC(n){const t=O0(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:Wm(i.substr(r.length+1))}}else{const[r,o]=i.split(":");return{host:r,port:Wm(o)}}}function Wm(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function UC(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return di("not implemented")}_getIdTokenResponse(t){return di("not implemented")}_linkToIdToken(t,e){return di("not implemented")}_getReauthenticationResolver(t){return di("not implemented")}}async function HC(n,t){return kn(n,"POST","/v1/accounts:update",t)}async function zC(n,t){return kn(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(n,t){return Na(n,"POST","/v1/accounts:signInWithPassword",Si(n,t))}async function jC(n,t){return kn(n,"POST","/v1/accounts:sendOobCode",Si(n,t))}async function $C(n,t){return jC(n,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qC(n,t){return Na(n,"POST","/v1/accounts:signInWithEmailLink",Si(n,t))}async function KC(n,t){return Na(n,"POST","/v1/accounts:signInWithEmailLink",Si(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da extends kf{constructor(t,e,i,s=null){super("password",i),this._email=t,this._password=e,this._tenantId=s}static _fromEmailAndPassword(t,e){return new da(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new da(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pd(t,e,"signInWithPassword",WC);case"emailLink":return qC(t,{email:this._email,oobCode:this._password});default:Pn(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pd(t,i,"signUpPassword",zC);case"emailLink":return KC(t,{idToken:e,email:this._email,oobCode:this._password});default:Pn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rr(n,t){return Na(n,"POST","/v1/accounts:signInWithIdp",Si(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="http://localhost";class qs extends kf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new qs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Pn("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s}=e,r=Af(e,["providerId","signInMethod"]);if(!i||!s)return null;const o=new qs(i,s);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(t){const e=this.buildRequest();return Rr(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Rr(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Rr(t,e)}buildRequest(){const t={requestUri:GC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Oa(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QC(n){const t=Po(Co(n)).link,e=t?Po(Co(t)).deep_link_id:null,i=Po(Co(n)).deep_link_id;return(i?Po(Co(i)).link:null)||i||e||t||n}class Df{constructor(t){var e,i,s,r,o,a;const c=Po(Co(t)),l=(e=c.apiKey)!==null&&e!==void 0?e:null,h=(i=c.oobCode)!==null&&i!==void 0?i:null,d=YC((s=c.mode)!==null&&s!==void 0?s:null);ct(l&&h&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=h,this.continueUrl=(r=c.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const e=QC(t);try{return new Df(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.providerId=Yr.PROVIDER_ID}static credential(t,e){return da._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=Df.parseLink(e);return ct(i,"argument-error"),da._fromEmailAndCode(t,i.code,i.tenantId)}}Yr.PROVIDER_ID="password";Yr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends L0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Va{constructor(){super("facebook.com")}static credential(t){return qs._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zi.credentialFromTaggedObject(t)}static credentialFromError(t){return zi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zi.credential(t.oauthAccessToken)}catch{return null}}}zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Va{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return qs._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Wi.credentialFromTaggedObject(t)}static credentialFromError(t){return Wi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Wi.credential(e,i)}catch{return null}}}Wi.GOOGLE_SIGN_IN_METHOD="google.com";Wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Va{constructor(){super("github.com")}static credential(t){return qs._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ji.credentialFromTaggedObject(t)}static credentialFromError(t){return ji.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ji.credential(t.oauthAccessToken)}catch{return null}}}ji.GITHUB_SIGN_IN_METHOD="github.com";ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Va{constructor(){super("twitter.com")}static credential(t,e){return qs._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return $i.credentialFromTaggedObject(t)}static credentialFromError(t){return $i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return $i.credential(e,i)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XC(n,t){return Na(n,"POST","/v1/accounts:signUp",Si(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,s=!1){const r=await fi._fromIdTokenResponse(t,i,s),o=jm(i);return new Ks({user:r,providerId:o,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const s=jm(i);return new Ks({user:t,providerId:s,_tokenResponse:i,operationType:e})}}function jm(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends Ai{constructor(t,e,i,s){var r;super(e.code,e.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,kl.prototype),this.customData={appName:t.name,tenantId:(r=t.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,s){return new kl(t,e,i,s)}}function N0(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?kl._fromErrorAndOperation(n,r,t,i):r})}async function JC(n,t,e=!1){const i=await $s(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Ks._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(n,t,e=!1){const{auth:i}=n;if(_n(i.app))return Promise.reject(yi(i));const s="reauthenticate";try{const r=await $s(n,N0(i,s,t,n),e);ct(r.idToken,i,"internal-error");const o=Cf(r.idToken);ct(o,i,"internal-error");const{sub:a}=o;return ct(n.uid===a,i,"user-mismatch"),Ks._forOperation(n,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Pn(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V0(n,t,e=!1){if(_n(n.app))return Promise.reject(yi(n));const i="signIn",s=await N0(n,i,t),r=await Ks._fromIdTokenResponse(n,i,s);return e||await n._updateCurrentUser(r.user),r}async function tR(n,t){return V0(Zs(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F0(n){const t=Zs(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function NH(n,t,e){if(_n(n.app))return Promise.reject(yi(n));const i=Zs(n),o=await pd(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XC).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&F0(n),c}),a=await Ks._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(a.user),a}function VH(n,t,e){return _n(n.app)?Promise.reject(yi(n)):tR(ne(n),Yr.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&F0(n),i})}async function FH(n,t){const e=ne(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:r}=await $C(e.auth,s);r!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(n,t){return kn(n,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BH(n,{displayName:t,photoURL:e}){if(t===void 0&&e===void 0)return;const i=ne(n),r={idToken:await i.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},o=await $s(i,eR(i.auth,r));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find(({providerId:c})=>c==="password");a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}function UH(n,t){return nR(ne(n),null,t)}async function nR(n,t,e){const{auth:i}=n,r={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(r.password=e);const o=await $s(n,HC(i,r));await n._updateTokensIfNecessary(o,!0)}function iR(n,t,e,i){return ne(n).onIdTokenChanged(t,e,i)}function sR(n,t,e){return ne(n).beforeAuthStateChanged(t,e)}function B0(n,t,e,i){return ne(n).onAuthStateChanged(t,e,i)}function rR(n){return ne(n).signOut()}const Dl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Dl,"1"),this.storage.removeItem(Dl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=1e3,aR=10;class H0 extends U0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=R0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),s=this.localCache[e];i!==s&&t(e,s,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const i=t.key;e?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(i);!e&&this.localCache[i]===o||this.notifyListeners(i,o)},r=this.storage.getItem(i);EC()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,aR):s()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},oR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}H0.type="LOCAL";const cR=H0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0 extends U0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}z0.type="SESSION";const W0=z0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(s=>s.isListeningto(t));if(e)return e;const i=new _u(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:s,data:r}=e.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const a=Array.from(o).map(async l=>l(e.origin,r)),c=await lR(a);e.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_u.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,o;return new Promise((a,c)=>{const l=Mf("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},i);o={messageChannel:s,onMessage(d){const f=d;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(h),r=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(f.data.response);break;default:clearTimeout(h),clearTimeout(r),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:e},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return window}function hR(n){jn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(){return typeof jn().WorkerGlobalScope<"u"&&typeof jn().importScripts=="function"}async function dR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fR(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function pR(){return j0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="firebaseLocalStorageDb",gR=1,Ml="firebaseLocalStorage",q0="fbase_key";class Fa{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function yu(n,t){return n.transaction([Ml],t?"readwrite":"readonly").objectStore(Ml)}function mR(){const n=indexedDB.deleteDatabase($0);return new Fa(n).toPromise()}function gd(){const n=indexedDB.open($0,gR);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ml,{keyPath:q0})}catch(s){e(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Ml)?t(i):(i.close(),await mR(),t(await gd()))})})}async function $m(n,t,e){const i=yu(n,!0).put({[q0]:t,value:e});return new Fa(i).toPromise()}async function _R(n,t){const e=yu(n,!1).get(t),i=await new Fa(e).toPromise();return i===void 0?null:i.value}function qm(n,t){const e=yu(n,!0).delete(t);return new Fa(e).toPromise()}const yR=800,bR=3;class K0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gd(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>bR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return j0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_u._getInstance(pR()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await dR(),!this.activeServiceWorker)return;this.sender=new uR(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||fR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await gd();return await $m(t,Dl,"1"),await qm(t,Dl),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>$m(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>_R(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>qm(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const r=yu(s,!1).getAll();return new Fa(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:r}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),e.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),e.push(s));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}K0.type="LOCAL";const vR=K0;new La(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(n,t){return t?pi(t):(ct(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of extends kf{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Rr(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Rr(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Rr(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function ER(n){return V0(n.auth,new Of(n),n.bypassAuthState)}function TR(n){const{auth:t,user:e}=n;return ct(e,t,"internal-error"),ZC(e,new Of(n),n.bypassAuthState)}async function xR(n){const{auth:t,user:e}=n;return ct(e,t,"internal-error"),JC(e,new Of(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(t,e,i,s,r=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:s,tenantId:r,error:o,type:a}=t;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:e,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ER;case"linkViaPopup":case"linkViaRedirect":return xR;case"reauthViaPopup":case"reauthViaRedirect":return TR;default:Pn(this.auth,"internal-error")}}resolve(t){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=new La(2e3,1e4);class vr extends G0{constructor(t,e,i,s,r){super(t,e,s,r),this.provider=i,this.authWindow=null,this.pollId=null,vr.currentPopupAction&&vr.currentPopupAction.cancel(),vr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ct(t,this.auth,"internal-error"),t}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const t=Mf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vr.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,IR.get())};t()}}vr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="pendingRedirect",Xc=new Map;class SR extends G0{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Xc.get(this.auth._key());if(!t){try{const i=await PR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Xc.set(this.auth._key(),t)}return this.bypassAuthState||Xc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PR(n,t){const e=kR(t),i=RR(n);if(!await i._isAvailable())return!1;const s=await i._get(e)==="true";return await i._remove(e),s}function CR(n,t){Xc.set(n._key(),t)}function RR(n){return pi(n._redirectPersistence)}function kR(n){return Qc(AR,n.config.apiKey,n.name)}async function DR(n,t,e=!1){if(_n(n.app))return Promise.reject(yi(n));const i=Zs(n),s=wR(i,t),o=await new SR(i,s,e).execute();return o&&!e&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=10*60*1e3;class OR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!LR(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!Y0(t)){const s=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(Wn(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=MR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Km(t))}saveEventToCache(t){this.cachedEventUids.add(Km(t)),this.lastProcessedEventTime=Date.now()}}function Km(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function Y0({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function LR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Y0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NR(n,t={}){return kn(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FR=/^https?/;async function BR(n){if(n.config.emulator)return;const{authorizedDomains:t}=await NR(n);for(const e of t)try{if(UR(e))return}catch{}Pn(n,"unauthorized-domain")}function UR(n){const t=dd(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&o.hostname===i}if(!FR.test(e))return!1;if(VR.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=new La(3e4,6e4);function Gm(){const n=jn().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function zR(n){return new Promise((t,e)=>{var i,s,r;function o(){Gm(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Gm(),e(Wn(n,"network-request-failed"))},timeout:HR.get()})}if(!((s=(i=jn().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((r=jn().gapi)===null||r===void 0)&&r.load)o();else{const a=kC("iframefcb");return jn()[a]=()=>{gapi.load?o():e(Wn(n,"network-request-failed"))},D0(`${RC()}?onload=${a}`).catch(c=>e(c))}}).catch(t=>{throw Jc=null,t})}let Jc=null;function WR(n){return Jc=Jc||zR(n),Jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=new La(5e3,15e3),$R="__/auth/iframe",qR="emulator/auth/iframe",KR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YR(n){const t=n.config;ct(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Pf(t,qR):`https://${n.config.authDomain}/${$R}`,i={apiKey:t.apiKey,appName:n.name,v:Gr},s=GR.get(n.config.apiHost);s&&(i.eid=s);const r=n._getFrameworks();return r.length&&(i.fw=r.join(",")),`${e}?${Oa(i).slice(1)}`}async function QR(n){const t=await WR(n),e=jn().gapi;return ct(e,n,"internal-error"),t.open({where:document.body,url:YR(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KR,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const o=Wn(n,"network-request-failed"),a=jn().setTimeout(()=>{r(o)},jR.get());function c(){jn().clearTimeout(a),s(i)}i.ping(c).then(c,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JR=500,ZR=600,tk="_blank",ek="http://localhost";class Ym{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nk(n,t,e,i=JR,s=ZR){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const c=Object.assign(Object.assign({},XR),{width:i.toString(),height:s.toString(),top:r,left:o}),l=$e().toLowerCase();e&&(a=I0(l)?tk:e),T0(l)&&(t=t||ek,c.scrollbars="yes");const h=Object.entries(c).reduce((f,[g,_])=>`${f}${g}=${_},`,"");if(wC(l)&&a!=="_self")return ik(t||"",a),new Ym(null);const d=window.open(t||"",a,h);ct(d,n,"popup-blocked");try{d.focus()}catch{}return new Ym(d)}function ik(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk="__/auth/handler",rk="emulator/auth/handler",ok=encodeURIComponent("fac");async function Qm(n,t,e,i,s,r){ct(n.config.authDomain,n,"auth-domain-config-required"),ct(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Gr,eventId:s};if(t instanceof L0){t.setDefaultLanguage(n.languageCode),o.providerId=t.providerId||"",jS(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(t instanceof Va){const h=t.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await n._getAppCheckToken(),l=c?`#${ok}=${encodeURIComponent(c)}`:"";return`${ak(n)}?${Oa(a).slice(1)}${l}`}function ak({config:n}){return n.emulator?Pf(n,rk):`https://${n.authDomain}/${sk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh="webStorageSupport";class ck{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=W0,this._completeRedirectFn=DR,this._overrideRedirectResult=CR}async _openPopup(t,e,i,s){var r;wi((r=this.eventManagers[t._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await Qm(t,e,i,dd(),s);return nk(t,o,Mf())}async _openRedirect(t,e,i,s){await this._originValidation(t);const r=await Qm(t,e,i,dd(),s);return hR(r),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:s,promise:r}=this.eventManagers[e];return s?Promise.resolve(s):(wi(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await QR(t),i=new OR(t);return e.register("authEvent",s=>(ct(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(xh,{type:xh},s=>{var r;const o=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[xh];o!==void 0&&e(!!o),Pn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=BR(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return R0()||x0()||Rf()}}const lk=ck;var Xm="@firebase/auth",Jm="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dk(n){Or(new js("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;ct(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k0(n)},l=new SC(i,s,r,c);return VC(l,e),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Or(new js("auth-internal",t=>{const e=Zs(t.getProvider("auth").getImmediate());return(i=>new uk(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ts(Xm,Jm,hk(n)),ts(Xm,Jm,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=5*60,pk=a0("authIdTokenMaxAge")||fk;let Zm=null;const gk=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>pk)return;const s=e==null?void 0:e.token;Zm!==s&&(Zm=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Q0(n=h0()){const t=If(n,"auth");if(t.isInitialized())return t.getImmediate();const e=NC(n,{popupRedirectResolver:lk,persistence:[vR,cR,W0]}),i=a0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const o=gk(r.toString());sR(e,o,()=>o(e.currentUser)),iR(e,a=>o(a))}}const s=r0("auth");return s&&FC(e,`http://${s}`),e}function mk(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}PC({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=s=>{const r=Wn("internal-error");r.customData=s,e(r)},i.type="text/javascript",i.charset="UTF-8",mk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dk("Browser");/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const gr=typeof document<"u";function X0(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function _k(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&X0(n.default)}const Lt=Object.assign;function Ih(n,t){const e={};for(const i in t){const s=t[i];e[i]=Cn(s)?s.map(n):n(s)}return e}const Ko=()=>{},Cn=Array.isArray,J0=/#/g,yk=/&/g,bk=/\//g,vk=/=/g,wk=/\?/g,Z0=/\+/g,Ek=/%5B/g,Tk=/%5D/g,tw=/%5E/g,xk=/%60/g,ew=/%7B/g,Ik=/%7C/g,nw=/%7D/g,Ak=/%20/g;function Lf(n){return encodeURI(""+n).replace(Ik,"|").replace(Ek,"[").replace(Tk,"]")}function Sk(n){return Lf(n).replace(ew,"{").replace(nw,"}").replace(tw,"^")}function md(n){return Lf(n).replace(Z0,"%2B").replace(Ak,"+").replace(J0,"%23").replace(yk,"%26").replace(xk,"`").replace(ew,"{").replace(nw,"}").replace(tw,"^")}function Pk(n){return md(n).replace(vk,"%3D")}function Ck(n){return Lf(n).replace(J0,"%23").replace(wk,"%3F")}function Rk(n){return n==null?"":Ck(n).replace(bk,"%2F")}function fa(n){try{return decodeURIComponent(""+n)}catch{}return""+n}const kk=/\/$/,Dk=n=>n.replace(kk,"");function Ah(n,t,e="/"){let i,s={},r="",o="";const a=t.indexOf("#");let c=t.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(i=t.slice(0,c),r=t.slice(c+1,a>-1?a:t.length),s=n(r)),a>-1&&(i=i||t.slice(0,a),o=t.slice(a,t.length)),i=Nk(i??t,e),{fullPath:i+(r&&"?")+r+o,path:i,query:s,hash:fa(o)}}function Mk(n,t){const e=t.query?n(t.query):"";return t.path+(e&&"?")+e+(t.hash||"")}function t_(n,t){return!t||!n.toLowerCase().startsWith(t.toLowerCase())?n:n.slice(t.length)||"/"}function Ok(n,t,e){const i=t.matched.length-1,s=e.matched.length-1;return i>-1&&i===s&&Lr(t.matched[i],e.matched[s])&&iw(t.params,e.params)&&n(t.query)===n(e.query)&&t.hash===e.hash}function Lr(n,t){return(n.aliasOf||n)===(t.aliasOf||t)}function iw(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const e in n)if(!Lk(n[e],t[e]))return!1;return!0}function Lk(n,t){return Cn(n)?e_(n,t):Cn(t)?e_(t,n):n===t}function e_(n,t){return Cn(t)?n.length===t.length&&n.every((e,i)=>e===t[i]):n.length===1&&n[0]===t}function Nk(n,t){if(n.startsWith("/"))return n;if(!n)return t;const e=t.split("/"),i=n.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let r=e.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")r>1&&r--;else break;return e.slice(0,r).join("/")+"/"+i.slice(o).join("/")}const Li={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var pa;(function(n){n.pop="pop",n.push="push"})(pa||(pa={}));var Go;(function(n){n.back="back",n.forward="forward",n.unknown=""})(Go||(Go={}));function Vk(n){if(!n)if(gr){const t=document.querySelector("base");n=t&&t.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),Dk(n)}const Fk=/^[^#]+#/;function Bk(n,t){return n.replace(Fk,"#")+t}function Uk(n,t){const e=document.documentElement.getBoundingClientRect(),i=n.getBoundingClientRect();return{behavior:t.behavior,left:i.left-e.left-(t.left||0),top:i.top-e.top-(t.top||0)}}const bu=()=>({left:window.scrollX,top:window.scrollY});function Hk(n){let t;if("el"in n){const e=n.el,i=typeof e=="string"&&e.startsWith("#"),s=typeof e=="string"?i?document.getElementById(e.slice(1)):document.querySelector(e):e;if(!s)return;t=Uk(s,n)}else t=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function n_(n,t){return(history.state?history.state.position-t:-1)+n}const _d=new Map;function zk(n,t){_d.set(n,t)}function Wk(n){const t=_d.get(n);return _d.delete(n),t}let jk=()=>location.protocol+"//"+location.host;function sw(n,t){const{pathname:e,search:i,hash:s}=t,r=n.indexOf("#");if(r>-1){let a=s.includes(n.slice(r))?n.slice(r).length:1,c=s.slice(a);return c[0]!=="/"&&(c="/"+c),t_(c,"")}return t_(e,n)+i+s}function $k(n,t,e,i){let s=[],r=[],o=null;const a=({state:f})=>{const g=sw(n,location),_=e.value,y=t.value;let v=0;if(f){if(e.value=g,t.value=f,o&&o===_){o=null;return}v=y?f.position-y.position:0}else i(g);s.forEach(I=>{I(e.value,_,{delta:v,type:pa.pop,direction:v?v>0?Go.forward:Go.back:Go.unknown})})};function c(){o=e.value}function l(f){s.push(f);const g=()=>{const _=s.indexOf(f);_>-1&&s.splice(_,1)};return r.push(g),g}function h(){const{history:f}=window;f.state&&f.replaceState(Lt({},f.state,{scroll:bu()}),"")}function d(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:c,listen:l,destroy:d}}function i_(n,t,e,i=!1,s=!1){return{back:n,current:t,forward:e,replaced:i,position:window.history.length,scroll:s?bu():null}}function qk(n){const{history:t,location:e}=window,i={value:sw(n,e)},s={value:t.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(c,l,h){const d=n.indexOf("#"),f=d>-1?(e.host&&document.querySelector("base")?n:n.slice(d))+c:jk()+n+c;try{t[h?"replaceState":"pushState"](l,"",f),s.value=l}catch(g){console.error(g),e[h?"replace":"assign"](f)}}function o(c,l){const h=Lt({},t.state,i_(s.value.back,c,s.value.forward,!0),l,{position:s.value.position});r(c,h,!0),i.value=c}function a(c,l){const h=Lt({},s.value,t.state,{forward:c,scroll:bu()});r(h.current,h,!0);const d=Lt({},i_(i.value,c,null),{position:h.position+1},l);r(c,d,!1),i.value=c}return{location:i,state:s,push:a,replace:o}}function Kk(n){n=Vk(n);const t=qk(n),e=$k(n,t.state,t.location,t.replace);function i(r,o=!0){o||e.pauseListeners(),history.go(r)}const s=Lt({location:"",base:n,go:i,createHref:Bk.bind(null,n)},t,e);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function Gk(n){return typeof n=="string"||n&&typeof n=="object"}function rw(n){return typeof n=="string"||typeof n=="symbol"}const ow=Symbol("");var s_;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(s_||(s_={}));function Nr(n,t){return Lt(new Error,{type:n,[ow]:!0},t)}function ii(n,t){return n instanceof Error&&ow in n&&(t==null||!!(n.type&t))}const r_="[^/]+?",Yk={sensitive:!1,strict:!1,start:!0,end:!0},Qk=/[.+*?^${}()[\]/\\]/g;function Xk(n,t){const e=Lt({},Yk,t),i=[];let s=e.start?"^":"";const r=[];for(const l of n){const h=l.length?[]:[90];e.strict&&!l.length&&(s+="/");for(let d=0;d<l.length;d++){const f=l[d];let g=40+(e.sensitive?.25:0);if(f.type===0)d||(s+="/"),s+=f.value.replace(Qk,"\\$&"),g+=40;else if(f.type===1){const{value:_,repeatable:y,optional:v,regexp:I}=f;r.push({name:_,repeatable:y,optional:v});const A=I||r_;if(A!==r_){g+=10;try{new RegExp(`(${A})`)}catch(M){throw new Error(`Invalid custom RegExp for param "${_}" (${A}): `+M.message)}}let k=y?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;d||(k=v&&l.length<2?`(?:/${k})`:"/"+k),v&&(k+="?"),s+=k,g+=20,v&&(g+=-8),y&&(g+=-20),A===".*"&&(g+=-50)}h.push(g)}i.push(h)}if(e.strict&&e.end){const l=i.length-1;i[l][i[l].length-1]+=.7000000000000001}e.strict||(s+="/?"),e.end?s+="$":e.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,e.sensitive?"":"i");function a(l){const h=l.match(o),d={};if(!h)return null;for(let f=1;f<h.length;f++){const g=h[f]||"",_=r[f-1];d[_.name]=g&&_.repeatable?g.split("/"):g}return d}function c(l){let h="",d=!1;for(const f of n){(!d||!h.endsWith("/"))&&(h+="/"),d=!1;for(const g of f)if(g.type===0)h+=g.value;else if(g.type===1){const{value:_,repeatable:y,optional:v}=g,I=_ in l?l[_]:"";if(Cn(I)&&!y)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const A=Cn(I)?I.join("/"):I;if(!A)if(v)f.length<2&&(h.endsWith("/")?h=h.slice(0,-1):d=!0);else throw new Error(`Missing required param "${_}"`);h+=A}}return h||"/"}return{re:o,score:i,keys:r,parse:a,stringify:c}}function Jk(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=t[e]-n[e];if(i)return i;e++}return n.length<t.length?n.length===1&&n[0]===80?-1:1:n.length>t.length?t.length===1&&t[0]===80?1:-1:0}function aw(n,t){let e=0;const i=n.score,s=t.score;for(;e<i.length&&e<s.length;){const r=Jk(i[e],s[e]);if(r)return r;e++}if(Math.abs(s.length-i.length)===1){if(o_(i))return 1;if(o_(s))return-1}return s.length-i.length}function o_(n){const t=n[n.length-1];return n.length>0&&t[t.length-1]<0}const Zk={type:0,value:""},tD=/[a-zA-Z0-9_]/;function eD(n){if(!n)return[[]];if(n==="/")return[[Zk]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function t(g){throw new Error(`ERR (${e})/"${l}": ${g}`)}let e=0,i=e;const s=[];let r;function o(){r&&s.push(r),r=[]}let a=0,c,l="",h="";function d(){l&&(e===0?r.push({type:0,value:l}):e===1||e===2||e===3?(r.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:l,regexp:h,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),l="")}function f(){l+=c}for(;a<n.length;){if(c=n[a++],c==="\\"&&e!==2){i=e,e=4;continue}switch(e){case 0:c==="/"?(l&&d(),o()):c===":"?(d(),e=1):f();break;case 4:f(),e=i;break;case 1:c==="("?e=2:tD.test(c)?f():(d(),e=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+c:e=3:h+=c;break;case 3:d(),e=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,h="";break;default:t("Unknown state");break}}return e===2&&t(`Unfinished custom RegExp for param "${l}"`),d(),o(),s}function nD(n,t,e){const i=Xk(eD(n.path),e),s=Lt(i,{record:n,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function iD(n,t){const e=[],i=new Map;t=u_({strict:!1,end:!0,sensitive:!1},t);function s(d){return i.get(d)}function r(d,f,g){const _=!g,y=c_(d);y.aliasOf=g&&g.record;const v=u_(t,d),I=[y];if("alias"in d){const M=typeof d.alias=="string"?[d.alias]:d.alias;for(const N of M)I.push(c_(Lt({},y,{components:g?g.record.components:y.components,path:N,aliasOf:g?g.record:y})))}let A,k;for(const M of I){const{path:N}=M;if(f&&N[0]!=="/"){const B=f.record.path,T=B[B.length-1]==="/"?"":"/";M.path=f.record.path+(N&&T+N)}if(A=nD(M,f,v),g?g.alias.push(A):(k=k||A,k!==A&&k.alias.push(A),_&&d.name&&!l_(A)&&o(d.name)),cw(A)&&c(A),y.children){const B=y.children;for(let T=0;T<B.length;T++)r(B[T],A,g&&g.children[T])}g=g||A}return k?()=>{o(k)}:Ko}function o(d){if(rw(d)){const f=i.get(d);f&&(i.delete(d),e.splice(e.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=e.indexOf(d);f>-1&&(e.splice(f,1),d.record.name&&i.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return e}function c(d){const f=oD(d,e);e.splice(f,0,d),d.record.name&&!l_(d)&&i.set(d.record.name,d)}function l(d,f){let g,_={},y,v;if("name"in d&&d.name){if(g=i.get(d.name),!g)throw Nr(1,{location:d});v=g.record.name,_=Lt(a_(f.params,g.keys.filter(k=>!k.optional).concat(g.parent?g.parent.keys.filter(k=>k.optional):[]).map(k=>k.name)),d.params&&a_(d.params,g.keys.map(k=>k.name))),y=g.stringify(_)}else if(d.path!=null)y=d.path,g=e.find(k=>k.re.test(y)),g&&(_=g.parse(y),v=g.record.name);else{if(g=f.name?i.get(f.name):e.find(k=>k.re.test(f.path)),!g)throw Nr(1,{location:d,currentLocation:f});v=g.record.name,_=Lt({},f.params,d.params),y=g.stringify(_)}const I=[];let A=g;for(;A;)I.unshift(A.record),A=A.parent;return{name:v,path:y,params:_,matched:I,meta:rD(I)}}n.forEach(d=>r(d));function h(){e.length=0,i.clear()}return{addRoute:r,resolve:l,removeRoute:o,clearRoutes:h,getRoutes:a,getRecordMatcher:s}}function a_(n,t){const e={};for(const i of t)i in n&&(e[i]=n[i]);return e}function c_(n){const t={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:sD(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function sD(n){const t={},e=n.props||!1;if("component"in n)t.default=e;else for(const i in n.components)t[i]=typeof e=="object"?e[i]:e;return t}function l_(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function rD(n){return n.reduce((t,e)=>Lt(t,e.meta),{})}function u_(n,t){const e={};for(const i in n)e[i]=i in t?t[i]:n[i];return e}function oD(n,t){let e=0,i=t.length;for(;e!==i;){const r=e+i>>1;aw(n,t[r])<0?i=r:e=r+1}const s=aD(n);return s&&(i=t.lastIndexOf(s,i-1)),i}function aD(n){let t=n;for(;t=t.parent;)if(cw(t)&&aw(n,t)===0)return t}function cw({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function cD(n){const t={};if(n===""||n==="?")return t;const i=(n[0]==="?"?n.slice(1):n).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(Z0," "),o=r.indexOf("="),a=fa(o<0?r:r.slice(0,o)),c=o<0?null:fa(r.slice(o+1));if(a in t){let l=t[a];Cn(l)||(l=t[a]=[l]),l.push(c)}else t[a]=c}return t}function h_(n){let t="";for(let e in n){const i=n[e];if(e=Pk(e),i==null){i!==void 0&&(t+=(t.length?"&":"")+e);continue}(Cn(i)?i.map(r=>r&&md(r)):[i&&md(i)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+e,r!=null&&(t+="="+r))})}return t}function lD(n){const t={};for(const e in n){const i=n[e];i!==void 0&&(t[e]=Cn(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return t}const uD=Symbol(""),d_=Symbol(""),vu=Symbol(""),Nf=Symbol(""),yd=Symbol("");function yo(){let n=[];function t(i){return n.push(i),()=>{const s=n.indexOf(i);s>-1&&n.splice(s,1)}}function e(){n=[]}return{add:t,list:()=>n.slice(),reset:e}}function Hi(n,t,e,i,s,r=o=>o()){const o=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((a,c)=>{const l=f=>{f===!1?c(Nr(4,{from:e,to:t})):f instanceof Error?c(f):Gk(f)?c(Nr(2,{from:t,to:f})):(o&&i.enterCallbacks[s]===o&&typeof f=="function"&&o.push(f),a())},h=r(()=>n.call(i&&i.instances[s],t,e,l));let d=Promise.resolve(h);n.length<3&&(d=d.then(l)),d.catch(f=>c(f))})}function Sh(n,t,e,i,s=r=>r()){const r=[];for(const o of n)for(const a in o.components){let c=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(X0(c)){const h=(c.__vccOpts||c)[t];h&&r.push(Hi(h,e,i,o,a,s))}else{let l=c();r.push(()=>l.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=_k(h)?h.default:h;o.mods[a]=h,o.components[a]=d;const g=(d.__vccOpts||d)[t];return g&&Hi(g,e,i,o,a,s)()}))}}return r}function f_(n){const t=An(vu),e=An(Nf),i=Tn(()=>{const c=xr(n.to);return t.resolve(c)}),s=Tn(()=>{const{matched:c}=i.value,{length:l}=c,h=c[l-1],d=e.matched;if(!h||!d.length)return-1;const f=d.findIndex(Lr.bind(null,h));if(f>-1)return f;const g=p_(c[l-2]);return l>1&&p_(h)===g&&d[d.length-1].path!==g?d.findIndex(Lr.bind(null,c[l-2])):f}),r=Tn(()=>s.value>-1&&gD(e.params,i.value.params)),o=Tn(()=>s.value>-1&&s.value===e.matched.length-1&&iw(e.params,i.value.params));function a(c={}){if(pD(c)){const l=t[xr(n.replace)?"replace":"push"](xr(n.to)).catch(Ko);return n.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>l),l}return Promise.resolve()}return{route:i,href:Tn(()=>i.value.href),isActive:r,isExactActive:o,navigate:a}}function hD(n){return n.length===1?n[0]:n}const dD=Av({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:f_,setup(n,{slots:t}){const e=lu(f_(n)),{options:i}=An(vu),s=Tn(()=>({[g_(n.activeClass,i.linkActiveClass,"router-link-active")]:e.isActive,[g_(n.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:e.isExactActive}));return()=>{const r=t.default&&hD(t.default(e));return n.custom?r:Ef("a",{"aria-current":e.isExactActive?n.ariaCurrentValue:null,href:e.href,onClick:e.navigate,class:s.value},r)}}}),fD=dD;function pD(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const t=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return n.preventDefault&&n.preventDefault(),!0}}function gD(n,t){for(const e in t){const i=t[e],s=n[e];if(typeof i=="string"){if(i!==s)return!1}else if(!Cn(s)||s.length!==i.length||i.some((r,o)=>r!==s[o]))return!1}return!0}function p_(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const g_=(n,t,e)=>n??t??e,mD=Av({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:t,slots:e}){const i=An(yd),s=Tn(()=>n.route||i.value),r=An(d_,0),o=Tn(()=>{let l=xr(r);const{matched:h}=s.value;let d;for(;(d=h[l])&&!d.components;)l++;return l}),a=Tn(()=>s.value.matched[o.value]);Wc(d_,Tn(()=>o.value+1)),Wc(uD,a),Wc(yd,s);const c=yv();return jc(()=>[c.value,a.value,n.name],([l,h,d],[f,g,_])=>{h&&(h.instances[d]=l,g&&g!==h&&l&&l===f&&(h.leaveGuards.size||(h.leaveGuards=g.leaveGuards),h.updateGuards.size||(h.updateGuards=g.updateGuards))),l&&h&&(!g||!Lr(h,g)||!f)&&(h.enterCallbacks[d]||[]).forEach(y=>y(l))},{flush:"post"}),()=>{const l=s.value,h=n.name,d=a.value,f=d&&d.components[h];if(!f)return m_(e.default,{Component:f,route:l});const g=d.props[h],_=g?g===!0?l.params:typeof g=="function"?g(l):g:null,v=Ef(f,Lt({},_,t,{onVnodeUnmounted:I=>{I.component.isUnmounted&&(d.instances[h]=null)},ref:c}));return m_(e.default,{Component:v,route:l})||v}}});function m_(n,t){if(!n)return null;const e=n(t);return e.length===1?e[0]:e}const _D=mD;function yD(n){const t=iD(n.routes,n),e=n.parseQuery||cD,i=n.stringifyQuery||h_,s=n.history,r=yo(),o=yo(),a=yo(),c=RI(Li);let l=Li;gr&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Ih.bind(null,U=>""+U),d=Ih.bind(null,Rk),f=Ih.bind(null,fa);function g(U,Z){let X,nt;return rw(U)?(X=t.getRecordMatcher(U),nt=Z):nt=U,t.addRoute(nt,X)}function _(U){const Z=t.getRecordMatcher(U);Z&&t.removeRoute(Z)}function y(){return t.getRoutes().map(U=>U.record)}function v(U){return!!t.getRecordMatcher(U)}function I(U,Z){if(Z=Lt({},Z||c.value),typeof U=="string"){const O=Ah(e,U,Z.path),H=t.resolve({path:O.path},Z),$=s.createHref(O.fullPath);return Lt(O,H,{params:f(H.params),hash:fa(O.hash),redirectedFrom:void 0,href:$})}let X;if(U.path!=null)X=Lt({},U,{path:Ah(e,U.path,Z.path).path});else{const O=Lt({},U.params);for(const H in O)O[H]==null&&delete O[H];X=Lt({},U,{params:d(O)}),Z.params=d(Z.params)}const nt=t.resolve(X,Z),Rt=U.hash||"";nt.params=h(f(nt.params));const P=Mk(i,Lt({},U,{hash:Sk(Rt),path:nt.path})),R=s.createHref(P);return Lt({fullPath:P,hash:Rt,query:i===h_?lD(U.query):U.query||{}},nt,{redirectedFrom:void 0,href:R})}function A(U){return typeof U=="string"?Ah(e,U,c.value.path):Lt({},U)}function k(U,Z){if(l!==U)return Nr(8,{from:Z,to:U})}function M(U){return T(U)}function N(U){return M(Lt(A(U),{replace:!0}))}function B(U){const Z=U.matched[U.matched.length-1];if(Z&&Z.redirect){const{redirect:X}=Z;let nt=typeof X=="function"?X(U):X;return typeof nt=="string"&&(nt=nt.includes("?")||nt.includes("#")?nt=A(nt):{path:nt},nt.params={}),Lt({query:U.query,hash:U.hash,params:nt.path!=null?{}:U.params},nt)}}function T(U,Z){const X=l=I(U),nt=c.value,Rt=U.state,P=U.force,R=U.replace===!0,O=B(X);if(O)return T(Lt(A(O),{state:typeof O=="object"?Lt({},Rt,O.state):Rt,force:P,replace:R}),Z||X);const H=X;H.redirectedFrom=Z;let $;return!P&&Ok(i,nt,X)&&($=Nr(16,{to:H,from:nt}),Ee(nt,nt,!0,!1)),($?Promise.resolve($):x(H,nt)).catch(W=>ii(W)?ii(W,2)?W:be(W):lt(W,H,nt)).then(W=>{if(W){if(ii(W,2))return T(Lt({replace:R},A(W.to),{state:typeof W.to=="object"?Lt({},Rt,W.to.state):Rt,force:P}),Z||H)}else W=D(H,nt,!0,R,Rt);return C(H,nt,W),W})}function b(U,Z){const X=k(U,Z);return X?Promise.reject(X):Promise.resolve()}function E(U){const Z=Ce.values().next().value;return Z&&typeof Z.runWithContext=="function"?Z.runWithContext(U):U()}function x(U,Z){let X;const[nt,Rt,P]=bD(U,Z);X=Sh(nt.reverse(),"beforeRouteLeave",U,Z);for(const O of nt)O.leaveGuards.forEach(H=>{X.push(Hi(H,U,Z))});const R=b.bind(null,U,Z);return X.push(R),se(X).then(()=>{X=[];for(const O of r.list())X.push(Hi(O,U,Z));return X.push(R),se(X)}).then(()=>{X=Sh(Rt,"beforeRouteUpdate",U,Z);for(const O of Rt)O.updateGuards.forEach(H=>{X.push(Hi(H,U,Z))});return X.push(R),se(X)}).then(()=>{X=[];for(const O of P)if(O.beforeEnter)if(Cn(O.beforeEnter))for(const H of O.beforeEnter)X.push(Hi(H,U,Z));else X.push(Hi(O.beforeEnter,U,Z));return X.push(R),se(X)}).then(()=>(U.matched.forEach(O=>O.enterCallbacks={}),X=Sh(P,"beforeRouteEnter",U,Z,E),X.push(R),se(X))).then(()=>{X=[];for(const O of o.list())X.push(Hi(O,U,Z));return X.push(R),se(X)}).catch(O=>ii(O,8)?O:Promise.reject(O))}function C(U,Z,X){a.list().forEach(nt=>E(()=>nt(U,Z,X)))}function D(U,Z,X,nt,Rt){const P=k(U,Z);if(P)return P;const R=Z===Li,O=gr?history.state:{};X&&(nt||R?s.replace(U.fullPath,Lt({scroll:R&&O&&O.scroll},Rt)):s.push(U.fullPath,Rt)),c.value=U,Ee(U,Z,X,R),be()}let S;function Ct(){S||(S=s.listen((U,Z,X)=>{if(!Re.listening)return;const nt=I(U),Rt=B(nt);if(Rt){T(Lt(Rt,{replace:!0,force:!0}),nt).catch(Ko);return}l=nt;const P=c.value;gr&&zk(n_(P.fullPath,X.delta),bu()),x(nt,P).catch(R=>ii(R,12)?R:ii(R,2)?(T(Lt(A(R.to),{force:!0}),nt).then(O=>{ii(O,20)&&!X.delta&&X.type===pa.pop&&s.go(-1,!1)}).catch(Ko),Promise.reject()):(X.delta&&s.go(-X.delta,!1),lt(R,nt,P))).then(R=>{R=R||D(nt,P,!1),R&&(X.delta&&!ii(R,8)?s.go(-X.delta,!1):X.type===pa.pop&&ii(R,20)&&s.go(-1,!1)),C(nt,P,R)}).catch(Ko)}))}let wt=yo(),ft=yo(),it;function lt(U,Z,X){be(U);const nt=ft.list();return nt.length?nt.forEach(Rt=>Rt(U,Z,X)):console.error(U),Promise.reject(U)}function Mt(){return it&&c.value!==Li?Promise.resolve():new Promise((U,Z)=>{wt.add([U,Z])})}function be(U){return it||(it=!U,Ct(),wt.list().forEach(([Z,X])=>U?X(U):Z()),wt.reset()),U}function Ee(U,Z,X,nt){const{scrollBehavior:Rt}=n;if(!gr||!Rt)return Promise.resolve();const P=!X&&Wk(n_(U.fullPath,0))||(nt||!X)&&history.state&&history.state.scroll||null;return _f().then(()=>Rt(U,Z,P)).then(R=>R&&Hk(R)).catch(R=>lt(R,U,Z))}const Ot=U=>s.go(U);let Bt;const Ce=new Set,Re={currentRoute:c,listening:!0,addRoute:g,removeRoute:_,clearRoutes:t.clearRoutes,hasRoute:v,getRoutes:y,resolve:I,options:n,push:M,replace:N,go:Ot,back:()=>Ot(-1),forward:()=>Ot(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:ft.add,isReady:Mt,install(U){const Z=this;U.component("RouterLink",fD),U.component("RouterView",_D),U.config.globalProperties.$router=Z,Object.defineProperty(U.config.globalProperties,"$route",{enumerable:!0,get:()=>xr(c)}),gr&&!Bt&&c.value===Li&&(Bt=!0,M(s.location).catch(Rt=>{}));const X={};for(const Rt in Li)Object.defineProperty(X,Rt,{get:()=>c.value[Rt],enumerable:!0});U.provide(vu,Z),U.provide(Nf,mv(X)),U.provide(yd,c);const nt=U.unmount;Ce.add(U),U.unmount=function(){Ce.delete(U),Ce.size<1&&(l=Li,S&&S(),S=null,c.value=Li,Bt=!1,it=!1),nt()}}};function se(U){return U.reduce((Z,X)=>Z.then(()=>E(X)),Promise.resolve())}return Re}function bD(n,t){const e=[],i=[],s=[],r=Math.max(t.matched.length,n.matched.length);for(let o=0;o<r;o++){const a=t.matched[o];a&&(n.matched.find(l=>Lr(l,a))?i.push(a):e.push(a));const c=n.matched[o];c&&(t.matched.find(l=>Lr(l,c))||s.push(c))}return[e,i,s]}function vD(){return An(vu)}function wD(n){return An(Nf)}const ED=(n,t)=>{const e=n.__vccOpts||n;for(const[i,s]of t)e[i]=s;return e},TD={key:0},xD={__name:"App",setup(n){const t=yv(!1),e=vD();wD();const i=Q0();Rv(()=>{B0(i,r=>{t.value=!!r})});const s=()=>{rR(i).then(()=>{e.push("/")})};return(r,o)=>{const a=eA("router-view");return qc(),gh(Vn,null,[r.isHomePage?(qc(),gh("nav",TD,[t.value?(qc(),gh("button",{key:0,onClick:s}," Sign Out ")):cm("",!0)])):cm("",!0),Qe(a)],64)}}},ID=ED(xD,[["__scopeId","data-v-cb958411"]]),AD="modulepreload",SD=function(n){return"/"+n},__={},on=function(t,e,i){let s=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(e.map(c=>{if(c=SD(c),c in __)return;__[c]=!0;const l=c.endsWith(".css"),h=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":AD,l||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),l)return new Promise((f,g)=>{d.addEventListener("load",f),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&r(a.reason);return t().catch(r)})};var y_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var es,lw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,b){function E(){}E.prototype=b.prototype,T.D=b.prototype,T.prototype=new E,T.prototype.constructor=T,T.C=function(x,C,D){for(var S=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)S[Ct-2]=arguments[Ct];return b.prototype[C].apply(x,S)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,b,E){E||(E=0);var x=Array(16);if(typeof b=="string")for(var C=0;16>C;++C)x[C]=b.charCodeAt(E++)|b.charCodeAt(E++)<<8|b.charCodeAt(E++)<<16|b.charCodeAt(E++)<<24;else for(C=0;16>C;++C)x[C]=b[E++]|b[E++]<<8|b[E++]<<16|b[E++]<<24;b=T.g[0],E=T.g[1],C=T.g[2];var D=T.g[3],S=b+(D^E&(C^D))+x[0]+3614090360&4294967295;b=E+(S<<7&4294967295|S>>>25),S=D+(C^b&(E^C))+x[1]+3905402710&4294967295,D=b+(S<<12&4294967295|S>>>20),S=C+(E^D&(b^E))+x[2]+606105819&4294967295,C=D+(S<<17&4294967295|S>>>15),S=E+(b^C&(D^b))+x[3]+3250441966&4294967295,E=C+(S<<22&4294967295|S>>>10),S=b+(D^E&(C^D))+x[4]+4118548399&4294967295,b=E+(S<<7&4294967295|S>>>25),S=D+(C^b&(E^C))+x[5]+1200080426&4294967295,D=b+(S<<12&4294967295|S>>>20),S=C+(E^D&(b^E))+x[6]+2821735955&4294967295,C=D+(S<<17&4294967295|S>>>15),S=E+(b^C&(D^b))+x[7]+4249261313&4294967295,E=C+(S<<22&4294967295|S>>>10),S=b+(D^E&(C^D))+x[8]+1770035416&4294967295,b=E+(S<<7&4294967295|S>>>25),S=D+(C^b&(E^C))+x[9]+2336552879&4294967295,D=b+(S<<12&4294967295|S>>>20),S=C+(E^D&(b^E))+x[10]+4294925233&4294967295,C=D+(S<<17&4294967295|S>>>15),S=E+(b^C&(D^b))+x[11]+2304563134&4294967295,E=C+(S<<22&4294967295|S>>>10),S=b+(D^E&(C^D))+x[12]+1804603682&4294967295,b=E+(S<<7&4294967295|S>>>25),S=D+(C^b&(E^C))+x[13]+4254626195&4294967295,D=b+(S<<12&4294967295|S>>>20),S=C+(E^D&(b^E))+x[14]+2792965006&4294967295,C=D+(S<<17&4294967295|S>>>15),S=E+(b^C&(D^b))+x[15]+1236535329&4294967295,E=C+(S<<22&4294967295|S>>>10),S=b+(C^D&(E^C))+x[1]+4129170786&4294967295,b=E+(S<<5&4294967295|S>>>27),S=D+(E^C&(b^E))+x[6]+3225465664&4294967295,D=b+(S<<9&4294967295|S>>>23),S=C+(b^E&(D^b))+x[11]+643717713&4294967295,C=D+(S<<14&4294967295|S>>>18),S=E+(D^b&(C^D))+x[0]+3921069994&4294967295,E=C+(S<<20&4294967295|S>>>12),S=b+(C^D&(E^C))+x[5]+3593408605&4294967295,b=E+(S<<5&4294967295|S>>>27),S=D+(E^C&(b^E))+x[10]+38016083&4294967295,D=b+(S<<9&4294967295|S>>>23),S=C+(b^E&(D^b))+x[15]+3634488961&4294967295,C=D+(S<<14&4294967295|S>>>18),S=E+(D^b&(C^D))+x[4]+3889429448&4294967295,E=C+(S<<20&4294967295|S>>>12),S=b+(C^D&(E^C))+x[9]+568446438&4294967295,b=E+(S<<5&4294967295|S>>>27),S=D+(E^C&(b^E))+x[14]+3275163606&4294967295,D=b+(S<<9&4294967295|S>>>23),S=C+(b^E&(D^b))+x[3]+4107603335&4294967295,C=D+(S<<14&4294967295|S>>>18),S=E+(D^b&(C^D))+x[8]+1163531501&4294967295,E=C+(S<<20&4294967295|S>>>12),S=b+(C^D&(E^C))+x[13]+2850285829&4294967295,b=E+(S<<5&4294967295|S>>>27),S=D+(E^C&(b^E))+x[2]+4243563512&4294967295,D=b+(S<<9&4294967295|S>>>23),S=C+(b^E&(D^b))+x[7]+1735328473&4294967295,C=D+(S<<14&4294967295|S>>>18),S=E+(D^b&(C^D))+x[12]+2368359562&4294967295,E=C+(S<<20&4294967295|S>>>12),S=b+(E^C^D)+x[5]+4294588738&4294967295,b=E+(S<<4&4294967295|S>>>28),S=D+(b^E^C)+x[8]+2272392833&4294967295,D=b+(S<<11&4294967295|S>>>21),S=C+(D^b^E)+x[11]+1839030562&4294967295,C=D+(S<<16&4294967295|S>>>16),S=E+(C^D^b)+x[14]+4259657740&4294967295,E=C+(S<<23&4294967295|S>>>9),S=b+(E^C^D)+x[1]+2763975236&4294967295,b=E+(S<<4&4294967295|S>>>28),S=D+(b^E^C)+x[4]+1272893353&4294967295,D=b+(S<<11&4294967295|S>>>21),S=C+(D^b^E)+x[7]+4139469664&4294967295,C=D+(S<<16&4294967295|S>>>16),S=E+(C^D^b)+x[10]+3200236656&4294967295,E=C+(S<<23&4294967295|S>>>9),S=b+(E^C^D)+x[13]+681279174&4294967295,b=E+(S<<4&4294967295|S>>>28),S=D+(b^E^C)+x[0]+3936430074&4294967295,D=b+(S<<11&4294967295|S>>>21),S=C+(D^b^E)+x[3]+3572445317&4294967295,C=D+(S<<16&4294967295|S>>>16),S=E+(C^D^b)+x[6]+76029189&4294967295,E=C+(S<<23&4294967295|S>>>9),S=b+(E^C^D)+x[9]+3654602809&4294967295,b=E+(S<<4&4294967295|S>>>28),S=D+(b^E^C)+x[12]+3873151461&4294967295,D=b+(S<<11&4294967295|S>>>21),S=C+(D^b^E)+x[15]+530742520&4294967295,C=D+(S<<16&4294967295|S>>>16),S=E+(C^D^b)+x[2]+3299628645&4294967295,E=C+(S<<23&4294967295|S>>>9),S=b+(C^(E|~D))+x[0]+4096336452&4294967295,b=E+(S<<6&4294967295|S>>>26),S=D+(E^(b|~C))+x[7]+1126891415&4294967295,D=b+(S<<10&4294967295|S>>>22),S=C+(b^(D|~E))+x[14]+2878612391&4294967295,C=D+(S<<15&4294967295|S>>>17),S=E+(D^(C|~b))+x[5]+4237533241&4294967295,E=C+(S<<21&4294967295|S>>>11),S=b+(C^(E|~D))+x[12]+1700485571&4294967295,b=E+(S<<6&4294967295|S>>>26),S=D+(E^(b|~C))+x[3]+2399980690&4294967295,D=b+(S<<10&4294967295|S>>>22),S=C+(b^(D|~E))+x[10]+4293915773&4294967295,C=D+(S<<15&4294967295|S>>>17),S=E+(D^(C|~b))+x[1]+2240044497&4294967295,E=C+(S<<21&4294967295|S>>>11),S=b+(C^(E|~D))+x[8]+1873313359&4294967295,b=E+(S<<6&4294967295|S>>>26),S=D+(E^(b|~C))+x[15]+4264355552&4294967295,D=b+(S<<10&4294967295|S>>>22),S=C+(b^(D|~E))+x[6]+2734768916&4294967295,C=D+(S<<15&4294967295|S>>>17),S=E+(D^(C|~b))+x[13]+1309151649&4294967295,E=C+(S<<21&4294967295|S>>>11),S=b+(C^(E|~D))+x[4]+4149444226&4294967295,b=E+(S<<6&4294967295|S>>>26),S=D+(E^(b|~C))+x[11]+3174756917&4294967295,D=b+(S<<10&4294967295|S>>>22),S=C+(b^(D|~E))+x[2]+718787259&4294967295,C=D+(S<<15&4294967295|S>>>17),S=E+(D^(C|~b))+x[9]+3951481745&4294967295,T.g[0]=T.g[0]+b&4294967295,T.g[1]=T.g[1]+(C+(S<<21&4294967295|S>>>11))&4294967295,T.g[2]=T.g[2]+C&4294967295,T.g[3]=T.g[3]+D&4294967295}i.prototype.u=function(T,b){b===void 0&&(b=T.length);for(var E=b-this.blockSize,x=this.B,C=this.h,D=0;D<b;){if(C==0)for(;D<=E;)s(this,T,D),D+=this.blockSize;if(typeof T=="string"){for(;D<b;)if(x[C++]=T.charCodeAt(D++),C==this.blockSize){s(this,x),C=0;break}}else for(;D<b;)if(x[C++]=T[D++],C==this.blockSize){s(this,x),C=0;break}}this.h=C,this.o+=b},i.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var b=1;b<T.length-8;++b)T[b]=0;var E=8*this.o;for(b=T.length-8;b<T.length;++b)T[b]=E&255,E/=256;for(this.u(T),T=Array(16),b=E=0;4>b;++b)for(var x=0;32>x;x+=8)T[E++]=this.g[b]>>>x&255;return T};function r(T,b){var E=a;return Object.prototype.hasOwnProperty.call(E,T)?E[T]:E[T]=b(T)}function o(T,b){this.h=b;for(var E=[],x=!0,C=T.length-1;0<=C;C--){var D=T[C]|0;x&&D==b||(E[C]=D,x=!1)}this.g=E}var a={};function c(T){return-128<=T&&128>T?r(T,function(b){return new o([b|0],0>b?-1:0)}):new o([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return v(l(-T));for(var b=[],E=1,x=0;T>=E;x++)b[x]=T/E|0,E*=4294967296;return new o(b,0)}function h(T,b){if(T.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(T.charAt(0)=="-")return v(h(T.substring(1),b));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(b,8)),x=d,C=0;C<T.length;C+=8){var D=Math.min(8,T.length-C),S=parseInt(T.substring(C,C+D),b);8>D?(D=l(Math.pow(b,D)),x=x.j(D).add(l(S))):(x=x.j(E),x=x.add(l(S)))}return x}var d=c(0),f=c(1),g=c(16777216);n=o.prototype,n.m=function(){if(y(this))return-v(this).m();for(var T=0,b=1,E=0;E<this.g.length;E++){var x=this.i(E);T+=(0<=x?x:4294967296+x)*b,b*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(_(this))return"0";if(y(this))return"-"+v(this).toString(T);for(var b=l(Math.pow(T,6)),E=this,x="";;){var C=M(E,b).g;E=I(E,C.j(b));var D=((0<E.g.length?E.g[0]:E.h)>>>0).toString(T);if(E=C,_(E))return D+x;for(;6>D.length;)D="0"+D;x=D+x}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function _(T){if(T.h!=0)return!1;for(var b=0;b<T.g.length;b++)if(T.g[b]!=0)return!1;return!0}function y(T){return T.h==-1}n.l=function(T){return T=I(this,T),y(T)?-1:_(T)?0:1};function v(T){for(var b=T.g.length,E=[],x=0;x<b;x++)E[x]=~T.g[x];return new o(E,~T.h).add(f)}n.abs=function(){return y(this)?v(this):this},n.add=function(T){for(var b=Math.max(this.g.length,T.g.length),E=[],x=0,C=0;C<=b;C++){var D=x+(this.i(C)&65535)+(T.i(C)&65535),S=(D>>>16)+(this.i(C)>>>16)+(T.i(C)>>>16);x=S>>>16,D&=65535,S&=65535,E[C]=S<<16|D}return new o(E,E[E.length-1]&-2147483648?-1:0)};function I(T,b){return T.add(v(b))}n.j=function(T){if(_(this)||_(T))return d;if(y(this))return y(T)?v(this).j(v(T)):v(v(this).j(T));if(y(T))return v(this.j(v(T)));if(0>this.l(g)&&0>T.l(g))return l(this.m()*T.m());for(var b=this.g.length+T.g.length,E=[],x=0;x<2*b;x++)E[x]=0;for(x=0;x<this.g.length;x++)for(var C=0;C<T.g.length;C++){var D=this.i(x)>>>16,S=this.i(x)&65535,Ct=T.i(C)>>>16,wt=T.i(C)&65535;E[2*x+2*C]+=S*wt,A(E,2*x+2*C),E[2*x+2*C+1]+=D*wt,A(E,2*x+2*C+1),E[2*x+2*C+1]+=S*Ct,A(E,2*x+2*C+1),E[2*x+2*C+2]+=D*Ct,A(E,2*x+2*C+2)}for(x=0;x<b;x++)E[x]=E[2*x+1]<<16|E[2*x];for(x=b;x<2*b;x++)E[x]=0;return new o(E,0)};function A(T,b){for(;(T[b]&65535)!=T[b];)T[b+1]+=T[b]>>>16,T[b]&=65535,b++}function k(T,b){this.g=T,this.h=b}function M(T,b){if(_(b))throw Error("division by zero");if(_(T))return new k(d,d);if(y(T))return b=M(v(T),b),new k(v(b.g),v(b.h));if(y(b))return b=M(T,v(b)),new k(v(b.g),b.h);if(30<T.g.length){if(y(T)||y(b))throw Error("slowDivide_ only works with positive integers.");for(var E=f,x=b;0>=x.l(T);)E=N(E),x=N(x);var C=B(E,1),D=B(x,1);for(x=B(x,2),E=B(E,2);!_(x);){var S=D.add(x);0>=S.l(T)&&(C=C.add(E),D=S),x=B(x,1),E=B(E,1)}return b=I(T,C.j(b)),new k(C,b)}for(C=d;0<=T.l(b);){for(E=Math.max(1,Math.floor(T.m()/b.m())),x=Math.ceil(Math.log(E)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),D=l(E),S=D.j(b);y(S)||0<S.l(T);)E-=x,D=l(E),S=D.j(b);_(D)&&(D=f),C=C.add(D),T=I(T,S)}return new k(C,T)}n.A=function(T){return M(this,T).h},n.and=function(T){for(var b=Math.max(this.g.length,T.g.length),E=[],x=0;x<b;x++)E[x]=this.i(x)&T.i(x);return new o(E,this.h&T.h)},n.or=function(T){for(var b=Math.max(this.g.length,T.g.length),E=[],x=0;x<b;x++)E[x]=this.i(x)|T.i(x);return new o(E,this.h|T.h)},n.xor=function(T){for(var b=Math.max(this.g.length,T.g.length),E=[],x=0;x<b;x++)E[x]=this.i(x)^T.i(x);return new o(E,this.h^T.h)};function N(T){for(var b=T.g.length+1,E=[],x=0;x<b;x++)E[x]=T.i(x)<<1|T.i(x-1)>>>31;return new o(E,T.h)}function B(T,b){var E=b>>5;b%=32;for(var x=T.g.length-E,C=[],D=0;D<x;D++)C[D]=0<b?T.i(D+E)>>>b|T.i(D+E+1)<<32-b:T.i(D+E);return new o(C,T.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,lw=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,es=o}).apply(typeof y_<"u"?y_:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uw,Ro,hw,Zc,bd,dw,fw,pw;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,m){return u==Array.prototype||u==Object.prototype||(u[p]=m.value),u};function e(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var p=0;p<u.length;++p){var m=u[p];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var i=e(this);function s(u,p){if(p)t:{var m=i;u=u.split(".");for(var w=0;w<u.length-1;w++){var L=u[w];if(!(L in m))break t;m=m[L]}u=u[u.length-1],w=m[u],p=p(w),p!=w&&p!=null&&t(m,u,{configurable:!0,writable:!0,value:p})}}function r(u,p){u instanceof String&&(u+="");var m=0,w=!1,L={next:function(){if(!w&&m<u.length){var F=m++;return{value:p(F,u[F]),done:!1}}return w=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(u){return u||function(){return r(this,function(p,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function l(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,m){return u.call.apply(u.bind,arguments)}function d(u,p,m){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,w),u.apply(p,L)}}return function(){return u.apply(p,arguments)}}function f(u,p,m){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,f.apply(null,arguments)}function g(u,p){var m=Array.prototype.slice.call(arguments,1);return function(){var w=m.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function _(u,p){function m(){}m.prototype=p.prototype,u.aa=p.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(w,L,F){for(var Y=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)Y[zt-2]=arguments[zt];return p.prototype[L].apply(w,Y)}}function y(u){const p=u.length;if(0<p){const m=Array(p);for(let w=0;w<p;w++)m[w]=u[w];return m}return[]}function v(u,p){for(let m=1;m<arguments.length;m++){const w=arguments[m];if(c(w)){const L=u.length||0,F=w.length||0;u.length=L+F;for(let Y=0;Y<F;Y++)u[L+Y]=w[Y]}else u.push(w)}}class I{constructor(p,m){this.i=p,this.j=m,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function A(u){return/^[\s\xa0]*$/.test(u)}function k(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function M(u){return M[" "](u),u}M[" "]=function(){};var N=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function B(u,p,m){for(const w in u)p.call(m,u[w],w,u)}function T(u,p){for(const m in u)p.call(void 0,u[m],m,u)}function b(u){const p={};for(const m in u)p[m]=u[m];return p}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,p){let m,w;for(let L=1;L<arguments.length;L++){w=arguments[L];for(m in w)u[m]=w[m];for(let F=0;F<E.length;F++)m=E[F],Object.prototype.hasOwnProperty.call(w,m)&&(u[m]=w[m])}}function C(u){var p=1;u=u.split(":");const m=[];for(;0<p&&u.length;)m.push(u.shift()),p--;return u.length&&m.push(u.join(":")),m}function D(u){a.setTimeout(()=>{throw u},0)}function S(){var u=Mt;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Ct{constructor(){this.h=this.g=null}add(p,m){const w=wt.get();w.set(p,m),this.h?this.h.next=w:this.g=w,this.h=w}}var wt=new I(()=>new ft,u=>u.reset());class ft{constructor(){this.next=this.g=this.h=null}set(p,m){this.h=p,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let it,lt=!1,Mt=new Ct,be=()=>{const u=a.Promise.resolve(void 0);it=()=>{u.then(Ee)}};var Ee=()=>{for(var u;u=S();){try{u.h.call(u.g)}catch(m){D(m)}var p=wt;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}lt=!1};function Ot(){this.s=this.s,this.C=this.C}Ot.prototype.s=!1,Ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Bt(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}Bt.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};a.addEventListener("test",m,p),a.removeEventListener("test",m,p)}catch{}return u}();function Re(u,p){if(Bt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(N){t:{try{M(p.nodeName);var L=!0;break t}catch{}L=!1}L||(p=null)}}else m=="mouseover"?p=u.fromElement:m=="mouseout"&&(p=u.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:se[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Re.aa.h.call(this)}}_(Re,Bt);var se={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var U="closure_listenable_"+(1e6*Math.random()|0),Z=0;function X(u,p,m,w,L){this.listener=u,this.proxy=null,this.src=p,this.type=m,this.capture=!!w,this.ha=L,this.key=++Z,this.da=this.fa=!1}function nt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Rt(u){this.src=u,this.g={},this.h=0}Rt.prototype.add=function(u,p,m,w,L){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var Y=R(u,p,w,L);return-1<Y?(p=u[Y],m||(p.fa=!1)):(p=new X(p,this.src,F,!!w,L),p.fa=m,u.push(p)),p};function P(u,p){var m=p.type;if(m in u.g){var w=u.g[m],L=Array.prototype.indexOf.call(w,p,void 0),F;(F=0<=L)&&Array.prototype.splice.call(w,L,1),F&&(nt(p),u.g[m].length==0&&(delete u.g[m],u.h--))}}function R(u,p,m,w){for(var L=0;L<u.length;++L){var F=u[L];if(!F.da&&F.listener==p&&F.capture==!!m&&F.ha==w)return L}return-1}var O="closure_lm_"+(1e6*Math.random()|0),H={};function $(u,p,m,w,L){if(Array.isArray(p)){for(var F=0;F<p.length;F++)$(u,p[F],m,w,L);return null}return m=ut(m),u&&u[U]?u.K(p,m,l(w)?!!w.capture:!1,L):W(u,p,m,!1,w,L)}function W(u,p,m,w,L,F){if(!p)throw Error("Invalid event type");var Y=l(L)?!!L.capture:!!L,zt=J(u);if(zt||(u[O]=zt=new Rt(u)),m=zt.add(p,m,w,Y,F),m.proxy)return m;if(w=Q(),m.proxy=w,w.src=u,w.listener=m,u.addEventListener)Ce||(L=Y),L===void 0&&(L=!1),u.addEventListener(p.toString(),w,L);else if(u.attachEvent)u.attachEvent(q(p.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Q(){function u(m){return p.call(u.src,u.listener,m)}const p=ot;return u}function G(u,p,m,w,L){if(Array.isArray(p))for(var F=0;F<p.length;F++)G(u,p[F],m,w,L);else w=l(w)?!!w.capture:!!w,m=ut(m),u&&u[U]?(u=u.i,p=String(p).toString(),p in u.g&&(F=u.g[p],m=R(F,m,w,L),-1<m&&(nt(F[m]),Array.prototype.splice.call(F,m,1),F.length==0&&(delete u.g[p],u.h--)))):u&&(u=J(u))&&(p=u.g[p.toString()],u=-1,p&&(u=R(p,m,w,L)),(m=-1<u?p[u]:null)&&K(m))}function K(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[U])P(p.i,u);else{var m=u.type,w=u.proxy;p.removeEventListener?p.removeEventListener(m,w,u.capture):p.detachEvent?p.detachEvent(q(m),w):p.addListener&&p.removeListener&&p.removeListener(w),(m=J(p))?(P(m,u),m.h==0&&(m.src=null,p[O]=null)):nt(u)}}}function q(u){return u in H?H[u]:H[u]="on"+u}function ot(u,p){if(u.da)u=!0;else{p=new Re(p,this);var m=u.listener,w=u.ha||u.src;u.fa&&K(u),u=m.call(w,p)}return u}function J(u){return u=u[O],u instanceof Rt?u:null}var st="__closure_events_fn_"+(1e9*Math.random()>>>0);function ut(u){return typeof u=="function"?u:(u[st]||(u[st]=function(p){return u.handleEvent(p)}),u[st])}function at(){Ot.call(this),this.i=new Rt(this),this.M=this,this.F=null}_(at,Ot),at.prototype[U]=!0,at.prototype.removeEventListener=function(u,p,m,w){G(this,u,p,m,w)};function yt(u,p){var m,w=u.F;if(w)for(m=[];w;w=w.F)m.push(w);if(u=u.M,w=p.type||p,typeof p=="string")p=new Bt(p,u);else if(p instanceof Bt)p.target=p.target||u;else{var L=p;p=new Bt(w,u),x(p,L)}if(L=!0,m)for(var F=m.length-1;0<=F;F--){var Y=p.g=m[F];L=St(Y,w,!0,p)&&L}if(Y=p.g=u,L=St(Y,w,!0,p)&&L,L=St(Y,w,!1,p)&&L,m)for(F=0;F<m.length;F++)Y=p.g=m[F],L=St(Y,w,!1,p)&&L}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var m=u.g[p],w=0;w<m.length;w++)nt(m[w]);delete u.g[p],u.h--}}this.F=null},at.prototype.K=function(u,p,m,w){return this.i.add(String(u),p,!1,m,w)},at.prototype.L=function(u,p,m,w){return this.i.add(String(u),p,!0,m,w)};function St(u,p,m,w){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,F=0;F<p.length;++F){var Y=p[F];if(Y&&!Y.da&&Y.capture==m){var zt=Y.listener,Ie=Y.ha||Y.src;Y.fa&&P(u.i,Y),L=zt.call(Ie,w)!==!1&&L}}return L&&!w.defaultPrevented}function ke(u,p,m){if(typeof u=="function")m&&(u=f(u,m));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function Te(u){u.g=ke(()=>{u.g=null,u.i&&(u.i=!1,Te(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class pn extends Ot{constructor(p,m){super(),this.m=p,this.l=m,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Te(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function De(u){Ot.call(this),this.h=u,this.g={}}_(De,Ot);var Ri=[];function no(u){B(u.g,function(p,m){this.g.hasOwnProperty(m)&&K(p)},u),u.g={}}De.prototype.N=function(){De.aa.N.call(this),no(this)},De.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xe=a.JSON.stringify,gn=a.JSON.parse,ec=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Ku(){}Ku.prototype.h=null;function ng(u){return u.h||(u.h=u.i())}function ig(){}var io={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gu(){Bt.call(this,"d")}_(Gu,Bt);function Yu(){Bt.call(this,"c")}_(Yu,Bt);var bs={},sg=null;function nc(){return sg=sg||new at}bs.La="serverreachability";function rg(u){Bt.call(this,bs.La,u)}_(rg,Bt);function so(u){const p=nc();yt(p,new rg(p))}bs.STAT_EVENT="statevent";function og(u,p){Bt.call(this,bs.STAT_EVENT,u),this.stat=p}_(og,Bt);function Ke(u){const p=nc();yt(p,new og(p,u))}bs.Ma="timingevent";function ag(u,p){Bt.call(this,bs.Ma,u),this.size=p}_(ag,Bt);function ro(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function oo(){this.g=!0}oo.prototype.xa=function(){this.g=!1};function xx(u,p,m,w,L,F){u.info(function(){if(u.g)if(F)for(var Y="",zt=F.split("&"),Ie=0;Ie<zt.length;Ie++){var kt=zt[Ie].split("=");if(1<kt.length){var Me=kt[0];kt=kt[1];var Oe=Me.split("_");Y=2<=Oe.length&&Oe[1]=="type"?Y+(Me+"="+kt+"&"):Y+(Me+"=redacted&")}}else Y=null;else Y=F;return"XMLHTTP REQ ("+w+") [attempt "+L+"]: "+p+`
`+m+`
`+Y})}function Ix(u,p,m,w,L,F,Y){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+L+"]: "+p+`
`+m+`
`+F+" "+Y})}function rr(u,p,m,w){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Sx(u,m)+(w?" "+w:"")})}function Ax(u,p){u.info(function(){return"TIMEOUT: "+p})}oo.prototype.info=function(){};function Sx(u,p){if(!u.g)return p;if(!p)return null;try{var m=JSON.parse(p);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var w=m[u];if(!(2>w.length)){var L=w[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var Y=1;Y<L.length;Y++)L[Y]=""}}}}return xe(m)}catch{return p}}var ic={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},cg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qu;function sc(){}_(sc,Ku),sc.prototype.g=function(){return new XMLHttpRequest},sc.prototype.i=function(){return{}},Qu=new sc;function ki(u,p,m,w){this.j=u,this.i=p,this.l=m,this.R=w||1,this.U=new De(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lg}function lg(){this.i=null,this.g="",this.h=!1}var ug={},Xu={};function Ju(u,p,m){u.L=1,u.v=cc(ti(p)),u.m=m,u.P=!0,hg(u,null)}function hg(u,p){u.F=Date.now(),rc(u),u.A=ti(u.v);var m=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),Ig(m.i,"t",w),u.C=0,m=u.j.J,u.h=new lg,u.g=Wg(u.j,m?p:null,!u.m),0<u.O&&(u.M=new pn(f(u.Y,u,u.g),u.O)),p=u.U,m=u.g,w=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Ri[0]=L.toString()),L=Ri);for(var F=0;F<L.length;F++){var Y=$(m,L[F],w||p.handleEvent,!1,p.h||p);if(!Y)break;p.g[Y.key]=Y}p=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),so(),xx(u.i,u.u,u.A,u.l,u.R,u.m)}ki.prototype.ca=function(u){u=u.target;const p=this.M;p&&ei(u)==3?p.j():this.Y(u)},ki.prototype.Y=function(u){try{if(u==this.g)t:{const Oe=ei(this.g);var p=this.g.Ba();const cr=this.g.Z();if(!(3>Oe)&&(Oe!=3||this.g&&(this.h.h||this.g.oa()||Dg(this.g)))){this.J||Oe!=4||p==7||(p==8||0>=cr?so(3):so(2)),Zu(this);var m=this.g.Z();this.X=m;e:if(dg(this)){var w=Dg(this.g);u="";var L=w.length,F=ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vs(this),ao(this);var Y="";break e}this.h.i=new a.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,u+=this.h.i.decode(w[p],{stream:!(F&&p==L-1)});w.length=0,this.h.g+=u,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=m==200,Ix(this.i,this.u,this.A,this.l,this.R,Oe,m),this.o){if(this.T&&!this.K){e:{if(this.g){var zt,Ie=this.g;if((zt=Ie.g?Ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(zt)){var kt=zt;break e}}kt=null}if(m=kt)rr(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,th(this,m);else{this.o=!1,this.s=3,Ke(12),vs(this),ao(this);break t}}if(this.P){m=!0;let wn;for(;!this.J&&this.C<Y.length;)if(wn=Px(this,Y),wn==Xu){Oe==4&&(this.s=4,Ke(14),m=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==ug){this.s=4,Ke(15),rr(this.i,this.l,Y,"[Invalid Chunk]"),m=!1;break}else rr(this.i,this.l,wn,null),th(this,wn);if(dg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||Y.length!=0||this.h.h||(this.s=1,Ke(16),m=!1),this.o=this.o&&m,!m)rr(this.i,this.l,Y,"[Invalid Chunked Response]"),vs(this),ao(this);else if(0<Y.length&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.ba&&!Me.M&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),oh(Me),Me.M=!0,Ke(11))}}else rr(this.i,this.l,Y,null),th(this,Y);Oe==4&&vs(this),this.o&&!this.J&&(Oe==4?Bg(this.j,this):(this.o=!1,rc(this)))}else $x(this.g),m==400&&0<Y.indexOf("Unknown SID")?(this.s=3,Ke(12)):(this.s=0,Ke(13)),vs(this),ao(this)}}}catch{}finally{}};function dg(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Px(u,p){var m=u.C,w=p.indexOf(`
`,m);return w==-1?Xu:(m=Number(p.substring(m,w)),isNaN(m)?ug:(w+=1,w+m>p.length?Xu:(p=p.slice(w,w+m),u.C=w+m,p)))}ki.prototype.cancel=function(){this.J=!0,vs(this)};function rc(u){u.S=Date.now()+u.I,fg(u,u.I)}function fg(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ro(f(u.ba,u),p)}function Zu(u){u.B&&(a.clearTimeout(u.B),u.B=null)}ki.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ax(this.i,this.A),this.L!=2&&(so(),Ke(17)),vs(this),this.s=2,ao(this)):fg(this,this.S-u)};function ao(u){u.j.G==0||u.J||Bg(u.j,u)}function vs(u){Zu(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,no(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function th(u,p){try{var m=u.j;if(m.G!=0&&(m.g==u||eh(m.h,u))){if(!u.K&&eh(m.h,u)&&m.G==3){try{var w=m.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var L=w;if(L[0]==0){t:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)pc(m),dc(m);else break t;rh(m),Ke(18)}}else m.za=L[1],0<m.za-m.T&&37500>L[2]&&m.F&&m.v==0&&!m.C&&(m.C=ro(f(m.Za,m),6e3));if(1>=mg(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Es(m,11)}else if((u.K||m.g==u)&&pc(m),!A(p))for(L=m.Da.g.parse(p),p=0;p<L.length;p++){let kt=L[p];if(m.T=kt[0],kt=kt[1],m.G==2)if(kt[0]=="c"){m.K=kt[1],m.ia=kt[2];const Me=kt[3];Me!=null&&(m.la=Me,m.j.info("VER="+m.la));const Oe=kt[4];Oe!=null&&(m.Aa=Oe,m.j.info("SVER="+m.Aa));const cr=kt[5];cr!=null&&typeof cr=="number"&&0<cr&&(w=1.5*cr,m.L=w,m.j.info("backChannelRequestTimeoutMs_="+w)),w=m;const wn=u.g;if(wn){const mc=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mc){var F=w.h;F.g||mc.indexOf("spdy")==-1&&mc.indexOf("quic")==-1&&mc.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(nh(F,F.h),F.h=null))}if(w.D){const ah=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;ah&&(w.ya=ah,Gt(w.I,w.D,ah))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),w=m;var Y=u;if(w.qa=zg(w,w.J?w.ia:null,w.W),Y.K){_g(w.h,Y);var zt=Y,Ie=w.L;Ie&&(zt.I=Ie),zt.B&&(Zu(zt),rc(zt)),w.g=Y}else Vg(w);0<m.i.length&&fc(m)}else kt[0]!="stop"&&kt[0]!="close"||Es(m,7);else m.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?Es(m,7):sh(m):kt[0]!="noop"&&m.l&&m.l.ta(kt),m.v=0)}}so(4)}catch{}}var Cx=class{constructor(u,p){this.g=u,this.map=p}};function pg(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gg(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function mg(u){return u.h?1:u.g?u.g.size:0}function eh(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function nh(u,p){u.g?u.g.add(p):u.h=p}function _g(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}pg.prototype.cancel=function(){if(this.i=yg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function yg(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const m of u.g.values())p=p.concat(m.D);return p}return y(u.i)}function Rx(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var p=[],m=u.length,w=0;w<m;w++)p.push(u[w]);return p}p=[],m=0;for(w in u)p[m++]=u[w];return p}function kx(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var p=[];u=u.length;for(var m=0;m<u;m++)p.push(m);return p}p=[],m=0;for(const w in u)p[m++]=w;return p}}}function bg(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var m=kx(u),w=Rx(u),L=w.length,F=0;F<L;F++)p.call(void 0,w[F],m&&m[F],u)}var vg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dx(u,p){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var w=u[m].indexOf("="),L=null;if(0<=w){var F=u[m].substring(0,w);L=u[m].substring(w+1)}else F=u[m];p(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ws(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ws){this.h=u.h,oc(this,u.j),this.o=u.o,this.g=u.g,ac(this,u.s),this.l=u.l;var p=u.i,m=new uo;m.i=p.i,p.g&&(m.g=new Map(p.g),m.h=p.h),wg(this,m),this.m=u.m}else u&&(p=String(u).match(vg))?(this.h=!1,oc(this,p[1]||"",!0),this.o=co(p[2]||""),this.g=co(p[3]||"",!0),ac(this,p[4]),this.l=co(p[5]||"",!0),wg(this,p[6]||"",!0),this.m=co(p[7]||"")):(this.h=!1,this.i=new uo(null,this.h))}ws.prototype.toString=function(){var u=[],p=this.j;p&&u.push(lo(p,Eg,!0),":");var m=this.g;return(m||p=="file")&&(u.push("//"),(p=this.o)&&u.push(lo(p,Eg,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(lo(m,m.charAt(0)=="/"?Lx:Ox,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",lo(m,Vx)),u.join("")};function ti(u){return new ws(u)}function oc(u,p,m){u.j=m?co(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function ac(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function wg(u,p,m){p instanceof uo?(u.i=p,Fx(u.i,u.h)):(m||(p=lo(p,Nx)),u.i=new uo(p,u.h))}function Gt(u,p,m){u.i.set(p,m)}function cc(u){return Gt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function co(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function lo(u,p,m){return typeof u=="string"?(u=encodeURI(u).replace(p,Mx),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Mx(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Eg=/[#\/\?@]/g,Ox=/[#\?:]/g,Lx=/[#\?]/g,Nx=/[#\?@]/g,Vx=/#/g;function uo(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Di(u){u.g||(u.g=new Map,u.h=0,u.i&&Dx(u.i,function(p,m){u.add(decodeURIComponent(p.replace(/\+/g," ")),m)}))}n=uo.prototype,n.add=function(u,p){Di(this),this.i=null,u=or(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(p),this.h+=1,this};function Tg(u,p){Di(u),p=or(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function xg(u,p){return Di(u),p=or(u,p),u.g.has(p)}n.forEach=function(u,p){Di(this),this.g.forEach(function(m,w){m.forEach(function(L){u.call(p,L,w,this)},this)},this)},n.na=function(){Di(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),m=[];for(let w=0;w<p.length;w++){const L=u[w];for(let F=0;F<L.length;F++)m.push(p[w])}return m},n.V=function(u){Di(this);let p=[];if(typeof u=="string")xg(this,u)&&(p=p.concat(this.g.get(or(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)p=p.concat(u[m])}return p},n.set=function(u,p){return Di(this),this.i=null,u=or(this,u),xg(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},n.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Ig(u,p,m){Tg(u,p),0<m.length&&(u.i=null,u.g.set(or(u,p),y(m)),u.h+=m.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var m=0;m<p.length;m++){var w=p[m];const F=encodeURIComponent(String(w)),Y=this.V(w);for(w=0;w<Y.length;w++){var L=F;Y[w]!==""&&(L+="="+encodeURIComponent(String(Y[w]))),u.push(L)}}return this.i=u.join("&")};function or(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Fx(u,p){p&&!u.j&&(Di(u),u.i=null,u.g.forEach(function(m,w){var L=w.toLowerCase();w!=L&&(Tg(this,w),Ig(this,L,m))},u)),u.j=p}function Bx(u,p){const m=new oo;if(a.Image){const w=new Image;w.onload=g(Mi,m,"TestLoadImage: loaded",!0,p,w),w.onerror=g(Mi,m,"TestLoadImage: error",!1,p,w),w.onabort=g(Mi,m,"TestLoadImage: abort",!1,p,w),w.ontimeout=g(Mi,m,"TestLoadImage: timeout",!1,p,w),a.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else p(!1)}function Ux(u,p){const m=new oo,w=new AbortController,L=setTimeout(()=>{w.abort(),Mi(m,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:w.signal}).then(F=>{clearTimeout(L),F.ok?Mi(m,"TestPingServer: ok",!0,p):Mi(m,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Mi(m,"TestPingServer: error",!1,p)})}function Mi(u,p,m,w,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),w(m)}catch{}}function Hx(){this.g=new ec}function zx(u,p,m){const w=m||"";try{bg(u,function(L,F){let Y=L;l(L)&&(Y=xe(L)),p.push(w+F+"="+encodeURIComponent(Y))})}catch(L){throw p.push(w+"type="+encodeURIComponent("_badmap")),L}}function lc(u){this.l=u.Ub||null,this.j=u.eb||!1}_(lc,Ku),lc.prototype.g=function(){return new uc(this.l,this.j)},lc.prototype.i=function(u){return function(){return u}}({});function uc(u,p){at.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(uc,at),n=uc.prototype,n.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,fo(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ho(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,fo(this)),this.g&&(this.readyState=3,fo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ag(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ag(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?ho(this):fo(this),this.readyState==3&&Ag(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,ho(this))},n.Qa=function(u){this.g&&(this.response=u,ho(this))},n.ga=function(){this.g&&ho(this)};function ho(u){u.readyState=4,u.l=null,u.j=null,u.v=null,fo(u)}n.setRequestHeader=function(u,p){this.u.append(u,p)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var m=p.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=p.next();return u.join(`\r
`)};function fo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(uc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sg(u){let p="";return B(u,function(m,w){p+=w,p+=":",p+=m,p+=`\r
`}),p}function ih(u,p,m){t:{for(w in m){var w=!1;break t}w=!0}w||(m=Sg(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):Gt(u,p,m))}function re(u){at.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(re,at);var Wx=/^https?$/i,jx=["POST","PUT"];n=re.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,p,m,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qu.g(),this.v=this.o?ng(this.o):ng(Qu),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(F){Pg(this,F);return}if(u=m||"",m=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var L in w)m.set(L,w[L]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const F of w.keys())m.set(F,w.get(F));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(m.keys()).find(F=>F.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(jx,p,void 0))||w||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,Y]of m)this.g.setRequestHeader(F,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kg(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){Pg(this,F)}};function Pg(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Cg(u),hc(u)}function Cg(u){u.A||(u.A=!0,yt(u,"complete"),yt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,yt(this,"complete"),yt(this,"abort"),hc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hc(this,!0)),re.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Rg(this):this.bb())},n.bb=function(){Rg(this)};function Rg(u){if(u.h&&typeof o<"u"&&(!u.v[1]||ei(u)!=4||u.Z()!=2)){if(u.u&&ei(u)==4)ke(u.Ea,0,u);else if(yt(u,"readystatechange"),ei(u)==4){u.h=!1;try{const Y=u.Z();t:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var m;if(!(m=p)){var w;if(w=Y===0){var L=String(u.D).match(vg)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),w=!Wx.test(L?L.toLowerCase():"")}m=w}if(m)yt(u,"complete"),yt(u,"success");else{u.m=6;try{var F=2<ei(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",Cg(u)}}finally{hc(u)}}}}function hc(u,p){if(u.g){kg(u);const m=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||yt(u,"ready");try{m.onreadystatechange=w}catch{}}}function kg(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function ei(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<ei(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),gn(p)}};function Dg(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function $x(u){const p={};u=(u.g&&2<=ei(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(A(u[w]))continue;var m=C(u[w]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const F=p[L]||[];p[L]=F,F.push(m)}T(p,function(w){return w.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function po(u,p,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||p}function Mg(u){this.Aa=0,this.i=[],this.j=new oo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=po("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=po("baseRetryDelayMs",5e3,u),this.cb=po("retryDelaySeedMs",1e4,u),this.Wa=po("forwardChannelMaxRetries",2,u),this.wa=po("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new pg(u&&u.concurrentRequestLimit),this.Da=new Hx,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Mg.prototype,n.la=8,n.G=1,n.connect=function(u,p,m,w){Ke(0),this.W=u,this.H=p||{},m&&w!==void 0&&(this.H.OSID=m,this.H.OAID=w),this.F=this.X,this.I=zg(this,null,this.W),fc(this)};function sh(u){if(Og(u),u.G==3){var p=u.U++,m=ti(u.I);if(Gt(m,"SID",u.K),Gt(m,"RID",p),Gt(m,"TYPE","terminate"),go(u,m),p=new ki(u,u.j,p),p.L=2,p.v=cc(ti(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=p.v,m=!0),m||(p.g=Wg(p.j,null),p.g.ea(p.v)),p.F=Date.now(),rc(p)}Hg(u)}function dc(u){u.g&&(oh(u),u.g.cancel(),u.g=null)}function Og(u){dc(u),u.u&&(a.clearTimeout(u.u),u.u=null),pc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function fc(u){if(!gg(u.h)&&!u.s){u.s=!0;var p=u.Ga;it||be(),lt||(it(),lt=!0),Mt.add(p,u),u.B=0}}function qx(u,p){return mg(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ro(f(u.Ga,u,p),Ug(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new ki(this,this.j,u);let F=this.o;if(this.S&&(F?(F=b(F),x(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)t:{for(var p=0,m=0;m<this.i.length;m++){e:{var w=this.i[m];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=m;break t}if(p===4096||m===this.i.length-1){p=m+1;break t}}p=1e3}else p=1e3;p=Ng(this,L,p),m=ti(this.I),Gt(m,"RID",u),Gt(m,"CVER",22),this.D&&Gt(m,"X-HTTP-Session-Id",this.D),go(this,m),F&&(this.O?p="headers="+encodeURIComponent(String(Sg(F)))+"&"+p:this.m&&ih(m,this.m,F)),nh(this.h,L),this.Ua&&Gt(m,"TYPE","init"),this.P?(Gt(m,"$req",p),Gt(m,"SID","null"),L.T=!0,Ju(L,m,null)):Ju(L,m,p),this.G=2}}else this.G==3&&(u?Lg(this,u):this.i.length==0||gg(this.h)||Lg(this))};function Lg(u,p){var m;p?m=p.l:m=u.U++;const w=ti(u.I);Gt(w,"SID",u.K),Gt(w,"RID",m),Gt(w,"AID",u.T),go(u,w),u.m&&u.o&&ih(w,u.m,u.o),m=new ki(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Ng(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),nh(u.h,m),Ju(m,w,p)}function go(u,p){u.H&&B(u.H,function(m,w){Gt(p,w,m)}),u.l&&bg({},function(m,w){Gt(p,w,m)})}function Ng(u,p,m){m=Math.min(u.i.length,m);var w=u.l?f(u.l.Na,u.l,u):null;t:{var L=u.i;let F=-1;for(;;){const Y=["count="+m];F==-1?0<m?(F=L[0].g,Y.push("ofs="+F)):F=0:Y.push("ofs="+F);let zt=!0;for(let Ie=0;Ie<m;Ie++){let kt=L[Ie].g;const Me=L[Ie].map;if(kt-=F,0>kt)F=Math.max(0,L[Ie].g-100),zt=!1;else try{zx(Me,Y,"req"+kt+"_")}catch{w&&w(Me)}}if(zt){w=Y.join("&");break t}}}return u=u.i.splice(0,m),p.D=u,w}function Vg(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;it||be(),lt||(it(),lt=!0),Mt.add(p,u),u.v=0}}function rh(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ro(f(u.Fa,u),Ug(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Fg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ro(f(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ke(10),dc(this),Fg(this))};function oh(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Fg(u){u.g=new ki(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=ti(u.qa);Gt(p,"RID","rpc"),Gt(p,"SID",u.K),Gt(p,"AID",u.T),Gt(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Gt(p,"TO",u.ja),Gt(p,"TYPE","xmlhttp"),go(u,p),u.m&&u.o&&ih(p,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=cc(ti(p)),m.m=null,m.P=!0,hg(m,u)}n.Za=function(){this.C!=null&&(this.C=null,dc(this),rh(this),Ke(19))};function pc(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Bg(u,p){var m=null;if(u.g==p){pc(u),oh(u),u.g=null;var w=2}else if(eh(u.h,p))m=p.D,_g(u.h,p),w=1;else return;if(u.G!=0){if(p.o)if(w==1){m=p.m?p.m.length:0,p=Date.now()-p.F;var L=u.B;w=nc(),yt(w,new ag(w,m)),fc(u)}else Vg(u);else if(L=p.s,L==3||L==0&&0<p.X||!(w==1&&qx(u,p)||w==2&&rh(u)))switch(m&&0<m.length&&(p=u.h,p.i=p.i.concat(m)),L){case 1:Es(u,5);break;case 4:Es(u,10);break;case 3:Es(u,6);break;default:Es(u,2)}}}function Ug(u,p){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*p}function Es(u,p){if(u.j.info("Error code "+p),p==2){var m=f(u.fb,u),w=u.Xa;const L=!w;w=new ws(w||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||oc(w,"https"),cc(w),L?Bx(w.toString(),m):Ux(w.toString(),m)}else Ke(2);u.G=0,u.l&&u.l.sa(p),Hg(u),Og(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ke(2)):(this.j.info("Failed to ping google.com"),Ke(1))};function Hg(u){if(u.G=0,u.ka=[],u.l){const p=yg(u.h);(p.length!=0||u.i.length!=0)&&(v(u.ka,p),v(u.ka,u.i),u.h.i.length=0,y(u.i),u.i.length=0),u.l.ra()}}function zg(u,p,m){var w=m instanceof ws?ti(m):new ws(m);if(w.g!="")p&&(w.g=p+"."+w.g),ac(w,w.s);else{var L=a.location;w=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var F=new ws(null);w&&oc(F,w),p&&(F.g=p),L&&ac(F,L),m&&(F.l=m),w=F}return m=u.D,p=u.ya,m&&p&&Gt(w,m,p),Gt(w,"VER",u.la),go(u,w),w}function Wg(u,p,m){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new re(new lc({eb:m})):new re(u.pa),p.Ha(u.J),p}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function jg(){}n=jg.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function gc(){}gc.prototype.g=function(u,p){return new rn(u,p)};function rn(u,p){at.call(this),this.g=new Mg(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!A(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!A(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new ar(this)}_(rn,at),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){sh(this.g)},rn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=xe(u),u=m);p.i.push(new Cx(p.Ya++,u)),p.G==3&&fc(p)},rn.prototype.N=function(){this.g.l=null,delete this.j,sh(this.g),delete this.g,rn.aa.N.call(this)};function $g(u){Gu.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){t:{for(const m in p){u=m;break t}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}_($g,Gu);function qg(){Yu.call(this),this.status=1}_(qg,Yu);function ar(u){this.g=u}_(ar,jg),ar.prototype.ua=function(){yt(this.g,"a")},ar.prototype.ta=function(u){yt(this.g,new $g(u))},ar.prototype.sa=function(u){yt(this.g,new qg)},ar.prototype.ra=function(){yt(this.g,"b")},gc.prototype.createWebChannel=gc.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,pw=function(){return new gc},fw=function(){return nc()},dw=bs,bd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ic.NO_ERROR=0,ic.TIMEOUT=8,ic.HTTP_ERROR=6,Zc=ic,cg.COMPLETE="complete",hw=cg,ig.EventType=io,io.OPEN="a",io.CLOSE="b",io.ERROR="c",io.MESSAGE="d",at.prototype.listen=at.prototype.K,Ro=ig,re.prototype.listenOnce=re.prototype.L,re.prototype.getLastError=re.prototype.Ka,re.prototype.getLastErrorCode=re.prototype.Ba,re.prototype.getStatus=re.prototype.Z,re.prototype.getResponseJson=re.prototype.Oa,re.prototype.getResponseText=re.prototype.oa,re.prototype.send=re.prototype.ea,re.prototype.setWithCredentials=re.prototype.Ha,uw=re}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});const b_="@firebase/firestore",v_="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ve.UNAUTHENTICATED=new Ve(null),Ve.GOOGLE_CREDENTIALS=new Ve("google-credentials-uid"),Ve.FIRST_PARTY=new Ve("first-party-uid"),Ve.MOCK_USER=new Ve("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qr="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new Tf("@firebase/firestore");function mr(){return Gs.logLevel}function tt(n,...t){if(Gs.logLevel<=Tt.DEBUG){const e=t.map(Vf);Gs.debug(`Firestore (${Qr}): ${n}`,...e)}}function Ei(n,...t){if(Gs.logLevel<=Tt.ERROR){const e=t.map(Vf);Gs.error(`Firestore (${Qr}): ${n}`,...e)}}function Vr(n,...t){if(Gs.logLevel<=Tt.WARN){const e=t.map(Vf);Gs.warn(`Firestore (${Qr}): ${n}`,...e)}}function Vf(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(n="Unexpected state"){const t=`FIRESTORE (${Qr}) INTERNAL ASSERTION FAILED: `+n;throw Ei(t),new Error(t)}function Ft(n,t){n||ht()}function gt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class et extends Ai{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class PD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ve.UNAUTHENTICATED))}shutdown(){}}class CD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class RD{constructor(t){this.t=t,this.currentUser=Ve.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Ft(this.o===void 0);let i=this.i;const s=c=>this.i!==i?(i=this.i,e(c)):Promise.resolve();let r=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new bi,t.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=r;t.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new bi)}},0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ft(typeof i.accessToken=="string"),new gw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string"),new Ve(t)}}class kD{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=Ve.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class DD{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new kD(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Ve.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class w_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MD{constructor(t,e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,_n(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,e){Ft(this.o===void 0);const i=r=>{r.error!=null&&tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.R;return this.R=r.token,tt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const s=r=>{tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.A.getImmediate({optional:!0});r?s(r):tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new w_(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Ft(typeof e.token=="string"),this.R=e.token,new w_(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=OD(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<e&&(i+=t.charAt(s[r]%62))}return i}}function At(n,t){return n<t?-1:n>t?1:0}function Fr(n,t,e){return n.length===t.length&&n.every((i,s)=>e(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=-62135596800,T_=1e6;class _e{static now(){return _e.fromMillis(Date.now())}static fromDate(t){return _e.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*T_);return new _e(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new et(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new et(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<E_)throw new et(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new et(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/T_}_compareTo(t){return this.seconds===t.seconds?At(this.nanoseconds,t.nanoseconds):At(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-E_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static fromTimestamp(t){return new pt(t)}static min(){return new pt(new _e(0,0))}static max(){return new pt(new _e(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="__name__";class Nn{constructor(t,e,i){e===void 0?e=0:e>t.length&&ht(),i===void 0?i=t.length-e:i>t.length-e&&ht(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Nn.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Nn?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let s=0;s<i;s++){const r=Nn.compareSegments(t.get(s),e.get(s));if(r!==0)return r}return Math.sign(t.length-e.length)}static compareSegments(t,e){const i=Nn.isNumericId(t),s=Nn.isNumericId(e);return i&&!s?-1:!i&&s?1:i&&s?Nn.extractNumericId(t).compare(Nn.extractNumericId(e)):t<e?-1:t>e?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return es.fromString(t.substring(4,t.length-2))}}class Yt extends Nn{construct(t,e,i){return new Yt(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new et(z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(s=>s.length>0))}return new Yt(e)}static emptyPath(){return new Yt([])}}const LD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Se extends Nn{construct(t,e,i){return new Se(t,e,i)}static isValidIdentifier(t){return LD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Se.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x_}static keyField(){return new Se([x_])}static fromServerFormat(t){const e=[];let i="",s=0;const r=()=>{if(i.length===0)throw new et(z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let o=!1;for(;s<t.length;){const a=t[s];if(a==="\\"){if(s+1===t.length)throw new et(z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new et(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(i+=a,s++):(r(),s++)}if(r(),o)throw new et(z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Se(e)}static emptyPath(){return new Se([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t){this.path=t}static fromPath(t){return new rt(Yt.fromString(t))}static fromName(t){return new rt(Yt.fromString(t).popFirst(5))}static empty(){return new rt(Yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Yt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Yt.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new rt(new Yt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=-1;function ND(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=pt.fromTimestamp(i===1e9?new _e(e+1,0):new _e(e,i));return new rs(s,rt.empty(),t)}function VD(n){return new rs(n.readTime,n.key,ga)}class rs{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new rs(pt.min(),rt.empty(),ga)}static max(){return new rs(pt.max(),rt.empty(),ga)}}function FD(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=rt.comparator(n.documentKey,t.documentKey),e!==0?e:At(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xr(n){if(n.code!==z.FAILED_PRECONDITION||n.message!==BD)throw n;tt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new j((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(e,r).next(i,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof j?e:j.resolve(e)}catch(e){return j.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):j.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):j.reject(e)}static resolve(t){return new j((e,i)=>{e(t)})}static reject(t){return new j((e,i)=>{i(t)})}static waitFor(t){return new j((e,i)=>{let s=0,r=0,o=!1;t.forEach(a=>{++s,a.next(()=>{++r,o&&r===s&&e()},c=>i(c))}),o=!0,r===s&&e()})}static or(t){let e=j.resolve(!1);for(const i of t)e=e.next(s=>s?j.resolve(s):i());return e}static forEach(t,e){const i=[];return t.forEach((s,r)=>{i.push(e.call(this,s,r))}),this.waitFor(i)}static mapArray(t,e){return new j((i,s)=>{const r=t.length,o=new Array(r);let a=0;for(let c=0;c<r;c++){const l=c;e(t[l]).next(h=>{o[l]=h,++a,a===r&&i(o)},h=>s(h))}})}static doWhile(t,e){return new j((i,s)=>{const r=()=>{t()===!0?e().next(()=>{r()},s):i()};r()})}}function HD(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Jr(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.oe(i),this._e=i=>e.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}wu.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff=-1;function Eu(n){return n==null}function Ol(n){return n===0&&1/n==-1/0}function zD(n){return typeof n=="number"&&Number.isInteger(n)&&!Ol(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="";function WD(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=I_(t)),t=jD(n.get(e),t);return I_(t)}function jD(n,t){let e=t;const i=n.length;for(let s=0;s<i;s++){const r=n.charAt(s);switch(r){case"\0":e+="";break;case _w:e+="";break;default:e+=r}}return e}function I_(n){return n+_w+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function gs(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function yw(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t,e){this.comparator=t,this.root=e||Ae.EMPTY}insert(t,e){return new ie(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ae.BLACK,null,null))}remove(t){return new ie(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ae.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return e+i.left.size;s<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ec(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ec(this.root,t,this.comparator,!0)}}class Ec{constructor(t,e,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=e?i(t.key,e):1,e&&s&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ae{constructor(t,e,i,s,r){this.key=t,this.value=e,this.color=i??Ae.RED,this.left=s??Ae.EMPTY,this.right=r??Ae.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,s,r){return new Ae(t??this.key,e??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let s=this;const r=i(t,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(t,e,i),null):r===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ae.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return Ae.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ae.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ae.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ht();const t=this.left.check();if(t!==this.right.check())throw ht();return t+(this.isRed()?0:1)}}Ae.EMPTY=null,Ae.RED=!0,Ae.BLACK=!1;Ae.EMPTY=new class{constructor(){this.size=0}get key(){throw ht()}get value(){throw ht()}get color(){throw ht()}get left(){throw ht()}get right(){throw ht()}copy(t,e,i,s,r){return this}insert(t,e,i){return new Ae(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(t){this.comparator=t,this.data=new ie(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new S_(this.data.getIterator())}getIteratorFrom(t){return new S_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof ye)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new ye(this.comparator);return e.data=t,e}}class S_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.fields=t,t.sort(Se.comparator)}static empty(){return new fn([])}unionWith(t){let e=new ye(Se.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new fn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Fr(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new bw("Invalid base64 string: "+r):r}}(t);return new Pe(e)}static fromUint8Array(t){const e=function(s){let r="";for(let o=0;o<s.length;++o)r+=String.fromCharCode(s[o]);return r}(t);return new Pe(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return At(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Pe.EMPTY_BYTE_STRING=new Pe("");const $D=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(n){if(Ft(!!n),typeof n=="string"){let t=0;const e=$D.exec(n);if(Ft(!!e),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:le(n.seconds),nanos:le(n.nanos)}}function le(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function as(n){return typeof n=="string"?Pe.fromBase64String(n):Pe.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="server_timestamp",ww="__type__",Ew="__previous_value__",Tw="__local_write_time__";function Bf(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[ww])===null||e===void 0?void 0:e.stringValue)===vw}function Tu(n){const t=n.mapValue.fields[Ew];return Bf(t)?Tu(t):t}function ma(n){const t=os(n.mapValue.fields[Tw].timestampValue);return new _e(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(t,e,i,s,r,o,a,c,l){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}const Ll="(default)";class _a{constructor(t,e){this.projectId=t,this.database=e||Ll}static empty(){return new _a("","")}get isDefaultDatabase(){return this.database===Ll}isEqual(t){return t instanceof _a&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="__type__",KD="__max__",Tc={mapValue:{}},Iw="__vector__",Nl="value";function cs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Bf(n)?4:YD(n)?9007199254740991:GD(n)?10:11:ht()}function Xn(n,t){if(n===t)return!0;const e=cs(n);if(e!==cs(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return ma(n).isEqual(ma(t));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const o=os(s.timestampValue),a=os(r.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(s,r){return as(s.bytesValue).isEqual(as(r.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(s,r){return le(s.geoPointValue.latitude)===le(r.geoPointValue.latitude)&&le(s.geoPointValue.longitude)===le(r.geoPointValue.longitude)}(n,t);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return le(s.integerValue)===le(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const o=le(s.doubleValue),a=le(r.doubleValue);return o===a?Ol(o)===Ol(a):isNaN(o)&&isNaN(a)}return!1}(n,t);case 9:return Fr(n.arrayValue.values||[],t.arrayValue.values||[],Xn);case 10:case 11:return function(s,r){const o=s.mapValue.fields||{},a=r.mapValue.fields||{};if(A_(o)!==A_(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Xn(o[c],a[c])))return!1;return!0}(n,t);default:return ht()}}function ya(n,t){return(n.values||[]).find(e=>Xn(e,t))!==void 0}function Br(n,t){if(n===t)return 0;const e=cs(n),i=cs(t);if(e!==i)return At(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return At(n.booleanValue,t.booleanValue);case 2:return function(r,o){const a=le(r.integerValue||r.doubleValue),c=le(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,t);case 3:return P_(n.timestampValue,t.timestampValue);case 4:return P_(ma(n),ma(t));case 5:return At(n.stringValue,t.stringValue);case 6:return function(r,o){const a=as(r),c=as(o);return a.compareTo(c)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const a=r.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const h=At(a[l],c[l]);if(h!==0)return h}return At(a.length,c.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const a=At(le(r.latitude),le(o.latitude));return a!==0?a:At(le(r.longitude),le(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return C_(n.arrayValue,t.arrayValue);case 10:return function(r,o){var a,c,l,h;const d=r.fields||{},f=o.fields||{},g=(a=d[Nl])===null||a===void 0?void 0:a.arrayValue,_=(c=f[Nl])===null||c===void 0?void 0:c.arrayValue,y=At(((l=g==null?void 0:g.values)===null||l===void 0?void 0:l.length)||0,((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0);return y!==0?y:C_(g,_)}(n.mapValue,t.mapValue);case 11:return function(r,o){if(r===Tc.mapValue&&o===Tc.mapValue)return 0;if(r===Tc.mapValue)return 1;if(o===Tc.mapValue)return-1;const a=r.fields||{},c=Object.keys(a),l=o.fields||{},h=Object.keys(l);c.sort(),h.sort();for(let d=0;d<c.length&&d<h.length;++d){const f=At(c[d],h[d]);if(f!==0)return f;const g=Br(a[c[d]],l[h[d]]);if(g!==0)return g}return At(c.length,h.length)}(n.mapValue,t.mapValue);default:throw ht()}}function P_(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return At(n,t);const e=os(n),i=os(t),s=At(e.seconds,i.seconds);return s!==0?s:At(e.nanos,i.nanos)}function C_(n,t){const e=n.values||[],i=t.values||[];for(let s=0;s<e.length&&s<i.length;++s){const r=Br(e[s],i[s]);if(r)return r}return At(e.length,i.length)}function Ur(n){return vd(n)}function vd(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=os(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return as(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return rt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",s=!0;for(const r of e.values||[])s?s=!1:i+=",",i+=vd(r);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let s="{",r=!0;for(const o of i)r?r=!1:s+=",",s+=`${o}:${vd(e.fields[o])}`;return s+"}"}(n.mapValue):ht()}function tl(n){switch(cs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Tu(n);return t?16+tl(t):16;case 5:return 2*n.stringValue.length;case 6:return as(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+tl(r),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return gs(i.fields,(r,o)=>{s+=r.length+tl(o)}),s}(n.mapValue);default:throw ht()}}function R_(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function wd(n){return!!n&&"integerValue"in n}function Uf(n){return!!n&&"arrayValue"in n}function k_(n){return!!n&&"nullValue"in n}function D_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function el(n){return!!n&&"mapValue"in n}function GD(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[xw])===null||e===void 0?void 0:e.stringValue)===Iw}function Yo(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return gs(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Yo(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Yo(n.arrayValue.values[e]);return t}return Object.assign({},n)}function YD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===KD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.value=t}static empty(){return new en({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!el(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Yo(e)}setAll(t){let e=Se.emptyPath(),i={},s=[];t.forEach((o,a)=>{if(!e.isImmediateParentOf(a)){const c=this.getFieldsMap(e);this.applyChanges(c,i,s),i={},s=[],e=a.popLast()}o?i[a.lastSegment()]=Yo(o):s.push(a.lastSegment())});const r=this.getFieldsMap(e);this.applyChanges(r,i,s)}delete(t){const e=this.field(t.popLast());el(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Xn(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=e.mapValue.fields[t.get(i)];el(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,i){gs(e,(s,r)=>t[s]=r);for(const s of i)delete t[s]}clone(){return new en(Yo(this.value))}}function Aw(n){const t=[];return gs(n.fields,(e,i)=>{const s=new Se([e]);if(el(i)){const r=Aw(i.mapValue).fields;if(r.length===0)t.push(s);else for(const o of r)t.push(s.child(o))}else t.push(s)}),new fn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(t,e,i,s,r,o,a){this.key=t,this.documentType=e,this.version=i,this.readTime=s,this.createTime=r,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Ue(t,0,pt.min(),pt.min(),pt.min(),en.empty(),0)}static newFoundDocument(t,e,i,s){return new Ue(t,1,e,pt.min(),i,s,0)}static newNoDocument(t,e){return new Ue(t,2,e,pt.min(),pt.min(),en.empty(),0)}static newUnknownDocument(t,e){return new Ue(t,3,e,pt.min(),pt.min(),en.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ue&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ue(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(t,e){this.position=t,this.inclusive=e}}function M_(n,t,e){let i=0;for(let s=0;s<n.position.length;s++){const r=t[s],o=n.position[s];if(r.field.isKeyField()?i=rt.comparator(rt.fromName(o.referenceValue),e.key):i=Br(o,e.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function O_(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Xn(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(t,e="asc"){this.field=t,this.dir=e}}function QD(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{}class pe extends Sw{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new JD(t,e,i):e==="array-contains"?new e1(t,i):e==="in"?new n1(t,i):e==="not-in"?new i1(t,i):e==="array-contains-any"?new s1(t,i):new pe(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new ZD(t,i):new t1(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(Br(e,this.value)):e!==null&&cs(this.value)===cs(e)&&this.matchesComparison(Br(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ht()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rn extends Sw{constructor(t,e){super(),this.filters=t,this.op=e,this.ce=null}static create(t,e){return new Rn(t,e)}matches(t){return Pw(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Pw(n){return n.op==="and"}function Cw(n){return XD(n)&&Pw(n)}function XD(n){for(const t of n.filters)if(t instanceof Rn)return!1;return!0}function Ed(n){if(n instanceof pe)return n.field.canonicalString()+n.op.toString()+Ur(n.value);if(Cw(n))return n.filters.map(t=>Ed(t)).join(",");{const t=n.filters.map(e=>Ed(e)).join(",");return`${n.op}(${t})`}}function Rw(n,t){return n instanceof pe?function(i,s){return s instanceof pe&&i.op===s.op&&i.field.isEqual(s.field)&&Xn(i.value,s.value)}(n,t):n instanceof Rn?function(i,s){return s instanceof Rn&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,o,a)=>r&&Rw(o,s.filters[a]),!0):!1}(n,t):void ht()}function kw(n){return n instanceof pe?function(e){return`${e.field.canonicalString()} ${e.op} ${Ur(e.value)}`}(n):n instanceof Rn?function(e){return e.op.toString()+" {"+e.getFilters().map(kw).join(" ,")+"}"}(n):"Filter"}class JD extends pe{constructor(t,e,i){super(t,e,i),this.key=rt.fromName(i.referenceValue)}matches(t){const e=rt.comparator(t.key,this.key);return this.matchesComparison(e)}}class ZD extends pe{constructor(t,e){super(t,"in",e),this.keys=Dw("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class t1 extends pe{constructor(t,e){super(t,"not-in",e),this.keys=Dw("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Dw(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>rt.fromName(i.referenceValue))}class e1 extends pe{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Uf(e)&&ya(e.arrayValue,this.value)}}class n1 extends pe{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&ya(this.value.arrayValue,e)}}class i1 extends pe{constructor(t,e){super(t,"not-in",e)}matches(t){if(ya(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&!ya(this.value.arrayValue,e)}}class s1 extends pe{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Uf(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>ya(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(t,e=null,i=[],s=[],r=null,o=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=o,this.endAt=a,this.le=null}}function L_(n,t=null,e=[],i=[],s=null,r=null,o=null){return new r1(n,t,e,i,s,r,o)}function Hf(n){const t=gt(n);if(t.le===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>Ed(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),Eu(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Ur(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Ur(i)).join(",")),t.le=e}return t.le}function zf(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!QD(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Rw(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!O_(n.startAt,t.startAt)&&O_(n.endAt,t.endAt)}function Td(n){return rt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t,e=null,i=[],s=[],r=null,o="F",a=null,c=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=c,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function o1(n,t,e,i,s,r,o,a){return new Ba(n,t,e,i,s,r,o,a)}function Wf(n){return new Ba(n)}function N_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Mw(n){return n.collectionGroup!==null}function Qo(n){const t=gt(n);if(t.he===null){t.he=[];const e=new Set;for(const r of t.explicitOrderBy)t.he.push(r),e.add(r.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ye(Se.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(t).forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.he.push(new Fl(r,i))}),e.has(Se.keyField().canonicalString())||t.he.push(new Fl(Se.keyField(),i))}return t.he}function $n(n){const t=gt(n);return t.Pe||(t.Pe=a1(t,Qo(n))),t.Pe}function a1(n,t){if(n.limitType==="F")return L_(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new Fl(s.field,r)});const e=n.endAt?new Vl(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Vl(n.startAt.position,n.startAt.inclusive):null;return L_(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function xd(n,t){const e=n.filters.concat([t]);return new Ba(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Id(n,t,e){return new Ba(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function xu(n,t){return zf($n(n),$n(t))&&n.limitType===t.limitType}function Ow(n){return`${Hf($n(n))}|lt:${n.limitType}`}function _r(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(s=>kw(s)).join(", ")}]`),Eu(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Ur(s)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Ur(s)).join(",")),`Target(${i})`}($n(n))}; limitType=${n.limitType})`}function Iu(n,t){return t.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):rt.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(n,t)&&function(i,s){for(const r of Qo(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(n,t)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(n,t)&&function(i,s){return!(i.startAt&&!function(o,a,c){const l=M_(o,a,c);return o.inclusive?l<=0:l<0}(i.startAt,Qo(i),s)||i.endAt&&!function(o,a,c){const l=M_(o,a,c);return o.inclusive?l>=0:l>0}(i.endAt,Qo(i),s))}(n,t)}function c1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Lw(n){return(t,e)=>{let i=!1;for(const s of Qo(n)){const r=l1(s,t,e);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function l1(n,t,e){const i=n.field.isKeyField()?rt.comparator(t.key,e.key):function(r,o,a){const c=o.data.field(r),l=a.data.field(r);return c!==null&&l!==null?Br(c,l):ht()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ht()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,t))return r}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return void(s[r]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[e]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){gs(this.inner,(e,i)=>{for(const[s,r]of i)t(s,r)})}isEmpty(){return yw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=new ie(rt.comparator);function Ti(){return u1}const Nw=new ie(rt.comparator);function ko(...n){let t=Nw;for(const e of n)t=t.insert(e.key,e);return t}function Vw(n){let t=Nw;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Ls(){return Xo()}function Fw(){return Xo()}function Xo(){return new tr(n=>n.toString(),(n,t)=>n.isEqual(t))}const h1=new ie(rt.comparator),d1=new ye(rt.comparator);function xt(...n){let t=d1;for(const e of n)t=t.add(e);return t}const f1=new ye(At);function p1(){return f1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ol(t)?"-0":t}}function Bw(n){return{integerValue:""+n}}function g1(n,t){return zD(t)?Bw(t):jf(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(){this._=void 0}}function m1(n,t,e){return n instanceof Bl?function(s,r){const o={fields:{[ww]:{stringValue:vw},[Tw]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&Bf(r)&&(r=Tu(r)),r&&(o.fields[Ew]=r),{mapValue:o}}(e,t):n instanceof ba?Hw(n,t):n instanceof va?zw(n,t):function(s,r){const o=Uw(s,r),a=V_(o)+V_(s.Ie);return wd(o)&&wd(s.Ie)?Bw(a):jf(s.serializer,a)}(n,t)}function _1(n,t,e){return n instanceof ba?Hw(n,t):n instanceof va?zw(n,t):e}function Uw(n,t){return n instanceof Ul?function(i){return wd(i)||function(r){return!!r&&"doubleValue"in r}(i)}(t)?t:{integerValue:0}:null}class Bl extends Au{}class ba extends Au{constructor(t){super(),this.elements=t}}function Hw(n,t){const e=Ww(t);for(const i of n.elements)e.some(s=>Xn(s,i))||e.push(i);return{arrayValue:{values:e}}}class va extends Au{constructor(t){super(),this.elements=t}}function zw(n,t){let e=Ww(t);for(const i of n.elements)e=e.filter(s=>!Xn(s,i));return{arrayValue:{values:e}}}class Ul extends Au{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function V_(n){return le(n.integerValue||n.doubleValue)}function Ww(n){return Uf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function y1(n,t){return n.field.isEqual(t.field)&&function(i,s){return i instanceof ba&&s instanceof ba||i instanceof va&&s instanceof va?Fr(i.elements,s.elements,Xn):i instanceof Ul&&s instanceof Ul?Xn(i.Ie,s.Ie):i instanceof Bl&&s instanceof Bl}(n.transform,t.transform)}class b1{constructor(t,e){this.version=t,this.transformResults=e}}class Xe{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Xe}static exists(t){return new Xe(void 0,t)}static updateTime(t){return new Xe(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function nl(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Su{}function jw(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Pu(n.key,Xe.none()):new Ua(n.key,n.data,Xe.none());{const e=n.data,i=en.empty();let s=new ye(Se.comparator);for(let r of t.fields)if(!s.has(r)){let o=e.field(r);o===null&&r.length>1&&(r=r.popLast(),o=e.field(r)),o===null?i.delete(r):i.set(r,o),s=s.add(r)}return new ms(n.key,i,new fn(s.toArray()),Xe.none())}}function v1(n,t,e){n instanceof Ua?function(s,r,o){const a=s.value.clone(),c=B_(s.fieldTransforms,r,o.transformResults);a.setAll(c),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,t,e):n instanceof ms?function(s,r,o){if(!nl(s.precondition,r))return void r.convertToUnknownDocument(o.version);const a=B_(s.fieldTransforms,r,o.transformResults),c=r.data;c.setAll($w(s)),c.setAll(a),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,t,e):function(s,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,e)}function Jo(n,t,e,i){return n instanceof Ua?function(r,o,a,c){if(!nl(r.precondition,o))return a;const l=r.value.clone(),h=U_(r.fieldTransforms,c,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,t,e,i):n instanceof ms?function(r,o,a,c){if(!nl(r.precondition,o))return a;const l=U_(r.fieldTransforms,c,o),h=o.data;return h.setAll($w(r)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(d=>d.field))}(n,t,e,i):function(r,o,a){return nl(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,t,e)}function w1(n,t){let e=null;for(const i of n.fieldTransforms){const s=t.data.field(i.field),r=Uw(i.transform,s||null);r!=null&&(e===null&&(e=en.empty()),e.set(i.field,r))}return e||null}function F_(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Fr(i,s,(r,o)=>y1(r,o))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Ua extends Su{constructor(t,e,i,s=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ms extends Su{constructor(t,e,i,s,r=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function $w(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function B_(n,t,e){const i=new Map;Ft(n.length===e.length);for(let s=0;s<e.length;s++){const r=n[s],o=r.transform,a=t.data.field(r.field);i.set(r.field,_1(o,a,e[s]))}return i}function U_(n,t,e){const i=new Map;for(const s of n){const r=s.transform,o=e.data.field(s.field);i.set(s.field,m1(r,o,t))}return i}class Pu extends Su{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class E1 extends Su{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(t,e,i,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(t.key)&&v1(r,t,i[s])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Jo(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Jo(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=Fw();return this.mutations.forEach(s=>{const r=t.get(s.key),o=r.overlayedDocument;let a=this.applyToLocalView(o,r.mutatedFields);a=e.has(s.key)?null:a;const c=jw(o,a);c!==null&&i.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(pt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),xt())}isEqual(t){return this.batchId===t.batchId&&Fr(this.mutations,t.mutations,(e,i)=>F_(e,i))&&Fr(this.baseMutations,t.baseMutations,(e,i)=>F_(e,i))}}class $f{constructor(t,e,i,s){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=s}static from(t,e,i){Ft(t.mutations.length===i.length);let s=function(){return h1}();const r=t.mutations;for(let o=0;o<r.length;o++)s=s.insert(r[o].key,i[o].version);return new $f(t,e,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe,Pt;function A1(n){switch(n){case z.OK:return ht();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return ht()}}function qw(n){if(n===void 0)return Ei("GRPC error has no .code"),z.UNKNOWN;switch(n){case fe.OK:return z.OK;case fe.CANCELLED:return z.CANCELLED;case fe.UNKNOWN:return z.UNKNOWN;case fe.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case fe.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case fe.INTERNAL:return z.INTERNAL;case fe.UNAVAILABLE:return z.UNAVAILABLE;case fe.UNAUTHENTICATED:return z.UNAUTHENTICATED;case fe.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case fe.NOT_FOUND:return z.NOT_FOUND;case fe.ALREADY_EXISTS:return z.ALREADY_EXISTS;case fe.PERMISSION_DENIED:return z.PERMISSION_DENIED;case fe.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case fe.ABORTED:return z.ABORTED;case fe.OUT_OF_RANGE:return z.OUT_OF_RANGE;case fe.UNIMPLEMENTED:return z.UNIMPLEMENTED;case fe.DATA_LOSS:return z.DATA_LOSS;default:return ht()}}(Pt=fe||(fe={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=new es([4294967295,4294967295],0);function H_(n){const t=S1().encode(n),e=new lw;return e.update(t),new Uint8Array(e.digest())}function z_(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),r=t.getUint32(12,!0);return[new es([e,i],0),new es([s,r],0)]}class qf{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Do(`Invalid padding: ${e}`);if(i<0)throw new Do(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Do(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Do(`Invalid padding when bitmap length is 0: ${e}`);this.Ee=8*t.length-e,this.de=es.fromNumber(this.Ee)}Ae(t,e,i){let s=t.add(e.multiply(es.fromNumber(i)));return s.compare(P1)===1&&(s=new es([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const e=H_(t),[i,s]=z_(e);for(let r=0;r<this.hashCount;r++){const o=this.Ae(i,s,r);if(!this.Re(o))return!1}return!0}static create(t,e,i){const s=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),o=new qf(r,s,e);return i.forEach(a=>o.insert(a)),o}insert(t){if(this.Ee===0)return;const e=H_(t),[i,s]=z_(e);for(let r=0;r<this.hashCount;r++){const o=this.Ae(i,s,r);this.Ve(o)}}Ve(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Do extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(t,e,i,s,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const s=new Map;return s.set(t,Ha.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Cu(pt.min(),s,new ie(At),Ti(),xt())}}class Ha{constructor(t,e,i,s,r){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Ha(i,e,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(t,e,i,s){this.me=t,this.removedTargetIds=e,this.key=i,this.fe=s}}class Kw{constructor(t,e){this.targetId=t,this.ge=e}}class Gw{constructor(t,e,i=Pe.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=s}}class W_{constructor(){this.pe=0,this.ye=j_(),this.we=Pe.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.we=t)}Fe(){let t=xt(),e=xt(),i=xt();return this.ye.forEach((s,r)=>{switch(r){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:i=i.add(s);break;default:ht()}}),new Ha(this.we,this.be,t,e,i)}Me(){this.Se=!1,this.ye=j_()}xe(t,e){this.Se=!0,this.ye=this.ye.insert(t,e)}Oe(t){this.Se=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Ft(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class C1{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Ti(),this.$e=xc(),this.Ke=xc(),this.Ue=new ie(At)}We(t){for(const e of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(e,t.fe):this.ze(e,t.key,t.fe);for(const e of t.removedTargetIds)this.ze(e,t.key,t.fe)}je(t){this.forEachTarget(t,e=>{const i=this.He(e);switch(t.state){case 0:this.Je(e)&&i.Ce(t.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(t.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(e);break;case 3:this.Je(e)&&(i.Le(),i.Ce(t.resumeToken));break;case 4:this.Je(e)&&(this.Ye(e),i.Ce(t.resumeToken));break;default:ht()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.qe.forEach((i,s)=>{this.Je(s)&&e(s)})}Ze(t){const e=t.targetId,i=t.ge.count,s=this.Xe(e);if(s){const r=s.target;if(Td(r))if(i===0){const o=new rt(r.path);this.ze(e,o,Ue.newNoDocument(o,pt.min()))}else Ft(i===1);else{const o=this.et(e);if(o!==i){const a=this.tt(t),c=a?this.nt(a,t,o):1;if(c!==0){this.Ye(e);const l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(e,l)}}}}}tt(t){const e=t.ge.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=e;let o,a;try{o=as(i).toUint8Array()}catch(c){if(c instanceof bw)return Vr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new qf(o,s,r)}catch(c){return Vr(c instanceof Do?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ee===0?null:a}nt(t,e,i){return e.ge.count===i-this.st(t,e.targetId)?0:2}st(t,e){const i=this.ke.getRemoteKeysForTarget(e);let s=0;return i.forEach(r=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;t.mightContain(a)||(this.ze(e,r,null),s++)}),s}ot(t){const e=new Map;this.qe.forEach((r,o)=>{const a=this.Xe(o);if(a){if(r.current&&Td(a.target)){const c=new rt(a.target.path);this._t(c).has(o)||this.ut(o,c)||this.ze(o,c,Ue.newNoDocument(c,t))}r.ve&&(e.set(o,r.Fe()),r.Me())}});let i=xt();this.Ke.forEach((r,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Xe(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(r))}),this.Qe.forEach((r,o)=>o.setReadTime(t));const s=new Cu(t,e,this.Ue,this.Qe,i);return this.Qe=Ti(),this.$e=xc(),this.Ke=xc(),this.Ue=new ie(At),s}Ge(t,e){if(!this.Je(t))return;const i=this.ut(t,e.key)?2:0;this.He(t).xe(e.key,i),this.Qe=this.Qe.insert(e.key,e),this.$e=this.$e.insert(e.key,this._t(e.key).add(t)),this.Ke=this.Ke.insert(e.key,this.ct(e.key).add(t))}ze(t,e,i){if(!this.Je(t))return;const s=this.He(t);this.ut(t,e)?s.xe(e,1):s.Oe(e),this.Ke=this.Ke.insert(e,this.ct(e).delete(t)),this.Ke=this.Ke.insert(e,this.ct(e).add(t)),i&&(this.Qe=this.Qe.insert(e,i))}removeTarget(t){this.qe.delete(t)}et(t){const e=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let e=this.qe.get(t);return e||(e=new W_,this.qe.set(t,e)),e}ct(t){let e=this.Ke.get(t);return e||(e=new ye(At),this.Ke=this.Ke.insert(t,e)),e}_t(t){let e=this.$e.get(t);return e||(e=new ye(At),this.$e=this.$e.insert(t,e)),e}Je(t){const e=this.Xe(t)!==null;return e||tt("WatchChangeAggregator","Detected inactive target",t),e}Xe(t){const e=this.qe.get(t);return e&&e.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new W_),this.ke.getRemoteKeysForTarget(t).forEach(e=>{this.ze(t,e,null)})}ut(t,e){return this.ke.getRemoteKeysForTarget(t).has(e)}}function xc(){return new ie(rt.comparator)}function j_(){return new ie(rt.comparator)}const R1={asc:"ASCENDING",desc:"DESCENDING"},k1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D1={and:"AND",or:"OR"};class M1{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Ad(n,t){return n.useProto3Json||Eu(t)?t:{value:t}}function Hl(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Yw(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function O1(n,t){return Hl(n,t.toTimestamp())}function qn(n){return Ft(!!n),pt.fromTimestamp(function(e){const i=os(e);return new _e(i.seconds,i.nanos)}(n))}function Kf(n,t){return Sd(n,t).canonicalString()}function Sd(n,t){const e=function(s){return new Yt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return t===void 0?e:e.child(t)}function Qw(n){const t=Yt.fromString(n);return Ft(eE(t)),t}function Pd(n,t){return Kf(n.databaseId,t.path)}function Ph(n,t){const e=Qw(t);if(e.get(1)!==n.databaseId.projectId)throw new et(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new et(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new rt(Jw(e))}function Xw(n,t){return Kf(n.databaseId,t)}function L1(n){const t=Qw(n);return t.length===4?Yt.emptyPath():Jw(t)}function Cd(n){return new Yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Jw(n){return Ft(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function $_(n,t,e){return{name:Pd(n,t),fields:e.value.mapValue.fields}}function N1(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ht()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],r=function(l,h){return l.useProto3Json?(Ft(h===void 0||typeof h=="string"),Pe.fromBase64String(h||"")):(Ft(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Pe.fromUint8Array(h||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const h=l.code===void 0?z.UNKNOWN:qw(l.code);return new et(h,l.message||"")}(o);e=new Gw(i,s,r,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=Ph(n,i.document.name),r=qn(i.document.updateTime),o=i.document.createTime?qn(i.document.createTime):pt.min(),a=new en({mapValue:{fields:i.document.fields}}),c=Ue.newFoundDocument(s,r,o,a),l=i.targetIds||[],h=i.removedTargetIds||[];e=new il(l,h,c.key,c)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=Ph(n,i.document),r=i.readTime?qn(i.readTime):pt.min(),o=Ue.newNoDocument(s,r),a=i.removedTargetIds||[];e=new il([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=Ph(n,i.document),r=i.removedTargetIds||[];e=new il([],r,s,null)}else{if(!("filter"in t))return ht();{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,o=new I1(s,r),a=i.targetId;e=new Kw(a,o)}}return e}function V1(n,t){let e;if(t instanceof Ua)e={update:$_(n,t.key,t.value)};else if(t instanceof Pu)e={delete:Pd(n,t.key)};else if(t instanceof ms)e={update:$_(n,t.key,t.data),updateMask:q1(t.fieldMask)};else{if(!(t instanceof E1))return ht();e={verify:Pd(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const a=o.transform;if(a instanceof Bl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ba)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof va)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ul)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ht()}(0,i))),t.precondition.isNone||(e.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:O1(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:ht()}(n,t.precondition)),e}function F1(n,t){return n&&n.length>0?(Ft(t!==void 0),n.map(e=>function(s,r){let o=s.updateTime?qn(s.updateTime):qn(r);return o.isEqual(pt.min())&&(o=qn(r)),new b1(o,s.transformResults||[])}(e,t))):[]}function B1(n,t){return{documents:[Xw(n,t.path)]}}function U1(n,t){const e={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=Xw(n,s);const r=function(l){if(l.length!==0)return tE(Rn.create(l,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const o=function(l){if(l.length!==0)return l.map(h=>function(f){return{field:yr(f.field),direction:W1(f.dir)}}(h))}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const a=Ad(n,t.limit);return a!==null&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),{ht:e,parent:s}}function H1(n){let t=L1(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let s=null;if(i>0){Ft(i===1);const h=e.from[0];h.allDescendants?s=h.collectionId:t=t.child(h.collectionId)}let r=[];e.where&&(r=function(d){const f=Zw(d);return f instanceof Rn&&Cw(f)?f.getFilters():[f]}(e.where));let o=[];e.orderBy&&(o=function(d){return d.map(f=>function(_){return new Fl(br(_.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(e.orderBy));let a=null;e.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Eu(f)?null:f}(e.limit));let c=null;e.startAt&&(c=function(d){const f=!!d.before,g=d.values||[];return new Vl(g,f)}(e.startAt));let l=null;return e.endAt&&(l=function(d){const f=!d.before,g=d.values||[];return new Vl(g,f)}(e.endAt)),o1(t,s,o,r,a,"F",c,l)}function z1(n,t){const e=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ht()}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Zw(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=br(e.unaryFilter.field);return pe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=br(e.unaryFilter.field);return pe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=br(e.unaryFilter.field);return pe.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=br(e.unaryFilter.field);return pe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ht()}}(n):n.fieldFilter!==void 0?function(e){return pe.create(br(e.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ht()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return Rn.create(e.compositeFilter.filters.map(i=>Zw(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ht()}}(e.compositeFilter.op))}(n):ht()}function W1(n){return R1[n]}function j1(n){return k1[n]}function $1(n){return D1[n]}function yr(n){return{fieldPath:n.canonicalString()}}function br(n){return Se.fromServerFormat(n.fieldPath)}function tE(n){return n instanceof pe?function(e){if(e.op==="=="){if(D_(e.value))return{unaryFilter:{field:yr(e.field),op:"IS_NAN"}};if(k_(e.value))return{unaryFilter:{field:yr(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(D_(e.value))return{unaryFilter:{field:yr(e.field),op:"IS_NOT_NAN"}};if(k_(e.value))return{unaryFilter:{field:yr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yr(e.field),op:j1(e.op),value:e.value}}}(n):n instanceof Rn?function(e){const i=e.getFilters().map(s=>tE(s));return i.length===1?i[0]:{compositeFilter:{op:$1(e.op),filters:i}}}(n):ht()}function q1(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function eE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(t,e,i,s,r=pt.min(),o=pt.min(),a=Pe.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(t){return new qi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(t){this.Tt=t}}function G1(n){const t=H1({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Id(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this.Tn=new Q1}addToCollectionParentIndex(t,e){return this.Tn.add(e),j.resolve()}getCollectionParents(t,e){return j.resolve(this.Tn.getEntries(e))}addFieldIndex(t,e){return j.resolve()}deleteFieldIndex(t,e){return j.resolve()}deleteAllFieldIndexes(t){return j.resolve()}createTargetIndexes(t,e){return j.resolve()}getDocumentsMatchingTarget(t,e){return j.resolve(null)}getIndexType(t,e){return j.resolve(0)}getFieldIndexes(t,e){return j.resolve([])}getNextCollectionGroupToUpdate(t){return j.resolve(null)}getMinOffset(t,e){return j.resolve(rs.min())}getMinOffsetFromCollectionGroup(t,e){return j.resolve(rs.min())}updateCollectionGroup(t,e,i){return j.resolve()}updateIndexEntries(t,e){return j.resolve()}}class Q1{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e]||new ye(Yt.comparator),r=!s.has(i);return this.index[e]=s.add(i),r}has(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e];return s&&s.has(i)}getEntries(t){return(this.index[t]||new ye(Yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nE=41943040;class tn{static withCacheSize(t){return new tn(t,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(nE,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new Hr(0)}static Un(){return new Hr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="LruGarbageCollector",X1=1048576;function G_([n,t],[e,i]){const s=At(n,e);return s===0?At(t,i):s}class J1{constructor(t){this.Hn=t,this.buffer=new ye(G_),this.Jn=0}Yn(){return++this.Jn}Zn(t){const e=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();G_(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Z1{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){tt(K_,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Jr(e)?tt(K_,"Ignoring IndexedDB error during garbage collection: ",e):await Xr(e)}await this.er(3e5)})}}class tM{constructor(t,e){this.tr=t,this.params=e}calculateTargetCount(t,e){return this.tr.nr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return j.resolve(wu.ae);const i=new J1(e);return this.tr.forEachTarget(t,s=>i.Zn(s.sequenceNumber)).next(()=>this.tr.rr(t,s=>i.Zn(s))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.tr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.tr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(tt("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(q_)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),q_):this.ir(t,e))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,e){let i,s,r,o,a,c,l;const h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,o=Date.now(),this.nthSequenceNumber(t,s))).next(d=>(i=d,a=Date.now(),this.removeTargets(t,i,e))).next(d=>(r=d,c=Date.now(),this.removeOrphanedDocuments(t,i))).next(d=>(l=Date.now(),mr()<=Tt.DEBUG&&tt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${r} targets in `+(c-a)+`ms
	Removed ${d} documents in `+(l-c)+`ms
Total Duration: ${l-h}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:d})))}}function eM(n,t){return new tM(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(){this.changes=new tr(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Ue.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?j.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(t,e,i,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,e))).next(s=>(i!==null&&Jo(i.mutation,s,fn.empty(),_e.now()),s))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,xt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=xt()){const s=Ls();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,i).next(r=>{let o=ko();return r.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const i=Ls();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,xt()))}populateOverlays(t,e,i){const s=[];return i.forEach(r=>{e.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(t,s).next(r=>{r.forEach((o,a)=>{e.set(o,a)})})}computeViews(t,e,i,s){let r=Ti();const o=Xo(),a=function(){return Xo()}();return e.forEach((c,l)=>{const h=i.get(l.key);s.has(l.key)&&(h===void 0||h.mutation instanceof ms)?r=r.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),Jo(h.mutation,l,h.mutation.getFieldMask(),_e.now())):o.set(l.key,fn.empty())}),this.recalculateAndSaveOverlays(t,r).next(c=>(c.forEach((l,h)=>o.set(l,h)),e.forEach((l,h)=>{var d;return a.set(l,new iM(h,(d=o.get(l))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(t,e){const i=Xo();let s=new ie((o,a)=>o-a),r=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=e.get(c);if(l===null)return;let h=i.get(c)||fn.empty();h=a.applyToLocalView(l,h),i.set(c,h);const d=(s.get(a.batchId)||xt()).add(c);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,h=c.value,d=Fw();h.forEach(f=>{if(!r.has(f)){const g=jw(e.get(f),i.get(f));g!==null&&d.set(f,g),r=r.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,l,d))}return j.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,s){return function(o){return rt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Mw(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,s):this.getDocumentsMatchingCollectionQuery(t,e,i,s)}getNextDocuments(t,e,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,s).next(r=>{const o=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,s-r.size):j.resolve(Ls());let a=ga,c=r;return o.next(l=>j.forEach(l,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),r.get(h)?j.resolve():this.remoteDocumentCache.getEntry(t,h).next(f=>{c=c.insert(h,f)}))).next(()=>this.populateOverlays(t,l,r)).next(()=>this.computeViews(t,c,l,xt())).next(h=>({batchId:a,changes:Vw(h)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new rt(e)).next(i=>{let s=ko();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,e,i,s){const r=e.collectionGroup;let o=ko();return this.indexManager.getCollectionParents(t,r).next(a=>j.forEach(a,c=>{const l=function(d,f){return new Ba(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(e,c.child(r));return this.getDocumentsMatchingCollectionQuery(t,l,i,s).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r,s))).next(o=>{r.forEach((c,l)=>{const h=l.getKey();o.get(h)===null&&(o=o.insert(h,Ue.newInvalidDocument(h)))});let a=ko();return o.forEach((c,l)=>{const h=r.get(c);h!==void 0&&Jo(h.mutation,l,fn.empty(),_e.now()),Iu(e,l)&&(a=a.insert(c,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,e){return j.resolve(this.dr.get(e))}saveBundleMetadata(t,e){return this.dr.set(e.id,function(s){return{id:s.id,version:s.version,createTime:qn(s.createTime)}}(e)),j.resolve()}getNamedQuery(t,e){return j.resolve(this.Ar.get(e))}saveNamedQuery(t,e){return this.Ar.set(e.name,function(s){return{name:s.name,query:G1(s.bundledQuery),readTime:qn(s.readTime)}}(e)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(){this.overlays=new ie(rt.comparator),this.Rr=new Map}getOverlay(t,e){return j.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ls();return j.forEach(e,s=>this.getOverlay(t,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((s,r)=>{this.Et(t,e,r)}),j.resolve()}removeOverlaysForBatchId(t,e,i){const s=this.Rr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Rr.delete(i)),j.resolve()}getOverlaysForCollection(t,e,i){const s=Ls(),r=e.length+1,o=new rt(e.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!e.isPrefixOf(l.path))break;l.path.length===r&&c.largestBatchId>i&&s.set(c.getKey(),c)}return j.resolve(s)}getOverlaysForCollectionGroup(t,e,i,s){let r=new ie((l,h)=>l-h);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===e&&l.largestBatchId>i){let h=r.get(l.largestBatchId);h===null&&(h=Ls(),r=r.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}const a=Ls(),c=r.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=s)););return j.resolve(a)}Et(t,e,i){const s=this.overlays.get(i.key);if(s!==null){const o=this.Rr.get(s.largestBatchId).delete(i.key);this.Rr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new x1(e,i));let r=this.Rr.get(e);r===void 0&&(r=xt(),this.Rr.set(e,r)),this.Rr.set(e,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(){this.sessionToken=Pe.EMPTY_BYTE_STRING}getSessionToken(t){return j.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(){this.Vr=new ye(ve.mr),this.gr=new ye(ve.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,e){const i=new ve(t,e);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.wr(new ve(t,e))}br(t,e){t.forEach(i=>this.removeReference(i,e))}Sr(t){const e=new rt(new Yt([])),i=new ve(e,t),s=new ve(e,t+1),r=[];return this.gr.forEachInRange([i,s],o=>{this.wr(o),r.push(o.key)}),r}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const e=new rt(new Yt([])),i=new ve(e,t),s=new ve(e,t+1);let r=xt();return this.gr.forEachInRange([i,s],o=>{r=r.add(o.key)}),r}containsKey(t){const e=new ve(t,0),i=this.Vr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class ve{constructor(t,e){this.key=t,this.Cr=e}static mr(t,e){return rt.comparator(t.key,e.key)||At(t.Cr,e.Cr)}static pr(t,e){return At(t.Cr,e.Cr)||rt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Fr=1,this.Mr=new ye(ve.mr)}checkEmpty(t){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,s){const r=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new T1(r,e,i,s);this.mutationQueue.push(o);for(const a of s)this.Mr=this.Mr.add(new ve(a.key,r)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(t,e){return j.resolve(this.Or(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,s=this.Nr(i),r=s<0?0:s;return j.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?Ff:this.Fr-1)}getAllMutationBatches(t){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new ve(e,0),s=new ve(e,Number.POSITIVE_INFINITY),r=[];return this.Mr.forEachInRange([i,s],o=>{const a=this.Or(o.Cr);r.push(a)}),j.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ye(At);return e.forEach(s=>{const r=new ve(s,0),o=new ve(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([r,o],a=>{i=i.add(a.Cr)})}),j.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1;let r=i;rt.isDocumentKey(r)||(r=r.child(""));const o=new ve(new rt(r),0);let a=new ye(At);return this.Mr.forEachWhile(c=>{const l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===s&&(a=a.add(c.Cr)),!0)},o),j.resolve(this.Br(a))}Br(t){const e=[];return t.forEach(i=>{const s=this.Or(i);s!==null&&e.push(s)}),e}removeMutationBatch(t,e){Ft(this.Lr(e.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return j.forEach(e.mutations,s=>{const r=new ve(s.key,e.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Mr=i})}qn(t){}containsKey(t,e){const i=new ve(e,0),s=this.Mr.firstAfterOrEqual(i);return j.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,j.resolve()}Lr(t,e){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const e=this.Nr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(t){this.kr=t,this.docs=function(){return new ie(rt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,s=this.docs.get(i),r=s?s.size:0,o=this.kr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return j.resolve(i?i.document.mutableCopy():Ue.newInvalidDocument(e))}getEntries(t,e){let i=Ti();return e.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():Ue.newInvalidDocument(s))}),j.resolve(i)}getDocumentsMatchingQuery(t,e,i,s){let r=Ti();const o=e.path,a=new rt(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:h}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||FD(VD(h),i)<=0||(s.has(h.key)||Iu(e,h))&&(r=r.insert(h.key,h.mutableCopy()))}return j.resolve(r)}getAllFromCollectionGroup(t,e,i,s){ht()}qr(t,e){return j.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new uM(this)}getSize(t){return j.resolve(this.size)}}class uM extends nM{constructor(t){super(),this.Ir=t}applyChanges(t){const e=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?e.push(this.Ir.addEntry(t,s)):this.Ir.removeEntry(i)}),j.waitFor(e)}getFromCache(t,e){return this.Ir.getEntry(t,e)}getAllFromCache(t,e){return this.Ir.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(t){this.persistence=t,this.Qr=new tr(e=>Hf(e),zf),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Gf,this.targetCount=0,this.Ur=Hr.Kn()}forEachTarget(t,e){return this.Qr.forEach((i,s)=>e(s)),j.resolve()}getLastRemoteSnapshotVersion(t){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return j.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.$r&&(this.$r=e),j.resolve()}zn(t){this.Qr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ur=new Hr(e),this.highestTargetId=e),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,e){return this.zn(e),this.targetCount+=1,j.resolve()}updateTargetData(t,e){return this.zn(e),j.resolve()}removeTargetData(t,e){return this.Qr.delete(e.target),this.Kr.Sr(e.targetId),this.targetCount-=1,j.resolve()}removeTargets(t,e,i){let s=0;const r=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=e&&i.get(a.targetId)===null&&(this.Qr.delete(o),r.push(this.removeMatchingKeysForTargetId(t,a.targetId)),s++)}),j.waitFor(r).next(()=>s)}getTargetCount(t){return j.resolve(this.targetCount)}getTargetData(t,e){const i=this.Qr.get(e)||null;return j.resolve(i)}addMatchingKeys(t,e,i){return this.Kr.yr(e,i),j.resolve()}removeMatchingKeys(t,e,i){this.Kr.br(e,i);const s=this.persistence.referenceDelegate,r=[];return s&&e.forEach(o=>{r.push(s.markPotentiallyOrphaned(t,o))}),j.waitFor(r)}removeMatchingKeysForTargetId(t,e){return this.Kr.Sr(e),j.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Kr.vr(e);return j.resolve(i)}containsKey(t,e){return j.resolve(this.Kr.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(t,e){this.Wr={},this.overlays={},this.Gr=new wu(0),this.zr=!1,this.zr=!0,this.jr=new aM,this.referenceDelegate=t(this),this.Hr=new hM(this),this.indexManager=new Y1,this.remoteDocumentCache=function(s){return new lM(s)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new K1(e),this.Yr=new rM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new oM,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Wr[t.toKey()];return i||(i=new cM(e,this.referenceDelegate),this.Wr[t.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,e,i){tt("MemoryPersistence","Starting transaction:",t);const s=new dM(this.Gr.next());return this.referenceDelegate.Zr(),i(s).next(r=>this.referenceDelegate.Xr(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}ei(t,e){return j.or(Object.values(this.Wr).map(i=>()=>i.containsKey(t,e)))}}class dM extends UD{constructor(t){super(),this.currentSequenceNumber=t}}class Yf{constructor(t){this.persistence=t,this.ti=new Gf,this.ni=null}static ri(t){return new Yf(t)}get ii(){if(this.ni)return this.ni;throw ht()}addReference(t,e,i){return this.ti.addReference(i,e),this.ii.delete(i.toString()),j.resolve()}removeReference(t,e,i){return this.ti.removeReference(i,e),this.ii.add(i.toString()),j.resolve()}markPotentiallyOrphaned(t,e){return this.ii.add(e.toString()),j.resolve()}removeTarget(t,e){this.ti.Sr(e.targetId).forEach(s=>this.ii.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(s=>{s.forEach(r=>this.ii.add(r.toString()))}).next(()=>i.removeTargetData(t,e))}Zr(){this.ni=new Set}Xr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.ii,i=>{const s=rt.fromPath(i);return this.si(t,s).next(r=>{r||e.removeEntry(s,pt.min())})}).next(()=>(this.ni=null,e.apply(t)))}updateLimboDocument(t,e){return this.si(t,e).next(i=>{i?this.ii.delete(e.toString()):this.ii.add(e.toString())})}Jr(t){return 0}si(t,e){return j.or([()=>j.resolve(this.ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.ei(t,e)])}}class zl{constructor(t,e){this.persistence=t,this.oi=new tr(i=>WD(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=eM(this,e)}static ri(t,e){return new zl(t,e)}Zr(){}Xr(t){return j.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}nr(t){const e=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(s=>i+s))}sr(t){let e=0;return this.rr(t,i=>{e++}).next(()=>e)}rr(t,e){return j.forEach(this.oi,(i,s)=>this.ar(t,i,s).next(r=>r?j.resolve():e(s)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.qr(t,o=>this.ar(t,o,e).next(a=>{a||(i++,r.removeEntry(o,pt.min()))})).next(()=>r.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.oi.set(e,t.currentSequenceNumber),j.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.oi.set(i,t.currentSequenceNumber),j.resolve()}removeReference(t,e,i){return this.oi.set(i,t.currentSequenceNumber),j.resolve()}updateLimboDocument(t,e){return this.oi.set(e,t.currentSequenceNumber),j.resolve()}Jr(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=tl(t.data.value)),e}ar(t,e,i){return j.or([()=>this.persistence.ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.oi.get(e);return j.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(t,e,i,s){this.targetId=t,this.fromCache=e,this.Hi=i,this.Ji=s}static Yi(t,e){let i=xt(),s=xt();for(const r of e.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new Qf(t,e.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return FS()?8:HD($e())>0?6:4}()}initialize(t,e){this.ns=t,this.indexManager=e,this.Zi=!0}getDocumentsMatchingQuery(t,e,i,s){const r={result:null};return this.rs(t,e).next(o=>{r.result=o}).next(()=>{if(!r.result)return this.ss(t,e,s,i).next(o=>{r.result=o})}).next(()=>{if(r.result)return;const o=new fM;return this._s(t,e,o).next(a=>{if(r.result=a,this.Xi)return this.us(t,e,o,a.size)})}).next(()=>r.result)}us(t,e,i,s){return i.documentReadCount<this.es?(mr()<=Tt.DEBUG&&tt("QueryEngine","SDK will not create cache indexes for query:",_r(e),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),j.resolve()):(mr()<=Tt.DEBUG&&tt("QueryEngine","Query:",_r(e),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ts*s?(mr()<=Tt.DEBUG&&tt("QueryEngine","The SDK decides to create cache indexes for query:",_r(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,$n(e))):j.resolve())}rs(t,e){if(N_(e))return j.resolve(null);let i=$n(e);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(e.limit!==null&&s===1&&(e=Id(e,null,"F"),i=$n(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(r=>{const o=xt(...r);return this.ns.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(c=>{const l=this.cs(e,a);return this.ls(e,l,o,c.readTime)?this.rs(t,Id(e,null,"F")):this.hs(t,l,e,c)}))})))}ss(t,e,i,s){return N_(e)||s.isEqual(pt.min())?j.resolve(null):this.ns.getDocuments(t,i).next(r=>{const o=this.cs(e,r);return this.ls(e,o,i,s)?j.resolve(null):(mr()<=Tt.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),_r(e)),this.hs(t,o,e,ND(s,ga)).next(a=>a))})}cs(t,e){let i=new ye(Lw(t));return e.forEach((s,r)=>{Iu(t,r)&&(i=i.add(r))}),i}ls(t,e,i,s){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const r=t.limitType==="F"?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}_s(t,e,i){return mr()<=Tt.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",_r(e)),this.ns.getDocumentsMatchingQuery(t,e,rs.min(),i)}hs(t,e,i,s){return this.ns.getDocumentsMatchingQuery(t,i,s).next(r=>(e.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf="LocalStore",gM=3e8;class mM{constructor(t,e,i,s){this.persistence=t,this.Ps=e,this.serializer=s,this.Ts=new ie(At),this.Is=new tr(r=>Hf(r),zf),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(i)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new sM(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ts))}}function _M(n,t,e,i){return new mM(n,t,e,i)}async function sE(n,t){const e=gt(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let s;return e.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,e.As(t),e.mutationQueue.getAllMutationBatches(i))).next(r=>{const o=[],a=[];let c=xt();for(const l of s){o.push(l.batchId);for(const h of l.mutations)c=c.add(h.key)}for(const l of r){a.push(l.batchId);for(const h of l.mutations)c=c.add(h.key)}return e.localDocuments.getDocuments(i,c).next(l=>({Rs:l,removedBatchIds:o,addedBatchIds:a}))})})}function yM(n,t){const e=gt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),r=e.ds.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){const d=l.batch,f=d.keys();let g=j.resolve();return f.forEach(_=>{g=g.next(()=>h.getEntry(c,_)).next(y=>{const v=l.docVersions.get(_);Ft(v!==null),y.version.compareTo(v)<0&&(d.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),h.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(e,i,t,r).next(()=>r.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=xt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(t))).next(()=>e.localDocuments.getDocuments(i,s))})}function rE(n){const t=gt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Hr.getLastRemoteSnapshotVersion(e))}function bM(n,t){const e=gt(n),i=t.snapshotVersion;let s=e.Ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=e.ds.newChangeBuffer({trackRemovals:!0});s=e.Ts;const a=[];t.targetChanges.forEach((h,d)=>{const f=s.get(d);if(!f)return;a.push(e.Hr.removeMatchingKeys(r,h.removedDocuments,d).next(()=>e.Hr.addMatchingKeys(r,h.addedDocuments,d)));let g=f.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.get(d)!==null?g=g.withResumeToken(Pe.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,i)),s=s.insert(d,g),function(y,v,I){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=gM?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(f,g,h)&&a.push(e.Hr.updateTargetData(r,g))});let c=Ti(),l=xt();if(t.documentUpdates.forEach(h=>{t.resolvedLimboDocuments.has(h)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(r,h))}),a.push(vM(r,o,t.documentUpdates).next(h=>{c=h.Vs,l=h.fs})),!i.isEqual(pt.min())){const h=e.Hr.getLastRemoteSnapshotVersion(r).next(d=>e.Hr.setTargetsMetadata(r,r.currentSequenceNumber,i));a.push(h)}return j.waitFor(a).next(()=>o.apply(r)).next(()=>e.localDocuments.getLocalViewOfDocuments(r,c,l)).next(()=>c)}).then(r=>(e.Ts=s,r))}function vM(n,t,e){let i=xt(),s=xt();return e.forEach(r=>i=i.add(r)),t.getEntries(n,i).next(r=>{let o=Ti();return e.forEach((a,c)=>{const l=r.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(pt.min())?(t.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(c),o=o.insert(a,c)):tt(Xf,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Vs:o,fs:s}})}function wM(n,t){const e=gt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Ff),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function EM(n,t){const e=gt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return e.Hr.getTargetData(i,t).next(r=>r?(s=r,j.resolve(s)):e.Hr.allocateTargetId(i).next(o=>(s=new qi(t,o,"TargetPurposeListen",i.currentSequenceNumber),e.Hr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=e.Ts.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.Ts=e.Ts.insert(i.targetId,i),e.Is.set(t,i.targetId)),i})}async function Rd(n,t,e){const i=gt(n),s=i.Ts.get(t),r=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",r,o=>i.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Jr(o))throw o;tt(Xf,`Failed to update sequence numbers for target ${t}: ${o}`)}i.Ts=i.Ts.remove(t),i.Is.delete(s.target)}function Y_(n,t,e){const i=gt(n);let s=pt.min(),r=xt();return i.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,h){const d=gt(c),f=d.Is.get(h);return f!==void 0?j.resolve(d.Ts.get(f)):d.Hr.getTargetData(l,h)}(i,o,$n(t)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{r=c})}).next(()=>i.Ps.getDocumentsMatchingQuery(o,t,e?s:pt.min(),e?r:xt())).next(a=>(TM(i,c1(t),a),{documents:a,gs:r})))}function TM(n,t,e){let i=n.Es.get(t)||pt.min();e.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),n.Es.set(t,i)}class Q_{constructor(){this.activeTargetIds=p1()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ss(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class xM{constructor(){this.ho=new Q_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,e,i){this.Po[t]=e}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new Q_,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="ConnectivityMonitor";class J_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){tt(X_,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){tt(X_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic=null;function kd(){return Ic===null?Ic=function(){return 268435456+Math.round(2147483648*Math.random())}():Ic++,"0x"+Ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch="RestConnection",AM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SM{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=e+"://"+t.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database===Ll?`project_id=${i}`:`project_id=${i}&database_id=${s}`}bo(t,e,i,s,r){const o=kd(),a=this.So(t,e.toUriEncodedString());tt(Ch,`Sending RPC '${t}' ${o}:`,a,i);const c={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(c,s,r),this.vo(t,a,c,i).then(l=>(tt(Ch,`Received RPC '${t}' ${o}: `,l),l),l=>{throw Vr(Ch,`RPC '${t}' ${o} failed with error: `,l,"url: ",a,"request:",i),l})}Co(t,e,i,s,r,o){return this.bo(t,e,i,s,r)}Do(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qr}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((s,r)=>t[r]=s),i&&i.headers.forEach((s,r)=>t[r]=s)}So(t,e){const i=AM[t];return`${this.po}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Le="WebChannelConnection";class CM extends SM{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,e,i,s){const r=kd();return new Promise((o,a)=>{const c=new uw;c.setWithCredentials(!0),c.listenOnce(hw.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Zc.NO_ERROR:const h=c.getResponseJson();tt(Le,`XHR for RPC '${t}' ${r} received:`,JSON.stringify(h)),o(h);break;case Zc.TIMEOUT:tt(Le,`RPC '${t}' ${r} timed out`),a(new et(z.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const d=c.getStatus();if(tt(Le,`RPC '${t}' ${r} failed with status:`,d,"response text:",c.getResponseText()),d>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const _=function(v){const I=v.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(I)>=0?I:z.UNKNOWN}(g.status);a(new et(_,g.message))}else a(new et(z.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new et(z.UNAVAILABLE,"Connection failed."));break;default:ht()}}finally{tt(Le,`RPC '${t}' ${r} completed.`)}});const l=JSON.stringify(s);tt(Le,`RPC '${t}' ${r} sending request:`,s),c.send(e,"POST",l,i,15)})}Wo(t,e,i){const s=kd(),r=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=pw(),a=fw(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,e,i),c.encodeInitMessageHeaders=!0;const h=r.join("");tt(Le,`Creating RPC '${t}' stream ${s}: ${h}`,c);const d=o.createWebChannel(h,c);let f=!1,g=!1;const _=new PM({Fo:v=>{g?tt(Le,`Not sending because RPC '${t}' stream ${s} is closed:`,v):(f||(tt(Le,`Opening RPC '${t}' stream ${s} transport.`),d.open(),f=!0),tt(Le,`RPC '${t}' stream ${s} sending:`,v),d.send(v))},Mo:()=>d.close()}),y=(v,I,A)=>{v.listen(I,k=>{try{A(k)}catch(M){setTimeout(()=>{throw M},0)}})};return y(d,Ro.EventType.OPEN,()=>{g||(tt(Le,`RPC '${t}' stream ${s} transport opened.`),_.Qo())}),y(d,Ro.EventType.CLOSE,()=>{g||(g=!0,tt(Le,`RPC '${t}' stream ${s} transport closed`),_.Ko())}),y(d,Ro.EventType.ERROR,v=>{g||(g=!0,Vr(Le,`RPC '${t}' stream ${s} transport errored:`,v),_.Ko(new et(z.UNAVAILABLE,"The operation could not be completed")))}),y(d,Ro.EventType.MESSAGE,v=>{var I;if(!g){const A=v.data[0];Ft(!!A);const k=A,M=(k==null?void 0:k.error)||((I=k[0])===null||I===void 0?void 0:I.error);if(M){tt(Le,`RPC '${t}' stream ${s} received error:`,M);const N=M.status;let B=function(E){const x=fe[E];if(x!==void 0)return qw(x)}(N),T=M.message;B===void 0&&(B=z.INTERNAL,T="Unknown error status: "+N+" with message "+M.message),g=!0,_.Ko(new et(B,T)),d.close()}else tt(Le,`RPC '${t}' stream ${s} received:`,A),_.Uo(A)}}),y(a,dw.STAT_EVENT,v=>{v.stat===bd.PROXY?tt(Le,`RPC '${t}' stream ${s} detected buffering proxy`):v.stat===bd.NOPROXY&&tt(Le,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.$o()},0),_}}function Rh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(n){return new M1(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(t,e,i=1e3,s=1.5,r=6e4){this.Ti=t,this.timerId=e,this.Go=i,this.zo=s,this.jo=r,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const e=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),s=Math.max(0,e-i);s>0&&tt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="PersistentStream";class aE{constructor(t,e,i,s,r,o,a,c){this.Ti=t,this.n_=i,this.r_=s,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new oE(t,e)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,e){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():e&&e.code===z.RESOURCE_EXHAUSTED?(Ei(e.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):e&&e.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(e)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),e=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.i_===e&&this.V_(i,s)},i=>{t(()=>{const s=new et(z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(s)})})}V_(t,e){const i=this.R_(this.i_);this.stream=this.f_(t,e),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{i(()=>this.m_(s))}),this.stream.onMessage(s=>{i(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return tt(Z_,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return e=>{this.Ti.enqueueAndForget(()=>this.i_===t?e():(tt(Z_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RM extends aE{constructor(t,e,i,s,r,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,s,o),this.serializer=r}f_(t,e){return this.connection.Wo("Listen",t,e)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const e=N1(this.serializer,t),i=function(r){if(!("targetChange"in r))return pt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?pt.min():o.readTime?qn(o.readTime):pt.min()}(t);return this.listener.p_(e,i)}y_(t){const e={};e.database=Cd(this.serializer),e.addTarget=function(r,o){let a;const c=o.target;if(a=Td(c)?{documents:B1(r,c)}:{query:U1(r,c).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Yw(r,o.resumeToken);const l=Ad(r,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(pt.min())>0){a.readTime=Hl(r,o.snapshotVersion.toTimestamp());const l=Ad(r,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,t);const i=z1(this.serializer,t);i&&(e.labels=i),this.I_(e)}w_(t){const e={};e.database=Cd(this.serializer),e.removeTarget=t,this.I_(e)}}class kM extends aE{constructor(t,e,i,s,r,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,s,o),this.serializer=r}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(t,e){return this.connection.Wo("Write",t,e)}g_(t){return Ft(!!t.streamToken),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Ft(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const e=F1(t.writeResults,t.commitTime),i=qn(t.commitTime);return this.listener.v_(i,e)}C_(){const t={};t.database=Cd(this.serializer),this.I_(t)}S_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>V1(this.serializer,i))};this.I_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{}class MM extends DM{constructor(t,e,i,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new et(z.FAILED_PRECONDITION,"The client has already been terminated.")}bo(t,e,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.bo(t,Sd(e,i),s,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new et(z.UNKNOWN,r.toString())})}Co(t,e,i,s,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(t,Sd(e,i),s,o,a,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new et(z.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class OM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ei(e),this.N_=!1):tt("OnlineStateTracker",e)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="RemoteStore";class LM{constructor(t,e,i,s,r){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=r,this.z_.To(o=>{i.enqueueAndForget(async()=>{er(this)&&(tt(Ys,"Restarting streams for network reachability change."),await async function(c){const l=gt(c);l.W_.add(4),await za(l),l.j_.set("Unknown"),l.W_.delete(4),await ku(l)}(this))})}),this.j_=new OM(i,s)}}async function ku(n){if(er(n))for(const t of n.G_)await t(!0)}async function za(n){for(const t of n.G_)await t(!1)}function cE(n,t){const e=gt(n);e.U_.has(t.targetId)||(e.U_.set(t.targetId,t),ep(e)?tp(e):Zr(e).c_()&&Zf(e,t))}function Jf(n,t){const e=gt(n),i=Zr(e);e.U_.delete(t),i.c_()&&lE(e,t),e.U_.size===0&&(i.c_()?i.P_():er(e)&&e.j_.set("Unknown"))}function Zf(n,t){if(n.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(pt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Zr(n).y_(t)}function lE(n,t){n.H_.Ne(t),Zr(n).w_(t)}function tp(n){n.H_=new C1({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>n.U_.get(t)||null,it:()=>n.datastore.serializer.databaseId}),Zr(n).start(),n.j_.B_()}function ep(n){return er(n)&&!Zr(n).u_()&&n.U_.size>0}function er(n){return gt(n).W_.size===0}function uE(n){n.H_=void 0}async function NM(n){n.j_.set("Online")}async function VM(n){n.U_.forEach((t,e)=>{Zf(n,t)})}async function FM(n,t){uE(n),ep(n)?(n.j_.q_(t),tp(n)):n.j_.set("Unknown")}async function BM(n,t,e){if(n.j_.set("Online"),t instanceof Gw&&t.state===2&&t.cause)try{await async function(s,r){const o=r.cause;for(const a of r.targetIds)s.U_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.U_.delete(a),s.H_.removeTarget(a))}(n,t)}catch(i){tt(Ys,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Wl(n,i)}else if(t instanceof il?n.H_.We(t):t instanceof Kw?n.H_.Ze(t):n.H_.je(t),!e.isEqual(pt.min()))try{const i=await rE(n.localStore);e.compareTo(i)>=0&&await function(r,o){const a=r.H_.ot(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const h=r.U_.get(l);h&&r.U_.set(l,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{const h=r.U_.get(c);if(!h)return;r.U_.set(c,h.withResumeToken(Pe.EMPTY_BYTE_STRING,h.snapshotVersion)),lE(r,c);const d=new qi(h.target,c,l,h.sequenceNumber);Zf(r,d)}),r.remoteSyncer.applyRemoteEvent(a)}(n,e)}catch(i){tt(Ys,"Failed to raise snapshot:",i),await Wl(n,i)}}async function Wl(n,t,e){if(!Jr(t))throw t;n.W_.add(1),await za(n),n.j_.set("Offline"),e||(e=()=>rE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{tt(Ys,"Retrying IndexedDB access"),await e(),n.W_.delete(1),await ku(n)})}function hE(n,t){return t().catch(e=>Wl(n,e,t))}async function Du(n){const t=gt(n),e=ls(t);let i=t.K_.length>0?t.K_[t.K_.length-1].batchId:Ff;for(;UM(t);)try{const s=await wM(t.localStore,i);if(s===null){t.K_.length===0&&e.P_();break}i=s.batchId,HM(t,s)}catch(s){await Wl(t,s)}dE(t)&&fE(t)}function UM(n){return er(n)&&n.K_.length<10}function HM(n,t){n.K_.push(t);const e=ls(n);e.c_()&&e.b_&&e.S_(t.mutations)}function dE(n){return er(n)&&!ls(n).u_()&&n.K_.length>0}function fE(n){ls(n).start()}async function zM(n){ls(n).C_()}async function WM(n){const t=ls(n);for(const e of n.K_)t.S_(e.mutations)}async function jM(n,t,e){const i=n.K_.shift(),s=$f.from(i,t,e);await hE(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Du(n)}async function $M(n,t){t&&ls(n).b_&&await async function(i,s){if(function(o){return A1(o)&&o!==z.ABORTED}(s.code)){const r=i.K_.shift();ls(i).h_(),await hE(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Du(i)}}(n,t),dE(n)&&fE(n)}async function ty(n,t){const e=gt(n);e.asyncQueue.verifyOperationInProgress(),tt(Ys,"RemoteStore received new credentials");const i=er(e);e.W_.add(3),await za(e),i&&e.j_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.W_.delete(3),await ku(e)}async function qM(n,t){const e=gt(n);t?(e.W_.delete(2),await ku(e)):t||(e.W_.add(2),await za(e),e.j_.set("Unknown"))}function Zr(n){return n.J_||(n.J_=function(e,i,s){const r=gt(e);return r.M_(),new RM(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(n.datastore,n.asyncQueue,{xo:NM.bind(null,n),No:VM.bind(null,n),Lo:FM.bind(null,n),p_:BM.bind(null,n)}),n.G_.push(async t=>{t?(n.J_.h_(),ep(n)?tp(n):n.j_.set("Unknown")):(await n.J_.stop(),uE(n))})),n.J_}function ls(n){return n.Y_||(n.Y_=function(e,i,s){const r=gt(e);return r.M_(),new kM(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:zM.bind(null,n),Lo:$M.bind(null,n),D_:WM.bind(null,n),v_:jM.bind(null,n)}),n.G_.push(async t=>{t?(n.Y_.h_(),await Du(n)):(await n.Y_.stop(),n.K_.length>0&&(tt(Ys,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(t,e,i,s,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,s,r){const o=Date.now()+i,a=new np(t,e,o,s,r);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new et(z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ip(n,t){if(Ei("AsyncQueue",`${t}: ${n}`),Jr(n))return new et(z.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{static emptySet(t){return new kr(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||rt.comparator(e.key,i.key):(e,i)=>rt.comparator(e.key,i.key),this.keyedMap=ko(),this.sortedSet=new ie(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof kr)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new kr;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(){this.Z_=new ie(rt.comparator)}track(t){const e=t.doc.key,i=this.Z_.get(e);i?t.type!==0&&i.type===3?this.Z_=this.Z_.insert(e,t):t.type===3&&i.type!==1?this.Z_=this.Z_.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Z_=this.Z_.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Z_=this.Z_.remove(e):t.type===1&&i.type===2?this.Z_=this.Z_.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):ht():this.Z_=this.Z_.insert(e,t)}X_(){const t=[];return this.Z_.inorderTraversal((e,i)=>{t.push(i)}),t}}class zr{constructor(t,e,i,s,r,o,a,c,l){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(t,e,i,s,r){const o=[];return e.forEach(a=>{o.push({type:0,doc:a})}),new zr(t,e,kr.emptySet(e),o,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&xu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==i[s].type||!e[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class GM{constructor(){this.queries=ny(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(e,i){const s=gt(e),r=s.queries;s.queries=ny(),r.forEach((o,a)=>{for(const c of a.ta)c.onError(i)})})(this,new et(z.ABORTED,"Firestore shutting down"))}}function ny(){return new tr(n=>Ow(n),xu)}async function pE(n,t){const e=gt(n);let i=3;const s=t.query;let r=e.queries.get(s);r?!r.na()&&t.ra()&&(i=2):(r=new KM,i=t.ra()?0:1);try{switch(i){case 0:r.ea=await e.onListen(s,!0);break;case 1:r.ea=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(o){const a=ip(o,`Initialization of query '${_r(t.query)}' failed`);return void t.onError(a)}e.queries.set(s,r),r.ta.push(t),t.sa(e.onlineState),r.ea&&t.oa(r.ea)&&sp(e)}async function gE(n,t){const e=gt(n),i=t.query;let s=3;const r=e.queries.get(i);if(r){const o=r.ta.indexOf(t);o>=0&&(r.ta.splice(o,1),r.ta.length===0?s=t.ra()?0:1:!r.na()&&t.ra()&&(s=2))}switch(s){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function YM(n,t){const e=gt(n);let i=!1;for(const s of t){const r=s.query,o=e.queries.get(r);if(o){for(const a of o.ta)a.oa(s)&&(i=!0);o.ea=s}}i&&sp(e)}function QM(n,t,e){const i=gt(n),s=i.queries.get(t);if(s)for(const r of s.ta)r.onError(e);i.queries.delete(t)}function sp(n){n.ia.forEach(t=>{t.next()})}var Dd,iy;(iy=Dd||(Dd={}))._a="default",iy.Cache="cache";class mE{constructor(t,e,i){this.query=t,this.aa=e,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new zr(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ua?this.la(t)&&(this.aa.next(t),e=!0):this.ha(t,this.onlineState)&&(this.Pa(t),e=!0),this.ca=t,e}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let e=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),e=!0),e}ha(t,e){if(!t.fromCache||!this.ra())return!0;const i=e!=="Offline";return(!this.options.Ta||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}la(t){if(t.docChanges.length>0)return!0;const e=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Pa(t){t=zr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Dd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(t){this.key=t}}class yE{constructor(t){this.key=t}}class XM{constructor(t,e){this.query=t,this.fa=e,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=xt(),this.mutatedKeys=xt(),this.ya=Lw(t),this.wa=new kr(this.ya)}get ba(){return this.fa}Sa(t,e){const i=e?e.Da:new ey,s=e?e.wa:this.wa;let r=e?e.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,l=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((h,d)=>{const f=s.get(h),g=Iu(this.query,d)?d:null,_=!!f&&this.mutatedKeys.has(f.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let v=!1;f&&g?f.data.isEqual(g.data)?_!==y&&(i.track({type:3,doc:g}),v=!0):this.va(f,g)||(i.track({type:2,doc:g}),v=!0,(c&&this.ya(g,c)>0||l&&this.ya(g,l)<0)&&(a=!0)):!f&&g?(i.track({type:0,doc:g}),v=!0):f&&!g&&(i.track({type:1,doc:f}),v=!0,(c||l)&&(a=!0)),v&&(g?(o=o.add(g),r=y?r.add(h):r.delete(h)):(o=o.delete(h),r=r.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),r=r.delete(h.key),i.track({type:1,doc:h})}return{wa:o,Da:i,ls:a,mutatedKeys:r}}va(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,s){const r=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const o=t.Da.X_();o.sort((h,d)=>function(g,_){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht()}};return y(g)-y(_)}(h.type,d.type)||this.ya(h.doc,d.doc)),this.Ca(i),s=s!=null&&s;const a=e&&!s?this.Fa():[],c=this.pa.size===0&&this.current&&!s?1:0,l=c!==this.ga;return this.ga=c,o.length!==0||l?{snapshot:new zr(this.query,t.wa,r,o,t.mutatedKeys,c===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new ey,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(e=>this.fa=this.fa.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.fa=this.fa.delete(e)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=xt(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const e=[];return t.forEach(i=>{this.pa.has(i)||e.push(new yE(i))}),this.pa.forEach(i=>{t.has(i)||e.push(new _E(i))}),e}Oa(t){this.fa=t.gs,this.pa=xt();const e=this.Sa(t.documents);return this.applyChanges(e,!0)}Na(){return zr.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const rp="SyncEngine";class JM{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class ZM{constructor(t){this.key=t,this.Ba=!1}}class tO{constructor(t,e,i,s,r,o){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new tr(a=>Ow(a),xu),this.qa=new Map,this.Qa=new Set,this.$a=new ie(rt.comparator),this.Ka=new Map,this.Ua=new Gf,this.Wa={},this.Ga=new Map,this.za=Hr.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function eO(n,t,e=!0){const i=xE(n);let s;const r=i.ka.get(t);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.Na()):s=await bE(i,t,e,!0),s}async function nO(n,t){const e=xE(n);await bE(e,t,!0,!1)}async function bE(n,t,e,i){const s=await EM(n.localStore,$n(t)),r=s.targetId,o=n.sharedClientState.addLocalQueryTarget(r,e);let a;return i&&(a=await iO(n,t,r,o==="current",s.resumeToken)),n.isPrimaryClient&&e&&cE(n.remoteStore,s),a}async function iO(n,t,e,i,s){n.Ha=(d,f,g)=>async function(y,v,I,A){let k=v.view.Sa(I);k.ls&&(k=await Y_(y.localStore,v.query,!1).then(({documents:T})=>v.view.Sa(T,k)));const M=A&&A.targetChanges.get(v.targetId),N=A&&A.targetMismatches.get(v.targetId)!=null,B=v.view.applyChanges(k,y.isPrimaryClient,M,N);return ry(y,v.targetId,B.Ma),B.snapshot}(n,d,f,g);const r=await Y_(n.localStore,t,!0),o=new XM(t,r.gs),a=o.Sa(r.documents),c=Ha.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",s),l=o.applyChanges(a,n.isPrimaryClient,c);ry(n,e,l.Ma);const h=new JM(t,e,o);return n.ka.set(t,h),n.qa.has(e)?n.qa.get(e).push(t):n.qa.set(e,[t]),l.snapshot}async function sO(n,t,e){const i=gt(n),s=i.ka.get(t),r=i.qa.get(s.targetId);if(r.length>1)return i.qa.set(s.targetId,r.filter(o=>!xu(o,t))),void i.ka.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Rd(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),e&&Jf(i.remoteStore,s.targetId),Md(i,s.targetId)}).catch(Xr)):(Md(i,s.targetId),await Rd(i.localStore,s.targetId,!0))}async function rO(n,t){const e=gt(n),i=e.ka.get(t),s=e.qa.get(i.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),Jf(e.remoteStore,i.targetId))}async function oO(n,t,e){const i=fO(n);try{const s=await function(o,a){const c=gt(o),l=_e.now(),h=a.reduce((g,_)=>g.add(_.key),xt());let d,f;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=Ti(),y=xt();return c.ds.getEntries(g,h).next(v=>{_=v,_.forEach((I,A)=>{A.isValidDocument()||(y=y.add(I))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,_)).next(v=>{d=v;const I=[];for(const A of a){const k=w1(A,d.get(A.key).overlayedDocument);k!=null&&I.push(new ms(A.key,k,Aw(k.value.mapValue),Xe.exists(!0)))}return c.mutationQueue.addMutationBatch(g,l,I,a)}).next(v=>{f=v;const I=v.applyToLocalDocumentSet(d,y);return c.documentOverlayCache.saveOverlays(g,v.batchId,I)})}).then(()=>({batchId:f.batchId,changes:Vw(d)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let l=o.Wa[o.currentUser.toKey()];l||(l=new ie(At)),l=l.insert(a,c),o.Wa[o.currentUser.toKey()]=l}(i,s.batchId,e),await Wa(i,s.changes),await Du(i.remoteStore)}catch(s){const r=ip(s,"Failed to persist write");e.reject(r)}}async function vE(n,t){const e=gt(n);try{const i=await bM(e.localStore,t);t.targetChanges.forEach((s,r)=>{const o=e.Ka.get(r);o&&(Ft(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ba=!0:s.modifiedDocuments.size>0?Ft(o.Ba):s.removedDocuments.size>0&&(Ft(o.Ba),o.Ba=!1))}),await Wa(e,i,t)}catch(i){await Xr(i)}}function sy(n,t,e){const i=gt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const s=[];i.ka.forEach((r,o)=>{const a=o.view.sa(t);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=gt(o);c.onlineState=a;let l=!1;c.queries.forEach((h,d)=>{for(const f of d.ta)f.sa(a)&&(l=!0)}),l&&sp(c)}(i.eventManager,t),s.length&&i.La.p_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function aO(n,t,e){const i=gt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const s=i.Ka.get(t),r=s&&s.key;if(r){let o=new ie(rt.comparator);o=o.insert(r,Ue.newNoDocument(r,pt.min()));const a=xt().add(r),c=new Cu(pt.min(),new Map,new ie(At),o,a);await vE(i,c),i.$a=i.$a.remove(r),i.Ka.delete(t),op(i)}else await Rd(i.localStore,t,!1).then(()=>Md(i,t,e)).catch(Xr)}async function cO(n,t){const e=gt(n),i=t.batch.batchId;try{const s=await yM(e.localStore,t);EE(e,i,null),wE(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Wa(e,s)}catch(s){await Xr(s)}}async function lO(n,t,e){const i=gt(n);try{const s=await function(o,a){const c=gt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return c.mutationQueue.lookupMutationBatch(l,a).next(d=>(Ft(d!==null),h=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>c.localDocuments.getDocuments(l,h))})}(i.localStore,t);EE(i,t,e),wE(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Wa(i,s)}catch(s){await Xr(s)}}function wE(n,t){(n.Ga.get(t)||[]).forEach(e=>{e.resolve()}),n.Ga.delete(t)}function EE(n,t,e){const i=gt(n);let s=i.Wa[i.currentUser.toKey()];if(s){const r=s.get(t);r&&(e?r.reject(e):r.resolve(),s=s.remove(t)),i.Wa[i.currentUser.toKey()]=s}}function Md(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.qa.get(t))n.ka.delete(i),e&&n.La.Ja(i,e);n.qa.delete(t),n.isPrimaryClient&&n.Ua.Sr(t).forEach(i=>{n.Ua.containsKey(i)||TE(n,i)})}function TE(n,t){n.Qa.delete(t.path.canonicalString());const e=n.$a.get(t);e!==null&&(Jf(n.remoteStore,e),n.$a=n.$a.remove(t),n.Ka.delete(e),op(n))}function ry(n,t,e){for(const i of e)i instanceof _E?(n.Ua.addReference(i.key,t),uO(n,i)):i instanceof yE?(tt(rp,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,t),n.Ua.containsKey(i.key)||TE(n,i.key)):ht()}function uO(n,t){const e=t.key,i=e.path.canonicalString();n.$a.get(e)||n.Qa.has(i)||(tt(rp,"New document in limbo: "+e),n.Qa.add(i),op(n))}function op(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const t=n.Qa.values().next().value;n.Qa.delete(t);const e=new rt(Yt.fromString(t)),i=n.za.next();n.Ka.set(i,new ZM(e)),n.$a=n.$a.insert(e,i),cE(n.remoteStore,new qi($n(Wf(e.path)),i,"TargetPurposeLimboResolution",wu.ae))}}async function Wa(n,t,e){const i=gt(n),s=[],r=[],o=[];i.ka.isEmpty()||(i.ka.forEach((a,c)=>{o.push(i.Ha(c,t,e).then(l=>{var h;if((l||e)&&i.isPrimaryClient){const d=l?!l.fromCache:(h=e==null?void 0:e.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;i.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(l){s.push(l);const d=Qf.Yi(c.targetId,l);r.push(d)}}))}),await Promise.all(o),i.La.p_(s),await async function(c,l){const h=gt(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>j.forEach(l,f=>j.forEach(f.Hi,g=>h.persistence.referenceDelegate.addReference(d,f.targetId,g)).next(()=>j.forEach(f.Ji,g=>h.persistence.referenceDelegate.removeReference(d,f.targetId,g)))))}catch(d){if(!Jr(d))throw d;tt(Xf,"Failed to update sequence numbers: "+d)}for(const d of l){const f=d.targetId;if(!d.fromCache){const g=h.Ts.get(f),_=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(_);h.Ts=h.Ts.insert(f,y)}}}(i.localStore,r))}async function hO(n,t){const e=gt(n);if(!e.currentUser.isEqual(t)){tt(rp,"User change. New user:",t.toKey());const i=await sE(e.localStore,t);e.currentUser=t,function(r,o){r.Ga.forEach(a=>{a.forEach(c=>{c.reject(new et(z.CANCELLED,o))})}),r.Ga.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Wa(e,i.Rs)}}function dO(n,t){const e=gt(n),i=e.Ka.get(t);if(i&&i.Ba)return xt().add(i.key);{let s=xt();const r=e.qa.get(t);if(!r)return s;for(const o of r){const a=e.ka.get(o);s=s.unionWith(a.view.ba)}return s}}function xE(n){const t=gt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=vE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aO.bind(null,t),t.La.p_=YM.bind(null,t.eventManager),t.La.Ja=QM.bind(null,t.eventManager),t}function fO(n){const t=gt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lO.bind(null,t),t}class jl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ru(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,e){return null}nu(t,e){return null}eu(t){return _M(this.persistence,new pM,t.initialUser,this.serializer)}Xa(t){return new iE(Yf.ri,this.serializer)}Za(t){return new xM}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jl.provider={build:()=>new jl};class pO extends jl{constructor(t){super(),this.cacheSizeBytes=t}tu(t,e){Ft(this.persistence.referenceDelegate instanceof zl);const i=this.persistence.referenceDelegate.garbageCollector;return new Z1(i,t.asyncQueue,e)}Xa(t){const e=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new iE(i=>zl.ri(i,e),this.serializer)}}class Od{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>sy(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=hO.bind(null,this.syncEngine),await qM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new GM}()}createDatastore(t){const e=Ru(t.databaseInfo.databaseId),i=function(r){return new CM(r)}(t.databaseInfo);return function(r,o,a,c){return new MM(r,o,a,c)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,s,r,o,a){return new LM(i,s,r,o,a)}(this.localStore,this.datastore,t.asyncQueue,e=>sy(this.syncEngine,e,0),function(){return J_.D()?new J_:new IM}())}createSyncEngine(t,e){return function(s,r,o,a,c,l,h){const d=new tO(s,r,o,a,c,l);return h&&(d.ja=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(s){const r=gt(s);tt(Ys,"RemoteStore shutting down."),r.W_.add(5),await za(r),r.z_.shutdown(),r.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}Od.provider={build:()=>new Od};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Ei("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="FirestoreClient";class gO{constructor(t,e,i,s,r){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=s,this.user=Ve.UNAUTHENTICATED,this.clientId=mw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async o=>{tt(us,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(tt(us,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=ip(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function kh(n,t){n.asyncQueue.verifyOperationInProgress(),tt(us,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await sE(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function oy(n,t){n.asyncQueue.verifyOperationInProgress();const e=await mO(n);tt(us,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>ty(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>ty(t.remoteStore,s)),n._onlineComponents=t}async function mO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){tt(us,"Using user provided OfflineComponentProvider");try{await kh(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(e))throw e;Vr("Error using user provided cache. Falling back to memory cache: "+e),await kh(n,new jl)}}else tt(us,"Using default OfflineComponentProvider"),await kh(n,new pO(void 0));return n._offlineComponents}async function AE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(tt(us,"Using user provided OnlineComponentProvider"),await oy(n,n._uninitializedComponentsProvider._online)):(tt(us,"Using default OnlineComponentProvider"),await oy(n,new Od))),n._onlineComponents}function _O(n){return AE(n).then(t=>t.syncEngine)}async function SE(n){const t=await AE(n),e=t.eventManager;return e.onListen=eO.bind(null,t.syncEngine),e.onUnlisten=sO.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=nO.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=rO.bind(null,t.syncEngine),e}function yO(n,t,e={}){const i=new bi;return n.asyncQueue.enqueueAndForget(async()=>function(r,o,a,c,l){const h=new IE({next:f=>{h.su(),o.enqueueAndForget(()=>gE(r,d));const g=f.docs.has(a);!g&&f.fromCache?l.reject(new et(z.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&c&&c.source==="server"?l.reject(new et(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),d=new mE(Wf(a.path),h,{includeMetadataChanges:!0,Ta:!0});return pE(r,d)}(await SE(n),n.asyncQueue,t,e,i)),i.promise}function bO(n,t,e={}){const i=new bi;return n.asyncQueue.enqueueAndForget(async()=>function(r,o,a,c,l){const h=new IE({next:f=>{h.su(),o.enqueueAndForget(()=>gE(r,d)),f.fromCache&&c.source==="server"?l.reject(new et(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),d=new mE(a,h,{includeMetadataChanges:!0,Ta:!0});return pE(r,d)}(await SE(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(n,t,e){if(!e)throw new et(z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function vO(n,t,e,i){if(t===!0&&i===!0)throw new et(z.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function cy(n){if(!rt.isDocumentKey(n))throw new et(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ly(n){if(rt.isDocumentKey(n))throw new et(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Mu(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":ht()}function vn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new et(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Mu(n);throw new et(z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="firestore.googleapis.com",uy=!0;class hy{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new et(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RE,this.ssl=uy}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:uy;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=nE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<X1)throw new et(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}vO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PE((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new et(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new et(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new et(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ou{constructor(t,e,i,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new et(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new et(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hy(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new PD;switch(i.type){case"firstParty":return new DD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new et(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=ay.get(e);i&&(tt("ComponentProvider","Removing Datastore"),ay.delete(e),i.terminate())}(this),Promise.resolve()}}function wO(n,t,e,i={}){var s;const r=(n=vn(n,Ou))._getSettings(),o=Object.assign(Object.assign({},r),{emulatorOptions:n._getEmulatorOptions()}),a=`${t}:${e}`;r.host!==RE&&r.host!==a&&Vr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},r),{host:a,ssl:!1,emulatorOptions:i});if(!Ws(c,o)&&(n._setSettings(c),i.mockUserToken)){let l,h;if(typeof i.mockUserToken=="string")l=i.mockUserToken,h=Ve.MOCK_USER;else{l=kS(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new et(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ve(d)}n._authCredentials=new CD(new gw(l,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new to(this.firestore,t,this._query)}}class Je{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Je(this.firestore,t,this._key)}}class ns extends to{constructor(t,e,i){super(t,e,Wf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Je(this.firestore,null,new rt(t))}withConverter(t){return new ns(this.firestore,t,this._path)}}function zH(n,t,...e){if(n=ne(n),CE("collection","path",t),n instanceof Ou){const i=Yt.fromString(t,...e);return ly(i),new ns(n,null,i)}{if(!(n instanceof Je||n instanceof ns))throw new et(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Yt.fromString(t,...e));return ly(i),new ns(n.firestore,null,i)}}function kE(n,t,...e){if(n=ne(n),arguments.length===1&&(t=mw.newId()),CE("doc","path",t),n instanceof Ou){const i=Yt.fromString(t,...e);return cy(i),new Je(n,null,new rt(i))}{if(!(n instanceof Je||n instanceof ns))throw new et(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Yt.fromString(t,...e));return cy(i),new Je(n.firestore,n instanceof ns?n.converter:null,new rt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="AsyncQueue";class fy{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new oE(this,"async_queue_retry"),this.bu=()=>{const i=Rh();i&&tt(dy,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.Su=t;const e=Rh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const e=Rh();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.bu)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const e=new bi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Jr(t))throw t;tt(dy,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const e=this.Su.then(()=>(this.pu=!0,t().catch(i=>{this.gu=i,this.pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Ei("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.pu=!1,i))));return this.Su=e,e}enqueueAfterDelay(t,e,i){this.Du(),this.wu.indexOf(t)>-1&&(e=0);const s=np.createAndSchedule(this,t,e,i,r=>this.Fu(r));return this.fu.push(s),s}Du(){this.gu&&ht()}verifyOperationInProgress(){}async Mu(){let t;do t=this.Su,await t;while(t!==this.Su)}xu(t){for(const e of this.fu)if(e.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.fu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const e=this.fu.indexOf(t);this.fu.splice(e,1)}}class _s extends Ou{constructor(t,e,i,s){super(t,e,i,s),this.type="firestore",this._queue=new fy,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new fy(t),this._firestoreClient=void 0,await t}}}function DE(n,t){const e=h0(),i=Ll,s=If(e,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=CS("firestore");r&&wO(s,...r)}return s}function Lu(n){if(n._terminated)throw new et(z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||EO(n),n._firestoreClient}function EO(n){var t,e,i;const s=n._freezeSettings(),r=function(a,c,l,h){return new qD(a,c,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,PE(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((e=s.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new gO(n._authCredentials,n._appCheckCredentials,n._queue,r,n._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Wr(Pe.fromBase64String(t))}catch(e){throw new et(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Wr(Pe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new et(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Se(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new et(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new et(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return At(this._lat,t._lat)||At(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=/^__.*__$/;class xO{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new ms(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ua(t,this.data,e,this.fieldTransforms)}}class ME{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new ms(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function OE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht()}}class up{constructor(t,e,i,s,r,o){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Bu(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new up(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.ku({path:i,Qu:!1});return s.$u(t),s}Ku(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.ku({path:i,Qu:!1});return s.Bu(),s}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return $l(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(OE(this.Lu)&&TO.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class IO{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Ru(t)}ju(t,e,i,s=!1){return new up({Lu:t,methodName:e,zu:i,path:Se.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $a(n){const t=n._freezeSettings(),e=Ru(n._databaseId);return new IO(n._databaseId,!!t.ignoreUndefinedProperties,e)}function hp(n,t,e,i,s,r={}){const o=n.ju(r.merge||r.mergeFields?2:0,t,e,s);dp("Data must be an object, but it was:",o,i);const a=VE(i,o);let c,l;if(r.merge)c=new fn(o.fieldMask),l=o.fieldTransforms;else if(r.mergeFields){const h=[];for(const d of r.mergeFields){const f=Ld(t,d,e);if(!o.contains(f))throw new et(z.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);BE(h,f)||h.push(f)}c=new fn(h),l=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=o.fieldTransforms;return new xO(new en(a),c,l)}class Nu extends ap{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Nu}}function LE(n,t,e,i){const s=n.ju(1,t,e);dp("Data must be an object, but it was:",s,i);const r=[],o=en.empty();gs(i,(c,l)=>{const h=fp(t,c,e);l=ne(l);const d=s.Ku(h);if(l instanceof Nu)r.push(h);else{const f=qa(l,d);f!=null&&(r.push(h),o.set(h,f))}});const a=new fn(r);return new ME(o,a,s.fieldTransforms)}function NE(n,t,e,i,s,r){const o=n.ju(1,t,e),a=[Ld(t,i,e)],c=[s];if(r.length%2!=0)throw new et(z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<r.length;f+=2)a.push(Ld(t,r[f])),c.push(r[f+1]);const l=[],h=en.empty();for(let f=a.length-1;f>=0;--f)if(!BE(l,a[f])){const g=a[f];let _=c[f];_=ne(_);const y=o.Ku(g);if(_ instanceof Nu)l.push(g);else{const v=qa(_,y);v!=null&&(l.push(g),h.set(g,v))}}const d=new fn(l);return new ME(h,d,o.fieldTransforms)}function AO(n,t,e,i=!1){return qa(e,n.ju(i?4:3,t))}function qa(n,t){if(FE(n=ne(n)))return dp("Unsupported field value:",t,n),VE(n,t);if(n instanceof ap)return function(i,s){if(!OE(s.Lu))throw s.Wu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(i,s){const r=[];let o=0;for(const a of i){let c=qa(a,s.Uu(o));c==null&&(c={nullValue:"NULL_VALUE"}),r.push(c),o++}return{arrayValue:{values:r}}}(n,t)}return function(i,s){if((i=ne(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return g1(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=_e.fromDate(i);return{timestampValue:Hl(s.serializer,r)}}if(i instanceof _e){const r=new _e(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Hl(s.serializer,r)}}if(i instanceof cp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Wr)return{bytesValue:Yw(s.serializer,i._byteString)};if(i instanceof Je){const r=s.databaseId,o=i.firestore._databaseId;if(!o.isEqual(r))throw s.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Kf(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof lp)return function(o,a){return{mapValue:{fields:{[xw]:{stringValue:Iw},[Nl]:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Wu("VectorValues must only contain numeric values.");return jf(a.serializer,l)})}}}}}}(i,s);throw s.Wu(`Unsupported field value: ${Mu(i)}`)}(n,t)}function VE(n,t){const e={};return yw(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):gs(n,(i,s)=>{const r=qa(s,t.qu(i));r!=null&&(e[i]=r)}),{mapValue:{fields:e}}}function FE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _e||n instanceof cp||n instanceof Wr||n instanceof Je||n instanceof ap||n instanceof lp)}function dp(n,t,e){if(!FE(e)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(e)){const i=Mu(e);throw i==="an object"?t.Wu(n+" a custom object"):t.Wu(n+" "+i)}}function Ld(n,t,e){if((t=ne(t))instanceof ja)return t._internalPath;if(typeof t=="string")return fp(n,t);throw $l("Field path arguments must be of type string or ",n,!1,void 0,e)}const SO=new RegExp("[~\\*/\\[\\]]");function fp(n,t,e){if(t.search(SO)>=0)throw $l(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new ja(...t.split("."))._internalPath}catch{throw $l(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function $l(n,t,e,i,s){const r=i&&!i.isEmpty(),o=s!==void 0;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(r||o)&&(c+=" (found",r&&(c+=` in field ${i}`),o&&(c+=` in document ${s}`),c+=")"),new et(z.INVALID_ARGUMENT,a+n+c)}function BE(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(t,e,i,s,r){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new PO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(pp("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class PO extends UE{data(){return super.data()}}function pp(n,t){return typeof t=="string"?fp(n,t):t instanceof ja?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new et(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gp{}class RO extends gp{}function WH(n,t,...e){let i=[];t instanceof gp&&i.push(t),i=i.concat(e),function(r){const o=r.filter(c=>c instanceof mp).length,a=r.filter(c=>c instanceof Vu).length;if(o>1||o>0&&a>0)throw new et(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class Vu extends RO{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Vu(t,e,i)}_apply(t){const e=this._parse(t);return HE(t._query,e),new to(t.firestore,t.converter,xd(t._query,e))}_parse(t){const e=$a(t.firestore);return function(r,o,a,c,l,h,d){let f;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new et(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){gy(d,h);const _=[];for(const y of d)_.push(py(c,r,y));f={arrayValue:{values:_}}}else f=py(c,r,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||gy(d,h),f=AO(a,o,d,h==="in"||h==="not-in");return pe.create(l,h,f)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function jH(n,t,e){const i=t,s=pp("where",n);return Vu._create(s,i,e)}class mp extends gp{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new mp(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:Rn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(s,r){let o=s;const a=r.getFlattenedFilters();for(const c of a)HE(o,c),o=xd(o,c)}(t._query,e),new to(t.firestore,t.converter,xd(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function py(n,t,e){if(typeof(e=ne(e))=="string"){if(e==="")throw new et(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mw(t)&&e.indexOf("/")!==-1)throw new et(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Yt.fromString(e));if(!rt.isDocumentKey(i))throw new et(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return R_(n,new rt(i))}if(e instanceof Je)return R_(n,e._key);throw new et(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mu(e)}.`)}function gy(n,t){if(!Array.isArray(n)||n.length===0)throw new et(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function HE(n,t){const e=function(s,r){for(const o of s)for(const a of o.getFlattenedFilters())if(r.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new et(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new et(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class kO{convertValue(t,e="none"){switch(cs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return le(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(as(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw ht()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return gs(t,(s,r)=>{i[s]=this.convertValue(r,e)}),i}convertVectorValue(t){var e,i,s;const r=(s=(i=(e=t.fields)===null||e===void 0?void 0:e[Nl].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(o=>le(o.doubleValue));return new lp(r)}convertGeoPoint(t){return new cp(le(t.latitude),le(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Tu(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(ma(t));default:return null}}convertTimestamp(t){const e=os(t);return new _e(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Yt.fromString(t);Ft(eE(i));const s=new _a(i.get(1),i.get(3)),r=new rt(i.popFirst(5));return s.isEqual(e)||Ei(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class zE extends UE{constructor(t,e,i,s,r,o){super(t,e,i,s,o),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new sl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(pp("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class sl extends zE{data(t={}){return super.data(t)}}class DO{constructor(t,e,i,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new Mo(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new sl(this._firestore,this._userDataWriter,i.key,i,new Mo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new et(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new sl(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Mo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>r||a.type!==3).map(a=>{const c=new sl(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Mo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:MO(a.type),doc:c,oldIndex:l,newIndex:h}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function MO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(n){n=vn(n,Je);const t=vn(n.firestore,_s);return yO(Lu(t),n._key).then(e=>LO(t,n,e))}class WE extends kO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wr(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Je(this.firestore,null,e)}}function $H(n){n=vn(n,to);const t=vn(n.firestore,_s),e=Lu(t),i=new WE(t);return CO(n._query),bO(e,n._query).then(s=>new DO(t,i,n,s))}function qH(n,t,e){n=vn(n,Je);const i=vn(n.firestore,_s),s=_p(n.converter,t,e);return Ka(i,[hp($a(i),"setDoc",n._key,s,n.converter!==null,e).toMutation(n._key,Xe.none())])}function KH(n,t,e,...i){n=vn(n,Je);const s=vn(n.firestore,_s),r=$a(s);let o;return o=typeof(t=ne(t))=="string"||t instanceof ja?NE(r,"updateDoc",n._key,t,e,i):LE(r,"updateDoc",n._key,t),Ka(s,[o.toMutation(n._key,Xe.exists(!0))])}function GH(n){return Ka(vn(n.firestore,_s),[new Pu(n._key,Xe.none())])}function YH(n,t){const e=vn(n.firestore,_s),i=kE(n),s=_p(n.converter,t);return Ka(e,[hp($a(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,Xe.exists(!1))]).then(()=>i)}function Ka(n,t){return function(i,s){const r=new bi;return i.asyncQueue.enqueueAndForget(async()=>oO(await _O(i),s,r)),r.promise}(Lu(n),t)}function LO(n,t,e){const i=e.docs.get(t._key),s=new WE(n);return new zE(n,s,t._key,i,new Mo(e.hasPendingWrites,e.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=$a(t)}set(t,e,i){this._verifyNotCommitted();const s=Dh(t,this._firestore),r=_p(s.converter,e,i),o=hp(this._dataReader,"WriteBatch.set",s._key,r,s.converter!==null,i);return this._mutations.push(o.toMutation(s._key,Xe.none())),this}update(t,e,i,...s){this._verifyNotCommitted();const r=Dh(t,this._firestore);let o;return o=typeof(e=ne(e))=="string"||e instanceof ja?NE(this._dataReader,"WriteBatch.update",r._key,e,i,s):LE(this._dataReader,"WriteBatch.update",r._key,e),this._mutations.push(o.toMutation(r._key,Xe.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Dh(t,this._firestore);return this._mutations=this._mutations.concat(new Pu(e._key,Xe.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new et(z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Dh(n,t){if((n=ne(n)).firestore!==t)throw new et(z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QH(n){return Lu(n=vn(n,_s)),new NO(n,t=>Ka(n,t))}(function(t,e=!0){(function(s){Qr=s})(Gr),Or(new js("firestore",(i,{instanceIdentifier:s,options:r})=>{const o=i.getProvider("app").getImmediate(),a=new _s(new RD(i.getProvider("auth-internal")),new MD(o,i.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new et(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _a(l.options.projectId,h)}(o,s),o);return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),ts(b_,v_,t),ts(b_,v_,"esm2017")})();const VO=[{path:"/",component:()=>on(()=>import("./LoginPage-DGAsD7zv.js"),__vite__mapDeps([0,1,2]))},{path:"/register",component:()=>on(()=>import("./RegisterPage-CjWFoqBy.js"),__vite__mapDeps([3,4]))},{path:"/faregister",component:()=>on(()=>import("./FARegisterPage-BDj5li-F.js"),__vite__mapDeps([5,6]))},{path:"/home",component:()=>on(()=>import("./HomePage-Cf4B4sXZ.js"),__vite__mapDeps([7,8,9,10])),meta:{requiresAuth:!0}},{path:"/uploads",component:()=>on(()=>import("./UploadsPage-D03p0vqV.js"),__vite__mapDeps([11,8,9,12])),meta:{requiresAuth:!0,role:"User"}},{path:"/expenses",component:()=>on(()=>import("./ExpensePage-HH58AH-w.js"),__vite__mapDeps([13,1,8,9,14])),meta:{requiresAuth:!0,role:"User"}},{path:"/goals",component:()=>on(()=>import("./GoalsPage-Bele2qi1.js"),__vite__mapDeps([15,8,9,16])),meta:{requiresAuth:!0,role:"User"}},{path:"/settings",component:()=>on(()=>import("./SettingsPage-DtKu9puf.js"),__vite__mapDeps([17,8,9,18])),meta:{requiresAuth:!0}},{path:"/profile",component:()=>on(()=>import("./ProfilePage-_NxzRYNF.js"),__vite__mapDeps([19,8,9,20])),meta:{requiresAuth:!0}},{path:"/find-fa",component:()=>on(()=>import("./FindFA-CMTSeRcF.js"),__vite__mapDeps([21,8,9,22])),meta:{requiresAuth:!0,role:"User"}},{path:"/find-client",component:()=>on(()=>import("./FindClient-CkF2rQmf.js"),__vite__mapDeps([23,8,9,24])),meta:{requiresAuth:!0,role:"FA"}},{path:"/give-advice",component:()=>on(()=>import("./GiveAdvice-V8NqHKOQ.js"),__vite__mapDeps([25,8,9,26])),meta:{requiresAuth:!0,role:"FA"}},{path:"/fa-info",component:()=>on(()=>import("./FAInfo-DrP-priv.js"),__vite__mapDeps([27,8,9,28])),meta:{requiresAuth:!0,role:"User"}}],jE=yD({history:Kk(),routes:VO}),FO=async n=>{if(!n)return null;const t=DE(),e=await OO(kE(t,"users",n.uid));return e.exists()?e.data().role:null};jE.beforeEach(async(n,t,e)=>{const i=await new Promise(r=>{B0(Q0(),r)});if(n.matched.some(r=>r.meta.requiresAuth)&&!i)return alert("You must be logged in to see this page"),e("/");const s=await FO(i);if(n.matched.some(r=>r.meta.role)&&n.meta.role!==s)return alert("Access denied"),e("/home");e()});/*!
 * Chartkick.js v5.0.1
 * Create beautiful charts with one line of JavaScript
 * https://github.com/ankane/chartkick.js
 * MIT License
 */function is(n){return Object.prototype.toString.call(n)==="[object Array]"}function yp(n){return n instanceof Function}function rl(n){return Object.prototype.toString.call(n)==="[object Object]"&&!yp(n)&&n instanceof Object}function Nd(n,t){for(var e in t)e!=="__proto__"&&(rl(t[e])||is(t[e])?(rl(t[e])&&!rl(n[e])&&(n[e]={}),is(t[e])&&!is(n[e])&&(n[e]=[]),Nd(n[e],t[e])):t[e]!==void 0&&(n[e]=t[e]))}function ee(n,t){var e={};return Nd(e,n),Nd(e,t),e}var BO=/^(\d\d\d\d)(?:-)?(\d\d)(?:-)?(\d\d)$/i;function UO(n){for(var t=0;t<n.length;t++)for(var e=n[t].data,i=0;i<e.length;i++)if(e[i][1]<0)return!0;return!1}function xi(n){return""+n}function Kn(n){return parseFloat(n)}function Bn(n){if(n instanceof Date)return n;if(typeof n=="number")return new Date(n*1e3);var t=xi(n),e=t.match(BO);if(e){var i=parseInt(e[1],10),s=parseInt(e[2],10)-1,r=parseInt(e[3],10);return new Date(i,s,r)}else{var o=t.replace(/ /,"T").replace(" ","").replace("UTC","Z");return new Date(Date.parse(o)||t)}}function bp(n){if(is(n))return n;var t=[];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&t.push([e,n[e]]);return t}function Ga(n,t,e,i,s,r,o,a){return function(c,l,h){var d=c.data,f=ee({},n);return f=ee(f,h||{}),(c.singleSeriesFormat||"legend"in l)&&t(f,l.legend,c.singleSeriesFormat),l.title&&e(f,l.title),"min"in l?i(f,l.min):UO(d)||i(f,0),l.max&&s(f,l.max),"stacked"in l&&r(f,l.stacked),l.colors&&(f.colors=l.colors),l.xtitle&&o(f,l.xtitle),l.ytitle&&a(f,l.ytitle),f=ee(f,l.library||{}),f}}function HO(n,t){return n[0].getTime()-t[0].getTime()}function vp(n,t){return n[0]-t[0]}function $E(n,t){return n-t}function ur(n,t){for(var e=0;e<n.length;e++)if(!t(n[e]))return!1;return!0}function zO(n){return n==="day"||n==="week"||n==="month"||n==="year"}function qE(n,t){if(t===void 0&&(t=!1),n.length===0)return null;var e=ur(n,function(l){return l.getMilliseconds()===0&&l.getSeconds()===0});if(!e)return null;var i=ur(n,function(l){return l.getMinutes()===0});if(!i)return"minute";var s=ur(n,function(l){return l.getHours()===0});if(!s)return"hour";if(t)return"day";var r=ur(n,function(l){return l.getDate()===1});if(!r){var o=n[0].getDay(),a=ur(n,function(l){return l.getDay()===o});return a?"week":"day"}var c=ur(n,function(l){return l.getMonth()===0});return c?"year":"month"}function Mh(n){return!isNaN(Bn(n))&&xi(n).length>=6}function WO(n){return typeof n=="number"}var my=["bytes","KB","MB","GB","TB","PB","EB"];function En(n,t,e,i){n=n||"",e.prefix&&(t<0&&(t=t*-1,n+="-"),n+=e.prefix);var s=e.suffix||"",r=e.precision,o=e.round;if(e.byteScale){var a=t>=0;a||(t*=-1);var c=i?e.byteScale:t,l;c>=1152921504606847e3?(t/=1152921504606847e3,l=6):c>=0x4000000000000?(t/=0x4000000000000,l=5):c>=1099511627776?(t/=1099511627776,l=4):c>=1073741824?(t/=1073741824,l=3):c>=1048576?(t/=1048576,l=2):c>=1024?(t/=1024,l=1):l=0,r===void 0&&o===void 0&&(t>=1023.5&&l<my.length-1&&(t=1,l+=1),r=t>=1e3?4:3),s=" "+my[l],a||(t*=-1)}if(r!==void 0&&o!==void 0)throw Error("Use either round or precision, not both");if(!i&&(r!==void 0&&(t=t.toPrecision(r),e.zeros||(t=parseFloat(t))),o!==void 0))if(o<0){var h=Math.pow(10,-1*o);t=parseInt((1*t/h).toFixed(0))*h}else t=t.toFixed(o),e.zeros||(t=parseFloat(t));if(e.thousands||e.decimal){t=xi(t);var d=t.split(".");t=d[0],e.thousands&&(t=t.replace(/\B(?=(\d{3})+(?!\d))/g,e.thousands)),d.length>1&&(t+=(e.decimal||".")+d[1])}return n+t+s}function _y(n,t,e){return e in t?t[e]:e in n.options?n.options[e]:null}var wp={maintainAspectRatio:!1,animation:!1,plugins:{legend:{},tooltip:{displayColors:!1,callbacks:{}},title:{font:{size:20},color:"#333"}},interaction:{}},KE={scales:{y:{ticks:{maxTicksLimit:4},title:{font:{size:16},color:"#333"},grid:{}},x:{grid:{drawOnChartArea:!1},title:{font:{size:16},color:"#333"},time:{},ticks:{}}}},GE=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#651067"];function Ep(n,t,e){t!==void 0?(n.plugins.legend.display=!!t,t&&t!==!0&&(n.plugins.legend.position=t)):e&&(n.plugins.legend.display=!1)}function Tp(n,t){n.plugins.title.display=!0,n.plugins.title.text=t}function jO(n,t){t!==null&&(n.scales.y.min=Kn(t))}function $O(n,t){n.scales.y.max=Kn(t)}function qO(n,t){t!==null&&(n.scales.x.min=Kn(t))}function KO(n,t){n.scales.x.max=Kn(t)}function YE(n,t){n.scales.x.stacked=!!t,n.scales.y.stacked=!!t}function QE(n,t){n.scales.x.title.display=!0,n.scales.x.title.text=t}function XE(n,t){n.scales.y.title.display=!0,n.scales.y.title.text=t}function yy(n,t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return e?"rgba("+parseInt(e[1],16)+", "+parseInt(e[2],16)+", "+parseInt(e[3],16)+", "+t+")":n}function Ni(n){return n!=null}function GO(n,t,e){var i=Math.ceil(n.element.offsetWidth/4/t.labels.length);i>25?i=25:i<10&&(i=10),e.scales.x.ticks.callback||(e.scales.x.ticks.callback=function(s){return s=xi(this.getLabelForValue(s)),s.length>i?s.substring(0,i-2)+"...":s})}function YO(n){for(var t=1,e=QO(n);e>=1024;)t*=1024,e/=1024;return t}function Fu(n,t,e){var i={thousands:n.options.thousands,decimal:n.options.decimal},s=ee({prefix:n.options.prefix,suffix:n.options.suffix,precision:n.options.precision,round:n.options.round,zeros:n.options.zeros},i);if(n.options.bytes){var r=n.data;e==="pie"&&(r=[{data:r}]),s.byteScale=YO(r)}if(e!=="pie"){var o=t.scales.y;e==="bar"&&(o=t.scales.x),s.byteScale&&(o.ticks.stepSize||(o.ticks.stepSize=s.byteScale/2),o.ticks.maxTicksLimit||(o.ticks.maxTicksLimit=4)),o.ticks.callback||(o.ticks.callback=function(c){return En("",c,s,!0)}),(e==="scatter"||e==="bubble")&&!t.scales.x.ticks.callback&&(t.scales.x.ticks.callback=function(c){return En("",c,i,!0)})}if(!t.plugins.tooltip.callbacks.label)if(e==="scatter")t.plugins.tooltip.callbacks.label=function(c){var l=c.dataset.label||"";l&&(l+=": ");var h=c.parsed;return l+"("+En("",h.x,i)+", "+En("",h.y,s)+")"};else if(e==="bubble")t.plugins.tooltip.callbacks.label=function(c){var l=c.dataset.label||"";l&&(l+=": ");var h=c.raw;return l+"("+En("",h.x,i)+", "+En("",h.y,s)+", "+En("",h.v,i)+")"};else if(e==="pie")t.plugins.tooltip.callbacks.label=function(c){return En("",c.parsed,s)};else{var a=e==="bar"?"x":"y";t.plugins.tooltip.callbacks.label=function(c){if(c.parsed[a]!==null){var l=c.dataset.label||"";return l&&(l+=": "),En(l,c.parsed[a],s)}}}(e==="line"||e==="area")&&n.xtype==="number"&&(t.scales.x.ticks.callback||(t.scales.x.ticks.callback=function(c){return xi(c)}),t.plugins.tooltip.callbacks.title||(t.plugins.tooltip.callbacks.title=function(c){return xi(c[0].parsed.x)}))}function QO(n){for(var t=0,e=0;e<n.length;e++)for(var i=n[e].data,s=0;s<i.length;s++){var r=Math.abs(i[s][1]);r>t&&(t=r)}return t}function XO(n){for(var t=0,e=0;e<n.length;e++)for(var i=n[e].data,s=0;s<i.length;s++){var r=i[s][2];r>t&&(t=r)}return t}var xp=Ga(ee(wp,KE),Ep,Tp,jO,$O,YE,QE,XE);function JO(n){for(var t=n.data,e={},i=[],s=[],r=[],o=0;o<t.length;o++)for(var a=t[o].data,c=0;c<a.length;c++){var l=a[c],h=n.xtype==="datetime"?l[0].getTime():l[0];e[h]||(e[h]=new Array(t.length),i.push(h)),e[h][o]=l[1]}(n.xtype==="datetime"||n.xtype==="number")&&i.sort($E);for(var d=0;d<t.length;d++)r.push([]);for(var f=0;f<i.length;f++){var g=i[f],_=n.xtype==="datetime"?new Date(g):g;s.push(_);for(var y=e[g],v=0;v<t.length;v++){var I=y[v];r[v].push(I===void 0?null:I)}}return{labels:s,values:r}}function ZO(n){for(var t=n.data,e=[],i=XO(t),s=0;s<t.length;s++){for(var r=t[s].data,o=[],a=0;a<r.length;a++){var c=r[a];o.push({x:c[0],y:c[1],r:c[2]*20/i,v:c[2]})}e.push(o)}return{labels:[],values:e}}function tL(n){for(var t=n.data,e=[],i=0;i<t.length;i++){var s=t[i].data;s.sort(vp);for(var r=[],o=0;o<s.length;o++){var a=s[o];r.push({x:a[0],y:a[1]})}e.push(r)}return{labels:[],values:e}}function eL(n,t){return t==="bubble"?ZO(n):n.xtype==="number"&&t!=="bar"&&t!=="column"?tL(n):JO(n)}function Ip(n,t,e){for(var i=eL(n,e),s=i.labels,r=i.values,o=n.data,a=[],c=n.options.colors||GE,l=0;l<o.length;l++){var h=o[l],d=void 0,f=void 0;if(n.options.colors&&n.singleSeriesFormat&&(e==="bar"||e==="column")&&!h.color&&is(n.options.colors)&&!is(n.options.colors[0])){d=c,f=[];for(var g=0;g<c.length;g++)f[g]=yy(d[g],.5)}else d=h.color||c[l],f=e!=="line"?yy(d,.5):d;var _={label:h.name||"",data:r[l],fill:e==="area",borderColor:d,backgroundColor:f,borderWidth:2},y=e==="line"||e==="area"||e==="scatter"||e==="bubble";y&&(_.pointBackgroundColor=d,_.pointHoverBackgroundColor=d,_.pointHitRadius=50),e==="bubble"&&(_.pointBackgroundColor=f,_.pointHoverBackgroundColor=f,_.pointHoverBorderWidth=2),h.stack&&(_.stack=h.stack);var v=_y(n,h,"curve");v===!1?_.tension=0:y&&(_.tension=.4);var I=_y(n,h,"points");I===!1&&(_.pointRadius=0,_.pointHoverRadius=0),_=ee(_,n.options.dataset||{}),_=ee(_,h.library||{}),_=ee(_,h.dataset||{}),a.push(_)}var A=n.options.xmin,k=n.options.xmax;if(n.xtype==="datetime"?(Ni(A)&&(t.scales.x.min=Bn(A).getTime()),Ni(k)&&(t.scales.x.max=Bn(k).getTime())):n.xtype==="number"&&(Ni(A)&&(t.scales.x.min=A),Ni(k)&&(t.scales.x.max=k)),n.xtype==="datetime"){var M=qE(s);if(s.length===0&&(Ni(A)&&s.push(Bn(A)),Ni(k)&&s.push(Bn(k))),s.length>0){for(var N=(Ni(A)?Bn(A):s[0]).getTime(),B=(Ni(k)?Bn(k):s[0]).getTime(),T=1;T<s.length;T++){var b=s[T].getTime();b<N&&(N=b),b>B&&(B=b)}var E=(B-N)/(86400*1e3);if(!t.scales.x.time.unit){var x;if(M==="year"||E>365*10?(t.scales.x.time.unit="year",x=365):M==="month"||E>30*10?(t.scales.x.time.unit="month",x=30):M==="week"||M==="day"||E>10?(t.scales.x.time.unit="day",x=1):M==="hour"||E>.5?(t.scales.x.time.displayFormats={hour:"MMM d, h a"},t.scales.x.time.unit="hour",x=1/24):M==="minute"&&(t.scales.x.time.displayFormats={minute:"h:mm a"},t.scales.x.time.unit="minute",x=1/24/60),x&&E>0){var C=n.element.offsetWidth;if(C>0){var D=Math.ceil(E/x/(C/100));M==="week"&&x===1&&(D=Math.ceil(D/7)*7),t.scales.x.ticks.stepSize=D}}}t.scales.x.time.tooltipFormat||(M==="year"?t.scales.x.time.tooltipFormat="yyyy":M==="month"?t.scales.x.time.tooltipFormat="MMM yyyy":M==="week"||M==="day"?t.scales.x.time.tooltipFormat="PP":M==="hour"?t.scales.x.time.tooltipFormat="MMM d, h a":M==="minute"&&(t.scales.x.time.tooltipFormat="h:mm a"))}}return{labels:s,datasets:a}}var Zn=function(t){this.name="chartjs",this.library=t};Zn.prototype.renderLineChart=function(t,e){e||(e="line");var i={},s=xp(t,ee(i,t.options));Fu(t,s,e);var r=Ip(t,s,e);t.xtype==="number"?(s.scales.x.type=s.scales.x.type||"linear",s.scales.x.position=s.scales.x.position||"bottom"):s.scales.x.type=t.xtype==="string"?"category":"time",this.drawChart(t,"line",r,s)};Zn.prototype.renderPieChart=function(t){var e=ee({},wp);t.options.donut&&(e.cutout="50%"),"legend"in t.options&&Ep(e,t.options.legend),t.options.title&&Tp(e,t.options.title),e=ee(e,t.options.library||{}),Fu(t,e,"pie");for(var i=[],s=[],r=0;r<t.data.length;r++){var o=t.data[r];i.push(o[0]),s.push(o[1])}var a={data:s,backgroundColor:t.options.colors||GE};a=ee(a,t.options.dataset||{});var c={labels:i,datasets:[a]};this.drawChart(t,"pie",c,e)};Zn.prototype.renderColumnChart=function(t,e){var i;if(e==="bar"){var s=ee(wp,KE);s.indexAxis="y",s.scales.x.grid.drawOnChartArea=!0,s.scales.y.grid.drawOnChartArea=!1,delete s.scales.y.ticks.maxTicksLimit,i=Ga(s,Ep,Tp,qO,KO,YE,QE,XE)(t,t.options)}else i=xp(t,t.options);Fu(t,i,e);var r=Ip(t,i,"column");e!=="bar"&&GO(t,r,i),"mode"in i.interaction||(i.interaction.mode="index"),this.drawChart(t,"bar",r,i)};Zn.prototype.renderAreaChart=function(t){this.renderLineChart(t,"area")};Zn.prototype.renderBarChart=function(t){this.renderColumnChart(t,"bar")};Zn.prototype.renderScatterChart=function(t,e){e=e||"scatter";var i=xp(t,t.options);Fu(t,i,e),"showLine"in i||(i.showLine=!1);var s=Ip(t,i,e);i.scales.x.type=i.scales.x.type||"linear",i.scales.x.position=i.scales.x.position||"bottom","mode"in i.interaction||(i.interaction.mode="nearest"),this.drawChart(t,e,s,i)};Zn.prototype.renderBubbleChart=function(t){this.renderScatterChart(t,"bubble")};Zn.prototype.destroy=function(t){t.chart&&t.chart.destroy()};Zn.prototype.drawChart=function(t,e,i,s){if(this.destroy(t),!t.destroyed){var r={type:e,data:i,options:s};t.options.code&&window.console.log("new Chart(ctx, "+JSON.stringify(r)+");"),t.element.innerHTML="<canvas></canvas>";var o=t.element.getElementsByTagName("CANVAS")[0];t.chart=new this.library(o,r)}};var JE={chart:{},xAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},title:{text:null},credits:{enabled:!1},legend:{borderWidth:0},tooltip:{style:{fontSize:"12px"}},plotOptions:{areaspline:{},area:{},series:{marker:{}}},time:{useUTC:!1}};function ZE(n,t,e){t!==void 0?(n.legend.enabled=!!t,t&&t!==!0&&(t==="top"||t==="bottom"?n.legend.verticalAlign=t:(n.legend.layout="vertical",n.legend.verticalAlign="middle",n.legend.align=t))):e&&(n.legend.enabled=!1)}function tT(n,t){n.title.text=t}function nL(n,t){n.yAxis.min=t}function iL(n,t){n.yAxis.max=t}function sL(n,t){var e=t?t===!0?"normal":t:null;n.plotOptions.series.stacking=e,n.plotOptions.area.stacking=e,n.plotOptions.areaspline.stacking=e}function rL(n,t){n.xAxis.title.text=t}function oL(n,t){n.yAxis.title.text=t}var Ap=Ga(JE,ZE,tT,nL,iL,sL,rL,oL);function Sp(n,t,e){var i={prefix:n.options.prefix,suffix:n.options.suffix,thousands:n.options.thousands,decimal:n.options.decimal,precision:n.options.precision,round:n.options.round,zeros:n.options.zeros};e!=="pie"&&!is(t.yAxis)&&!t.yAxis.labels.formatter&&(t.yAxis.labels.formatter=function(){return En("",this.value,i)}),!t.tooltip.pointFormatter&&!t.tooltip.pointFormat&&(t.tooltip.pointFormatter=function(){return'<span style="color:'+this.color+'">●</span> '+En(this.series.name+": <b>",this.y,i)+"</b><br/>"})}var Pi=function(t){this.name="highcharts",this.library=t};Pi.prototype.renderLineChart=function(t,e){e=e||"spline";var i={};e==="areaspline"&&(i={plotOptions:{areaspline:{stacking:"normal"},area:{stacking:"normal"},series:{marker:{enabled:!1}}}}),t.options.curve===!1&&(e==="areaspline"?e="area":e==="spline"&&(e="line"));var s=Ap(t,t.options,i);t.xtype==="number"?s.xAxis.type=s.xAxis.type||"linear":s.xAxis.type=t.xtype==="string"?"category":"datetime",s.chart.type||(s.chart.type=e),Sp(t,s,e);for(var r=t.data,o=0;o<r.length;o++){r[o].name=r[o].name||"Value";var a=r[o].data;if(t.xtype==="datetime")for(var c=0;c<a.length;c++)a[c][0]=a[c][0].getTime();else t.xtype==="number"&&a.sort(vp);r[o].marker={symbol:"circle"},t.options.points===!1&&(r[o].marker.enabled=!1)}this.drawChart(t,r,s)};Pi.prototype.renderScatterChart=function(t){var e=Ap(t,t.options,{});e.chart.type="scatter",this.drawChart(t,t.data,e)};Pi.prototype.renderPieChart=function(t){var e=ee(JE,{});t.options.colors&&(e.colors=t.options.colors),t.options.donut&&(e.plotOptions={pie:{innerSize:"50%"}}),"legend"in t.options&&ZE(e,t.options.legend),t.options.title&&tT(e,t.options.title);var i=ee(e,t.options.library||{});Sp(t,i,"pie");var s=[{type:"pie",name:t.options.label||"Value",data:t.data}];this.drawChart(t,s,i)};Pi.prototype.renderColumnChart=function(t,e){e=e||"column";var i=t.data,s=Ap(t,t.options),r=[],o=[];s.chart.type=e,Sp(t,s,e);for(var a=0;a<i.length;a++)for(var c=i[a],l=0;l<c.data.length;l++){var h=c.data[l];r[h[0]]||(r[h[0]]=new Array(i.length),o.push(h[0])),r[h[0]][a]=h[1]}t.xtype==="number"&&o.sort($E),s.xAxis.categories=o;for(var d=[],f=0;f<i.length;f++){for(var g=[],_=0;_<o.length;_++)g.push(r[o[_]][f]||0);var y={name:i[f].name||"Value",data:g};i[f].stack&&(y.stack=i[f].stack),d.push(y)}this.drawChart(t,d,s)};Pi.prototype.renderBarChart=function(t){this.renderColumnChart(t,"bar")};Pi.prototype.renderAreaChart=function(t){this.renderLineChart(t,"areaspline")};Pi.prototype.destroy=function(t){t.chart&&t.chart.destroy()};Pi.prototype.drawChart=function(t,e,i){this.destroy(t),!t.destroyed&&(i.chart.renderTo=t.element.id,i.series=e,t.options.code&&window.console.log("new Highcharts.Chart("+JSON.stringify(i)+");"),t.chart=new this.library.Chart(i))};var by={},ol=[],Ya={chartArea:{},fontName:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif",pointSize:6,legend:{textStyle:{fontSize:12,color:"#444"},alignment:"center",position:"right"},curveType:"function",hAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},gridlines:{color:"transparent"},baselineColor:"#ccc",viewWindow:{}},vAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},baselineColor:"#ccc",viewWindow:{}},tooltip:{textStyle:{color:"#666",fontSize:12}}};function Pp(n,t,e){if(t!==void 0){var i;t?t===!0?i="right":i=t:i="none",n.legend.position=i}else e&&(n.legend.position="none")}function Cp(n,t){n.title=t,n.titleTextStyle={color:"#333",fontSize:"20px"}}function aL(n,t){n.vAxis.viewWindow.min=t}function cL(n,t){n.vAxis.viewWindow.max=t}function lL(n,t){n.hAxis.viewWindow.min=t}function uL(n,t){n.hAxis.viewWindow.max=t}function eT(n,t){n.isStacked=t||!1}function nT(n,t){n.hAxis.title=t,n.hAxis.titleTextStyle.italic=!1}function iT(n,t){n.vAxis.title=t,n.vAxis.titleTextStyle.italic=!1}var Bu=Ga(Ya,Pp,Cp,aL,cL,eT,nT,iT);function hL(n){window.attachEvent?window.attachEvent("onresize",n):window.addEventListener&&window.addEventListener("resize",n,!0),n()}var sn=function(t){this.name="google",this.library=t};sn.prototype.renderLineChart=function(t){var e=this;this.waitForLoaded(t,function(){var i={};t.options.curve===!1&&(i.curveType="none"),t.options.points===!1&&(i.pointSize=0);var s=Bu(t,t.options,i),r=e.createDataTable(t.data,t.xtype);e.drawChart(t,"LineChart",r,s)})};sn.prototype.renderPieChart=function(t){var e=this;this.waitForLoaded(t,function(){var i={chartArea:{top:"10%",height:"80%"},legend:{}};t.options.colors&&(i.colors=t.options.colors),t.options.donut&&(i.pieHole=.5),"legend"in t.options&&Pp(i,t.options.legend),t.options.title&&Cp(i,t.options.title);var s=ee(ee(Ya,i),t.options.library||{}),r=new e.library.visualization.DataTable;r.addColumn("string",""),r.addColumn("number","Value"),r.addRows(t.data),e.drawChart(t,"PieChart",r,s)})};sn.prototype.renderColumnChart=function(t){var e=this;this.waitForLoaded(t,function(){var i=Bu(t,t.options),s=e.createDataTable(t.data,t.xtype);e.drawChart(t,"ColumnChart",s,i)})};sn.prototype.renderBarChart=function(t){var e=this;this.waitForLoaded(t,function(){var i={hAxis:{gridlines:{color:"#ccc"}}},s=Ga(Ya,Pp,Cp,lL,uL,eT,nT,iT)(t,t.options,i),r=e.createDataTable(t.data,t.xtype);e.drawChart(t,"BarChart",r,s)})};sn.prototype.renderAreaChart=function(t){var e=this;this.waitForLoaded(t,function(){var i={isStacked:!0,pointSize:0,areaOpacity:.5},s=Bu(t,t.options,i),r=e.createDataTable(t.data,t.xtype);e.drawChart(t,"AreaChart",r,s)})};sn.prototype.renderGeoChart=function(t){var e=this;this.waitForLoaded(t,"geochart",function(){var i={legend:"none",colorAxis:{colors:t.options.colors||["#f6c7b6","#ce502d"]}},s=ee(ee(Ya,i),t.options.library||{}),r=new e.library.visualization.DataTable;r.addColumn("string",""),r.addColumn("number",t.options.label||"Value"),r.addRows(t.data),e.drawChart(t,"GeoChart",r,s)})};sn.prototype.renderScatterChart=function(t){var e=this;this.waitForLoaded(t,function(){for(var i={},s=Bu(t,t.options,i),r=t.data,o=[],a=0;a<r.length;a++){r[a].name=r[a].name||"Value";for(var c=r[a].data,l=0;l<c.length;l++){var h=new Array(r.length+1);h[0]=c[l][0],h[a+1]=c[l][1],o.push(h)}}var d=new e.library.visualization.DataTable;d.addColumn("number","");for(var f=0;f<r.length;f++)d.addColumn("number",r[f].name);d.addRows(o),e.drawChart(t,"ScatterChart",d,s)})};sn.prototype.renderTimeline=function(t){var e=this;this.waitForLoaded(t,"timeline",function(){var i={legend:"none"};t.options.colors&&(i.colors=t.options.colors);var s=ee(ee(Ya,i),t.options.library||{}),r=new e.library.visualization.DataTable;r.addColumn({type:"string",id:"Name"}),r.addColumn({type:"date",id:"Start"}),r.addColumn({type:"date",id:"End"}),r.addRows(t.data),t.element.style.lineHeight="normal",e.drawChart(t,"Timeline",r,s)})};sn.prototype.destroy=function(t){t.chart&&t.chart.clearChart()};sn.prototype.drawChart=function(t,e,i,s){this.destroy(t),!t.destroyed&&(t.options.code&&window.console.log("var data = new google.visualization.DataTable("+i.toJSON()+`);
var chart = new google.visualization.`+e+`(element);
chart.draw(data, `+JSON.stringify(s)+");"),t.chart=new this.library.visualization[e](t.element),hL(function(){t.chart.draw(i,s)}))};sn.prototype.waitForLoaded=function(t,e,i){var s=this;if(i||(i=e,e="corechart"),ol.push({pack:e,callback:i}),by[e])this.runCallbacks();else{by[e]=!0;var r={packages:[e],callback:function(){s.runCallbacks()}},o=t.__config();o.language&&(r.language=o.language),e==="geochart"&&o.mapsApiKey&&(r.mapsApiKey=o.mapsApiKey),this.library.charts.load("current",r)}};sn.prototype.runCallbacks=function(){for(var t=0;t<ol.length;t++){var e=ol[t],i=this.library.visualization&&(e.pack==="corechart"&&this.library.visualization.LineChart||e.pack==="timeline"&&this.library.visualization.Timeline||e.pack==="geochart"&&this.library.visualization.GeoChart);i&&(e.callback(),ol.splice(t,1),t--)}};sn.prototype.createDataTable=function(t,e){for(var i=[],s=[],r=0;r<t.length;r++){var o=t[r];t[r].name=t[r].name||"Value";for(var a=0;a<o.data.length;a++){var c=o.data[a],l=e==="datetime"?c[0].getTime():c[0];i[l]||(i[l]=new Array(t.length),s.push(l)),i[l][r]=c[1]}}for(var h=[],d=[],f=0;f<s.length;f++){var g=s[f],_=void 0;e==="datetime"?(_=new Date(g),d.push(_)):_=g,h.push([_].concat(i[g]))}var y=!0;if(e==="datetime"){h.sort(HO);var v=qE(d,!0);y=zO(v)}else if(e==="number"){h.sort(vp);for(var I=0;I<h.length;I++)h[I][0]=xi(h[I][0]);e="string"}var A=new this.library.visualization.DataTable;e=e==="datetime"&&y?"date":e,A.addColumn(e,"");for(var k=0;k<t.length;k++)A.addColumn("number",t[k].name);return A.addRows(h),A};var Fs=[];function dL(n){if(n){if(n.product==="Highcharts")return Pi;if(n.charts)return sn;if(yp(n))return Zn}throw new Error("Unknown adapter")}function Zo(n){for(var t=dL(n),e=0;e<Fs.length;e++)if(Fs[e].library===n)return;Fs.push(new t(n))}function fL(){"Chart"in window&&Zo(window.Chart),"Highcharts"in window&&Zo(window.Highcharts),window.google&&window.google.charts&&Zo(window.google)}function pL(n,t){var e="render"+n,i=t.options.adapter;fL();for(var s=0;s<Fs.length;s++){var r=Fs[s];if((!i||i===r.name)&&yp(r[e]))return t.adapter=r.name,t.__adapterObject=r,r[e](t)}throw Fs.length>0?new Error("No charting library found for "+n):new Error("No charting libraries found - be sure to include one before your charts")}var bt={charts:{},configure:function(n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(bt.config[t]=n[t])},setDefaultOptions:function(n){bt.options=n},eachChart:function(n){for(var t in bt.charts)Object.prototype.hasOwnProperty.call(bt.charts,t)&&n(bt.charts[t])},destroyAll:function(){for(var n in bt.charts)Object.prototype.hasOwnProperty.call(bt.charts,n)&&(bt.charts[n].destroy(),delete bt.charts[n])},config:{},options:{},adapters:Fs,addAdapter:Zo,use:function(n){return Zo(n),bt}};function gL(n){for(var t=[],e=0;e<n.length;e++)t.push([Kn(n[e][0]),Kn(n[e][1]),Kn(n[e][2])]);return t}function mL(n,t){if(t==="bubble")return gL(n);var e;t==="number"?e=Kn:t==="datetime"?e=Bn:e=xi;for(var i=[],s=0;s<n.length;s++)i.push([e(n[s][0]),Kn(n[s][1])]);return i}function _L(n,t,e){return rT(n)?(e.xmin||e.xmax)&&(!e.xmin||Mh(e.xmin))&&(!e.xmax||Mh(e.xmax))?"datetime":"number":vy(n,WO)?"number":!t&&vy(n,Mh)?"datetime":"string"}function vy(n,t){for(var e=0;e<n.length;e++)for(var i=bp(n[e].data),s=0;s<i.length;s++)if(!t(i[s][0]))return!1;return!0}function yL(n){for(var t=[],e=0;e<n.length;e++){var i={};for(var s in n[e])Object.prototype.hasOwnProperty.call(n[e],s)&&(i[s]=n[e][s]);t.push(i)}return t}function eo(n,t,e){var i=n.options,s=n.rawData;n.singleSeriesFormat=!is(s)||!rl(s[0]),n.singleSeriesFormat&&(s=[{name:i.label,data:s}]),s=yL(s);for(var r=0;r<s.length;r++)s[r].data=bp(s[r].data);n.xtype=t||(i.discrete?"string":_L(s,e,i));for(var o=0;o<s.length;o++)s[o].data=mL(s[o].data,n.xtype);return s}function sT(n){for(var t=bp(n.rawData),e=0;e<t.length;e++)t[e]=[xi(t[e][0]),Kn(t[e][1])];return t}function rT(n,t){if(t==="PieChart"||t==="GeoChart"||t==="Timeline")return n.length===0;for(var e=0;e<n.length;e++)if(n[e].data.length>0)return!1;return!0}function bL(n){var t=n.options.download;t===!0?t={}:typeof t=="string"&&(t={filename:t});var e=document.createElement("a");e.download=t.filename||"chart.png",e.style.position="absolute",e.style.top="20px",e.style.right="20px",e.style.zIndex=1e3,e.style.lineHeight="20px",e.target="_blank";var i=document.createElement("img"),s='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path fill="#CCCCCC" d="M344 240h-56L287.1 152c0-13.25-10.75-24-24-24h-16C234.7 128 223.1 138.8 223.1 152L224 240h-56c-9.531 0-18.16 5.656-22 14.38C142.2 263.1 143.9 273.3 150.4 280.3l88.75 96C243.7 381.2 250.1 384 256.8 384c7.781-.3125 13.25-2.875 17.75-7.844l87.25-96c6.406-7.031 8.031-17.19 4.188-25.88S353.5 240 344 240zM256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 464c-114.7 0-208-93.31-208-208S141.3 48 256 48s208 93.31 208 208S370.7 464 256 464z"/></svg>';i.src="data:image/svg+xml;utf8,"+encodeURIComponent(s),i.alt="Download",i.style.width="20px",i.style.height="20px",i.style.border="none",e.appendChild(i);var r=n.element;r.style.position="relative",n.__downloadAttached=!0,n.__enterEvent=r.addEventListener("mouseover",function(o){var a=o.relatedTarget;(!a||a!==this&&!this.contains(a))&&n.options.download&&(e.href=n.toImage(t),r.appendChild(e))}),n.__leaveEvent=r.addEventListener("mouseout",function(o){var a=o.relatedTarget;(!a||a!==this&&!this.contains(a))&&e.parentNode&&e.parentNode.removeChild(e)})}var oT=[],Vd=0,vL=4;function wL(n,t,e){oT.push([n,t,e]),Rp()}function Rp(){if(Vd<vL){var n=oT.shift();n&&(Vd++,TL(n[0],n[1],n[2]),Rp())}}function EL(){Vd--,Rp()}function TL(n,t,e){var i=new XMLHttpRequest;i.open("GET",n,!0),i.setRequestHeader("Content-Type","application/json"),i.onload=function(){EL(),i.status===200?t(JSON.parse(i.responseText)):e(i.statusText)},i.send()}function kp(n,t){n.textContent=t}function al(n,t,e){e||(t="Error Loading Chart: "+t),kp(n,t),n.style.color="#ff0000"}function Oh(n){try{n.__render()}catch(t){throw al(n.element,t.message),t}}function wa(n,t,e){if(e&&n.options.loading&&(typeof t=="string"||typeof t=="function")&&kp(n.element,n.options.loading),typeof t=="string")wL(t,function(i){n.rawData=i,Oh(n)},function(i){al(n.element,i)});else if(typeof t=="function")try{t(function(i){n.rawData=i,Oh(n)},function(i){al(n.element,i,!0)})}catch(i){al(n.element,i,!0)}else n.rawData=t,Oh(n)}function xL(n,t){if(rT(t.data,n)){var e=t.options.empty||t.options.messages&&t.options.messages.empty||"No data";kp(t.element,e)}else pL(n,t),t.options.download&&!t.__downloadAttached&&t.adapter==="chartjs"&&bL(t)}function IL(n){if(typeof n=="string"){var t=n;if(n=document.getElementById(n),!n)throw new Error("No element with id "+t)}return n}var Kt=function(t,e,i){this.element=IL(t),this.options=ee(bt.options,i||{}),this.dataSource=e,this.element.id&&(bt.charts[this.element.id]=this),wa(this,e,!0),this.options.refresh&&this.startRefresh()};Kt.prototype.getElement=function(){return this.element};Kt.prototype.getDataSource=function(){return this.dataSource};Kt.prototype.getData=function(){return this.data};Kt.prototype.getOptions=function(){return this.options};Kt.prototype.getChartObject=function(){return this.chart};Kt.prototype.getAdapter=function(){return this.adapter};Kt.prototype.updateData=function(t,e){this.dataSource=t,e&&this.__updateOptions(e),wa(this,t,!0)};Kt.prototype.setOptions=function(t){this.__updateOptions(t),this.redraw()};Kt.prototype.redraw=function(){wa(this,this.rawData)};Kt.prototype.refreshData=function(){if(typeof this.dataSource=="string"){var t=this.dataSource.indexOf("?")===-1?"?":"&",e=this.dataSource+t+"_="+new Date().getTime();wa(this,e)}else typeof this.dataSource=="function"&&wa(this,this.dataSource)};Kt.prototype.startRefresh=function(){var t=this,e=this.options.refresh;if(e&&typeof this.dataSource!="string"&&typeof this.dataSource!="function")throw new Error("Data source must be a URL or callback for refresh");if(!this.intervalId)if(e)this.intervalId=setInterval(function(){t.refreshData()},e*1e3);else throw new Error("No refresh interval")};Kt.prototype.stopRefresh=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)};Kt.prototype.toImage=function(t){if(this.adapter==="chartjs")if(t&&t.background&&t.background!=="transparent"){var e=this.chart.canvas,i=this.chart.ctx,s=document.createElement("canvas"),r=s.getContext("2d");return s.width=i.canvas.width,s.height=i.canvas.height,r.fillStyle=t.background,r.fillRect(0,0,s.width,s.height),r.drawImage(e,0,0),s.toDataURL("image/png")}else return this.chart.toBase64Image();else throw new Error("Feature only available for Chart.js")};Kt.prototype.destroy=function(){this.destroyed=!0,this.stopRefresh(),this.__adapterObject&&this.__adapterObject.destroy(this),this.__enterEvent&&this.element.removeEventListener("mouseover",this.__enterEvent),this.__leaveEvent&&this.element.removeEventListener("mouseout",this.__leaveEvent)};Kt.prototype.__updateOptions=function(t){var e=t.refresh&&t.refresh!==this.options.refresh;this.options=ee(bt.options,t),e&&(this.stopRefresh(),this.startRefresh())};Kt.prototype.__render=function(){this.data=this.__processData(),xL(this.__chartName(),this)};Kt.prototype.__config=function(){return bt.config};var AL=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.__processData=function(){return eo(this)},t.prototype.__chartName=function(){return"LineChart"},t}(Kt),SL=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.__processData=function(){return sT(this)},t.prototype.__chartName=function(){return"PieChart"},t}(Kt),PL=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.__processData=function(){return eo(this,null,!0)},t.prototype.__chartName=function(){return"ColumnChart"},t}(Kt),CL=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.__processData=function(){return eo(this,null,!0)},t.prototype.__chartName=function(){return"BarChart"},t}(Kt),RL=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.__processData=function(){return eo(this)},t.prototype.__chartName=function(){return"AreaChart"},t}(Kt),kL=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.__processData=function(){return sT(this)},t.prototype.__chartName=function(){return"GeoChart"},t}(Kt),DL=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.__processData=function(){return eo(this,"number")},t.prototype.__chartName=function(){return"ScatterChart"},t}(Kt),ML=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.__processData=function(){return eo(this,"bubble")},t.prototype.__chartName=function(){return"BubbleChart"},t}(Kt),OL=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.__processData=function(){for(var i=this.rawData,s=0;s<i.length;s++)i[s][1]=Bn(i[s][1]),i[s][2]=Bn(i[s][2]);return i},t.prototype.__chartName=function(){return"Timeline"},t}(Kt);bt.LineChart=AL;bt.PieChart=SL;bt.ColumnChart=PL;bt.BarChart=CL;bt.AreaChart=RL;bt.GeoChart=kL;bt.ScatterChart=DL;bt.BubbleChart=ML;bt.Timeline=OL;typeof window<"u"&&!window.Chartkick&&(window.Chartkick=bt,document.addEventListener("turbolinks:before-render",function(){bt.config.autoDestroy!==!1&&bt.destroyAll()}),document.addEventListener("turbo:before-render",function(){bt.config.autoDestroy!==!1&&bt.destroyAll()}),setTimeout(function(){window.dispatchEvent(new Event("chartkick:load"))},0));bt.default=bt;/*!
 * Vue Chartkick
 * Create beautiful JavaScript charts with one line of Vue
 * https://github.com/ankane/vue-chartkick
 * v1.1.0
 * MIT License
 */var LL=1,Vi=function(n,t,e){var i=["adapter","bytes","code","colors","curve","dataset","decimal","discrete","donut","download","empty","label","legend","library","loading","max","messages","min","points","precision","prefix","refresh","round","stacked","suffix","thousands","title","xmax","xmin","xtitle","ytitle","zeros"];n.component(t,{props:["data","id","width","height"].concat(i),render:function(){var s=this.chartOptions.loading!==void 0?this.chartOptions.loading:"Loading...";if(typeof s!="string")throw new Error("loading must be a string");return Ef("div",{id:this.chartId,style:this.chartStyle},[s])},data:function(){return{chartId:null}},computed:{chartStyle:function(){return this.data,this.chartOptions,{height:this.height||"300px",lineHeight:this.height||"300px",width:this.width||"100%",textAlign:"center",color:"#999",fontSize:"14px",fontFamily:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif"}},chartOptions:function(){for(var s={},r=i,o=0;o<r.length;o++){var a=r[o];this[a]!==void 0&&(s[a]=this[a])}return s}},created:function(){this.chartId=this.chartId||this.id||"chart-"+LL++},mounted:function(){this.updateChart()},updated:function(){this.updateChart()},beforeUnmount:function(){this.chart&&this.chart.destroy()},methods:{updateChart:function(){this.data!==null?this.chart?this.chart.updateData(this.data,this.chartOptions):this.chart=new e(this.chartId,this.data,this.chartOptions):this.chart&&(this.chart.destroy(),this.chart=null,this.$el.innerText="Loading...")}}})};bt.install=function(n,t){t&&t.adapter&&bt.addAdapter(t.adapter),Vi(n,"line-chart",bt.LineChart),Vi(n,"pie-chart",bt.PieChart),Vi(n,"column-chart",bt.ColumnChart),Vi(n,"bar-chart",bt.BarChart),Vi(n,"area-chart",bt.AreaChart),Vi(n,"scatter-chart",bt.ScatterChart),Vi(n,"geo-chart",bt.GeoChart),Vi(n,"timeline",bt.Timeline)};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Qa(n){return n+.5|0}const Ki=(n,t,e)=>Math.max(Math.min(n,e),t);function Oo(n){return Ki(Qa(n*2.55),0,255)}function ss(n){return Ki(Qa(n*255),0,255)}function ci(n){return Ki(Qa(n/2.55)/100,0,1)}function wy(n){return Ki(Qa(n*100),0,100)}const mn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Fd=[..."0123456789ABCDEF"],NL=n=>Fd[n&15],VL=n=>Fd[(n&240)>>4]+Fd[n&15],Ac=n=>(n&240)>>4===(n&15),FL=n=>Ac(n.r)&&Ac(n.g)&&Ac(n.b)&&Ac(n.a);function BL(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&mn[n[1]]*17,g:255&mn[n[2]]*17,b:255&mn[n[3]]*17,a:t===5?mn[n[4]]*17:255}:(t===7||t===9)&&(e={r:mn[n[1]]<<4|mn[n[2]],g:mn[n[3]]<<4|mn[n[4]],b:mn[n[5]]<<4|mn[n[6]],a:t===9?mn[n[7]]<<4|mn[n[8]]:255})),e}const UL=(n,t)=>n<255?t(n):"";function HL(n){var t=FL(n)?NL:VL;return n?"#"+t(n.r)+t(n.g)+t(n.b)+UL(n.a,t):void 0}const zL=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function aT(n,t,e){const i=t*Math.min(e,1-e),s=(r,o=(r+n/30)%12)=>e-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function WL(n,t,e){const i=(s,r=(s+n/60)%6)=>e-e*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function jL(n,t,e){const i=aT(n,1,.5);let s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)i[s]*=1-t-e,i[s]+=t;return i}function $L(n,t,e,i,s){return n===s?(t-e)/i+(t<e?6:0):t===s?(e-n)/i+2:(n-t)/i+4}function Dp(n){const e=n.r/255,i=n.g/255,s=n.b/255,r=Math.max(e,i,s),o=Math.min(e,i,s),a=(r+o)/2;let c,l,h;return r!==o&&(h=r-o,l=a>.5?h/(2-r-o):h/(r+o),c=$L(e,i,s,h,r),c=c*60+.5),[c|0,l||0,a]}function Mp(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(ss)}function Op(n,t,e){return Mp(aT,n,t,e)}function qL(n,t,e){return Mp(jL,n,t,e)}function KL(n,t,e){return Mp(WL,n,t,e)}function cT(n){return(n%360+360)%360}function GL(n){const t=zL.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Oo(+t[5]):ss(+t[5]));const s=cT(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=qL(s,r,o):t[1]==="hsv"?i=KL(s,r,o):i=Op(s,r,o),{r:i[0],g:i[1],b:i[2],a:e}}function YL(n,t){var e=Dp(n);e[0]=cT(e[0]+t),e=Op(e),n.r=e[0],n.g=e[1],n.b=e[2]}function QL(n){if(!n)return;const t=Dp(n),e=t[0],i=wy(t[1]),s=wy(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${s}%, ${ci(n.a)})`:`hsl(${e}, ${i}%, ${s}%)`}const Ey={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ty={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function XL(){const n={},t=Object.keys(Ty),e=Object.keys(Ey);let i,s,r,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],s=0;s<e.length;s++)r=e[s],a=a.replace(r,Ey[r]);r=parseInt(Ty[o],16),n[a]=[r>>16&255,r>>8&255,r&255]}return n}let Sc;function JL(n){Sc||(Sc=XL(),Sc.transparent=[0,0,0,0]);const t=Sc[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const ZL=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function tN(n){const t=ZL.exec(n);let e=255,i,s,r;if(t){if(t[7]!==i){const o=+t[7];e=t[8]?Oo(o):Ki(o*255,0,255)}return i=+t[1],s=+t[3],r=+t[5],i=255&(t[2]?Oo(i):Ki(i,0,255)),s=255&(t[4]?Oo(s):Ki(s,0,255)),r=255&(t[6]?Oo(r):Ki(r,0,255)),{r:i,g:s,b:r,a:e}}}function eN(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ci(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Lh=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,hr=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function nN(n,t,e){const i=hr(ci(n.r)),s=hr(ci(n.g)),r=hr(ci(n.b));return{r:ss(Lh(i+e*(hr(ci(t.r))-i))),g:ss(Lh(s+e*(hr(ci(t.g))-s))),b:ss(Lh(r+e*(hr(ci(t.b))-r))),a:n.a+e*(t.a-n.a)}}function Pc(n,t,e){if(n){let i=Dp(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Op(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function lT(n,t){return n&&Object.assign(t||{},n)}function xy(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=ss(n[3]))):(t=lT(n,{r:0,g:0,b:0,a:1}),t.a=ss(t.a)),t}function iN(n){return n.charAt(0)==="r"?tN(n):GL(n)}class Ea{constructor(t){if(t instanceof Ea)return t;const e=typeof t;let i;e==="object"?i=xy(t):e==="string"&&(i=BL(t)||JL(t)||iN(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=lT(this._rgb);return t&&(t.a=ci(t.a)),t}set rgb(t){this._rgb=xy(t)}rgbString(){return this._valid?eN(this._rgb):void 0}hexString(){return this._valid?HL(this._rgb):void 0}hslString(){return this._valid?QL(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,s=t.rgb;let r;const o=e===r?.5:e,a=2*o-1,c=i.a-s.a,l=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;r=1-l,i.r=255&l*i.r+r*s.r+.5,i.g=255&l*i.g+r*s.g+.5,i.b=255&l*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=nN(this._rgb,t._rgb,e)),this}clone(){return new Ea(this.rgb)}alpha(t){return this._rgb.a=ss(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Qa(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Pc(this._rgb,2,t),this}darken(t){return Pc(this._rgb,2,-t),this}saturate(t){return Pc(this._rgb,1,t),this}desaturate(t){return Pc(this._rgb,1,-t),this}rotate(t){return YL(this._rgb,t),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function si(){}const sN=(()=>{let n=0;return()=>n++})();function Et(n){return n==null}function Jt(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function It(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function oe(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function cn(n,t){return oe(n)?n:t}function vt(n,t){return typeof n>"u"?t:n}const rN=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,uT=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function $t(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Ht(n,t,e,i){let s,r,o;if(Jt(n))for(r=n.length,s=0;s<r;s++)t.call(e,n[s],s);else if(It(n))for(o=Object.keys(n),r=o.length,s=0;s<r;s++)t.call(e,n[o[s]],o[s])}function ql(n,t){let e,i,s,r;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(s=n[e],r=t[e],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function Kl(n){if(Jt(n))return n.map(Kl);if(It(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let s=0;for(;s<i;++s)t[e[s]]=Kl(n[e[s]]);return t}return n}function hT(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function oN(n,t,e,i){if(!hT(n))return;const s=t[n],r=e[n];It(s)&&It(r)?Ta(s,r,i):t[n]=Kl(r)}function Ta(n,t,e){const i=Jt(t)?t:[t],s=i.length;if(!It(n))return n;e=e||{};const r=e.merger||oN;let o;for(let a=0;a<s;++a){if(o=i[a],!It(o))continue;const c=Object.keys(o);for(let l=0,h=c.length;l<h;++l)r(c[l],n,o,e)}return n}function ta(n,t){return Ta(n,t,{merger:aN})}function aN(n,t,e){if(!hT(n))return;const i=t[n],s=e[n];It(i)&&It(s)?ta(i,s):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Kl(s))}const Iy={"":n=>n,x:n=>n.x,y:n=>n.y};function cN(n){const t=n.split("."),e=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function lN(n){const t=cN(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function hs(n,t){return(Iy[t]||(Iy[t]=lN(t)))(n)}function Lp(n){return n.charAt(0).toUpperCase()+n.slice(1)}const xa=n=>typeof n<"u",ds=n=>typeof n=="function",Ay=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function uN(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Xt=Math.PI,Qt=2*Xt,hN=Qt+Xt,Gl=Number.POSITIVE_INFINITY,dN=Xt/180,ue=Xt/2,Is=Xt/4,Sy=Xt*2/3,Gi=Math.log10,Gn=Math.sign;function ea(n,t,e){return Math.abs(n-t)<e}function Py(n){const t=Math.round(n);n=ea(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Gi(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function fN(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((s,r)=>s-r).pop(),t}function pN(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function jr(n){return!pN(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function gN(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function dT(n,t,e){let i,s,r;for(i=0,s=n.length;i<s;i++)r=n[i][e],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function xn(n){return n*(Xt/180)}function Np(n){return n*(180/Xt)}function Cy(n){if(!oe(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function fT(n,t){const e=t.x-n.x,i=t.y-n.y,s=Math.sqrt(e*e+i*i);let r=Math.atan2(i,e);return r<-.5*Xt&&(r+=Qt),{angle:r,distance:s}}function Bd(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function mN(n,t){return(n-t+hN)%Qt-Xt}function un(n){return(n%Qt+Qt)%Qt}function Ia(n,t,e,i){const s=un(n),r=un(t),o=un(e),a=un(r-s),c=un(o-s),l=un(s-r),h=un(s-o);return s===r||s===o||i&&r===o||a>c&&l<h}function we(n,t,e){return Math.max(t,Math.min(e,n))}function _N(n){return we(n,-32768,32767)}function gi(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Vp(n,t,e){e=e||(o=>n[o]<t);let i=n.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,e(r)?s=r:i=r;return{lo:s,hi:i}}const mi=(n,t,e,i)=>Vp(n,e,i?s=>{const r=n[s][t];return r<e||r===e&&n[s+1][t]===e}:s=>n[s][t]<e),yN=(n,t,e)=>Vp(n,e,i=>n[i][t]>=e);function bN(n,t,e){let i=0,s=n.length;for(;i<s&&n[i]<t;)i++;for(;s>i&&n[s-1]>e;)s--;return i>0||s<n.length?n.slice(i,s):n}const pT=["push","pop","shift","splice","unshift"];function vN(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),pT.forEach(e=>{const i="_onData"+Lp(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return n._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function Ry(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(pT.forEach(r=>{delete n[r]}),delete n._chartjs)}function gT(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const mT=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function _T(n,t){let e=[],i=!1;return function(...s){e=s,i||(i=!0,mT.call(window,()=>{i=!1,n.apply(t,e)}))}}function wN(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const Fp=n=>n==="start"?"left":n==="end"?"right":"center",Ne=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,EN=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function yT(n,t,e){const i=t.length;let s=0,r=i;if(n._sorted){const{iScale:o,vScale:a,_parsed:c}=n,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,h=o.axis,{min:d,max:f,minDefined:g,maxDefined:_}=o.getUserBounds();if(g){if(s=Math.min(mi(c,h,d).lo,e?i:mi(t,h,o.getPixelForValue(d)).lo),l){const y=c.slice(0,s+1).reverse().findIndex(v=>!Et(v[a.axis]));s-=Math.max(0,y)}s=we(s,0,i-1)}if(_){let y=Math.max(mi(c,o.axis,f,!0).hi+1,e?0:mi(t,h,o.getPixelForValue(f),!0).hi+1);if(l){const v=c.slice(y-1).findIndex(I=>!Et(I[a.axis]));y+=Math.max(0,v)}r=we(y,s,i)-s}else r=i-s}return{start:s,count:r}}function bT(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,s={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=s,!0;const r=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,s),r}const Cc=n=>n===0||n===1,ky=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Qt/e)),Dy=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Qt/e)+1,na={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ue)+1,easeOutSine:n=>Math.sin(n*ue),easeInOutSine:n=>-.5*(Math.cos(Xt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Cc(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Cc(n)?n:ky(n,.075,.3),easeOutElastic:n=>Cc(n)?n:Dy(n,.075,.3),easeInOutElastic(n){return Cc(n)?n:n<.5?.5*ky(n*2,.1125,.45):.5+.5*Dy(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-na.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?na.easeInBounce(n*2)*.5:na.easeOutBounce(n*2-1)*.5+.5};function Bp(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function My(n){return Bp(n)?n:new Ea(n)}function Nh(n){return Bp(n)?n:new Ea(n).saturate(.5).darken(.1).hexString()}const TN=["x","y","borderWidth","radius","tension"],xN=["color","borderColor","backgroundColor"];function IN(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:xN},numbers:{type:"number",properties:TN}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function AN(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Oy=new Map;function SN(n,t){t=t||{};const e=n+JSON.stringify(t);let i=Oy.get(e);return i||(i=new Intl.NumberFormat(n,t),Oy.set(e,i)),i}function Xa(n,t,e){return SN(t,e).format(n)}const vT={values(n){return Jt(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let s,r=n;if(e.length>1){const l=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(l<1e-4||l>1e15)&&(s="scientific"),r=PN(n,e)}const o=Gi(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),Xa(n,i,c)},logarithmic(n,t,e){if(n===0)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(Gi(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?vT.numeric.call(this,n,t,e):""}};function PN(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var Uu={formatters:vT};function CN(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Uu.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Qs=Object.create(null),Ud=Object.create(null);function ia(n,t){if(!t)return n;const e=t.split(".");for(let i=0,s=e.length;i<s;++i){const r=e[i];n=n[r]||(n[r]=Object.create(null))}return n}function Vh(n,t,e){return typeof t=="string"?Ta(ia(n,t),e):Ta(ia(n,""),t)}class RN{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Nh(s.backgroundColor),this.hoverBorderColor=(i,s)=>Nh(s.borderColor),this.hoverColor=(i,s)=>Nh(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Vh(this,t,e)}get(t){return ia(this,t)}describe(t,e){return Vh(Ud,t,e)}override(t,e){return Vh(Qs,t,e)}route(t,e,i,s){const r=ia(this,t),o=ia(this,i),a="_"+e;Object.defineProperties(r,{[a]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const c=this[a],l=o[s];return It(c)?Object.assign({},l,c):vt(c,l)},set(c){this[a]=c}}})}apply(t){t.forEach(e=>e(this))}}var Zt=new RN({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[IN,AN,CN]);function kN(n){return!n||Et(n.size)||Et(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Yl(n,t,e,i,s){let r=t[s];return r||(r=t[s]=n.measureText(s).width,e.push(s)),r>i&&(i=r),i}function DN(n,t,e,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},r=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let o=0;const a=e.length;let c,l,h,d,f;for(c=0;c<a;c++)if(d=e[c],d!=null&&!Jt(d))o=Yl(n,s,r,o,d);else if(Jt(d))for(l=0,h=d.length;l<h;l++)f=d[l],f!=null&&!Jt(f)&&(o=Yl(n,s,r,o,f));n.restore();const g=r.length/2;if(g>e.length){for(c=0;c<g;c++)delete s[r[c]];r.splice(0,g)}return o}function As(n,t,e){const i=n.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*i)/i+s}function Ly(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Hd(n,t,e,i){wT(n,t,e,i,null)}function wT(n,t,e,i,s){let r,o,a,c,l,h,d,f;const g=t.pointStyle,_=t.rotation,y=t.radius;let v=(_||0)*dN;if(g&&typeof g=="object"&&(r=g.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(v),n.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),n.restore();return}if(!(isNaN(y)||y<=0)){switch(n.beginPath(),g){default:s?n.ellipse(e,i,s/2,y,0,0,Qt):n.arc(e,i,y,0,Qt),n.closePath();break;case"triangle":h=s?s/2:y,n.moveTo(e+Math.sin(v)*h,i-Math.cos(v)*y),v+=Sy,n.lineTo(e+Math.sin(v)*h,i-Math.cos(v)*y),v+=Sy,n.lineTo(e+Math.sin(v)*h,i-Math.cos(v)*y),n.closePath();break;case"rectRounded":l=y*.516,c=y-l,o=Math.cos(v+Is)*c,d=Math.cos(v+Is)*(s?s/2-l:c),a=Math.sin(v+Is)*c,f=Math.sin(v+Is)*(s?s/2-l:c),n.arc(e-d,i-a,l,v-Xt,v-ue),n.arc(e+f,i-o,l,v-ue,v),n.arc(e+d,i+a,l,v,v+ue),n.arc(e-f,i+o,l,v+ue,v+Xt),n.closePath();break;case"rect":if(!_){c=Math.SQRT1_2*y,h=s?s/2:c,n.rect(e-h,i-c,2*h,2*c);break}v+=Is;case"rectRot":d=Math.cos(v)*(s?s/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,f=Math.sin(v)*(s?s/2:y),n.moveTo(e-d,i-a),n.lineTo(e+f,i-o),n.lineTo(e+d,i+a),n.lineTo(e-f,i+o),n.closePath();break;case"crossRot":v+=Is;case"cross":d=Math.cos(v)*(s?s/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,f=Math.sin(v)*(s?s/2:y),n.moveTo(e-d,i-a),n.lineTo(e+d,i+a),n.moveTo(e+f,i-o),n.lineTo(e-f,i+o);break;case"star":d=Math.cos(v)*(s?s/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,f=Math.sin(v)*(s?s/2:y),n.moveTo(e-d,i-a),n.lineTo(e+d,i+a),n.moveTo(e+f,i-o),n.lineTo(e-f,i+o),v+=Is,d=Math.cos(v)*(s?s/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,f=Math.sin(v)*(s?s/2:y),n.moveTo(e-d,i-a),n.lineTo(e+d,i+a),n.moveTo(e+f,i-o),n.lineTo(e-f,i+o);break;case"line":o=s?s/2:Math.cos(v)*y,a=Math.sin(v)*y,n.moveTo(e-o,i-a),n.lineTo(e+o,i+a);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(v)*(s?s/2:y),i+Math.sin(v)*y);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function _i(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Hu(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function zu(n){n.restore()}function MN(n,t,e,i,s){if(!t)return n.lineTo(e.x,e.y);if(s==="middle"){const r=(t.x+e.x)/2;n.lineTo(r,t.y),n.lineTo(r,e.y)}else s==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function ON(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function LN(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Et(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function NN(n,t,e,i,s){if(s.strikethrough||s.underline){const r=n.measureText(i),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,c=e-r.actualBoundingBoxAscent,l=e+r.actualBoundingBoxDescent,h=s.strikethrough?(c+l)/2:l;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(o,h),n.lineTo(a,h),n.stroke()}}function VN(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Xs(n,t,e,i,s,r={}){const o=Jt(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="";let c,l;for(n.save(),n.font=s.string,LN(n,r),c=0;c<o.length;++c)l=o[c],r.backdrop&&VN(n,r.backdrop),a&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),Et(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(l,e,i,r.maxWidth)),n.fillText(l,e,i,r.maxWidth),NN(n,e,i,l,r),i+=Number(s.lineHeight);n.restore()}function Aa(n,t){const{x:e,y:i,w:s,h:r,radius:o}=t;n.arc(e+o.topLeft,i+o.topLeft,o.topLeft,1.5*Xt,Xt,!0),n.lineTo(e,i+r-o.bottomLeft),n.arc(e+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,Xt,ue,!0),n.lineTo(e+s-o.bottomRight,i+r),n.arc(e+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,ue,0,!0),n.lineTo(e+s,i+o.topRight),n.arc(e+s-o.topRight,i+o.topRight,o.topRight,0,-ue,!0),n.lineTo(e+o.topLeft,i)}const FN=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,BN=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function UN(n,t){const e=(""+n).match(FN);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const HN=n=>+n||0;function Up(n,t){const e={},i=It(t),s=i?Object.keys(t):t,r=It(n)?i?o=>vt(n[o],n[t[o]]):o=>n[o]:()=>n;for(const o of s)e[o]=HN(r(o));return e}function ET(n){return Up(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Bs(n){return Up(n,["topLeft","topRight","bottomLeft","bottomRight"])}function qe(n){const t=ET(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function me(n,t){n=n||{},t=t||Zt.font;let e=vt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=vt(n.style,t.style);i&&!(""+i).match(BN)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:vt(n.family,t.family),lineHeight:UN(vt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:vt(n.weight,t.weight),string:""};return s.string=kN(s),s}function Lo(n,t,e,i){let s,r,o;for(s=0,r=n.length;s<r;++s)if(o=n[s],o!==void 0&&o!==void 0)return o}function zN(n,t,e){const{min:i,max:s}=n,r=uT(t,(s-i)/2),o=(a,c)=>e&&a===0?0:a+c;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function ys(n,t){return Object.assign(Object.create(n),t)}function Hp(n,t=[""],e,i,s=()=>n[0]){const r=e||n;typeof i>"u"&&(i=AT("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:r,_fallback:i,_getTarget:s,override:a=>Hp([a,...n],t,r,i)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete n[0][c],!0},get(a,c){return xT(a,c,()=>QN(c,t,n,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,c){return Vy(a).includes(c)},ownKeys(a){return Vy(a)},set(a,c,l){const h=a._storage||(a._storage=s());return a[c]=h[c]=l,delete a._keys,!0}})}function $r(n,t,e,i){const s={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:TT(n,i),setContext:r=>$r(n,r,e,i),override:r=>$r(n.override(r),t,e,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete n[o],!0},get(r,o,a){return xT(r,o,()=>jN(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(r,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(r,o,a){return n[o]=a,delete r[o],!0}})}function TT(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=n;return{allKeys:s,scriptable:e,indexable:i,isScriptable:ds(e)?e:()=>e,isIndexable:ds(i)?i:()=>i}}const WN=(n,t)=>n?n+Lp(t):t,zp=(n,t)=>It(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function xT(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function jN(n,t,e){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=n;let a=i[t];return ds(a)&&o.isScriptable(t)&&(a=$N(t,a,n,e)),Jt(a)&&a.length&&(a=qN(t,a,n,o.isIndexable)),zp(t,a)&&(a=$r(a,s,r&&r[t],o)),a}function $N(n,t,e,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=e;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let c=t(r,o||i);return a.delete(n),zp(n,c)&&(c=Wp(s._scopes,s,n,c)),c}function qN(n,t,e,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=e;if(typeof r.index<"u"&&i(n))return t[r.index%t.length];if(It(t[0])){const c=t,l=s._scopes.filter(h=>h!==c);t=[];for(const h of c){const d=Wp(l,s,n,h);t.push($r(d,r,o&&o[n],a))}}return t}function IT(n,t,e){return ds(n)?n(t,e):n}const KN=(n,t)=>n===!0?t:typeof n=="string"?hs(t,n):void 0;function GN(n,t,e,i,s){for(const r of t){const o=KN(e,r);if(o){n.add(o);const a=IT(o._fallback,e,s);if(typeof a<"u"&&a!==e&&a!==i)return a}else if(o===!1&&typeof i<"u"&&e!==i)return null}return!1}function Wp(n,t,e,i){const s=t._rootScopes,r=IT(t._fallback,e,i),o=[...n,...s],a=new Set;a.add(i);let c=Ny(a,o,e,r||e,i);return c===null||typeof r<"u"&&r!==e&&(c=Ny(a,o,r,c,i),c===null)?!1:Hp(Array.from(a),[""],s,r,()=>YN(t,e,i))}function Ny(n,t,e,i,s){for(;e;)e=GN(n,t,e,i,s);return e}function YN(n,t,e){const i=n._getTarget();t in i||(i[t]={});const s=i[t];return Jt(s)&&It(e)?e:s||{}}function QN(n,t,e,i){let s;for(const r of t)if(s=AT(WN(r,n),e),typeof s<"u")return zp(n,s)?Wp(e,i,n,s):s}function AT(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function Vy(n){let t=n._keys;return t||(t=n._keys=XN(n._scopes)),t}function XN(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function ST(n,t,e,i){const{iScale:s}=n,{key:r="r"}=this._parsing,o=new Array(i);let a,c,l,h;for(a=0,c=i;a<c;++a)l=a+e,h=t[l],o[a]={r:s.parse(hs(h,r),l)};return o}const JN=Number.EPSILON||1e-14,qr=(n,t)=>t<n.length&&!n[t].skip&&n[t],PT=n=>n==="x"?"y":"x";function ZN(n,t,e,i){const s=n.skip?t:n,r=t,o=e.skip?t:e,a=Bd(r,s),c=Bd(o,r);let l=a/(a+c),h=c/(a+c);l=isNaN(l)?0:l,h=isNaN(h)?0:h;const d=i*l,f=i*h;return{previous:{x:r.x-d*(o.x-s.x),y:r.y-d*(o.y-s.y)},next:{x:r.x+f*(o.x-s.x),y:r.y+f*(o.y-s.y)}}}function tV(n,t,e){const i=n.length;let s,r,o,a,c,l=qr(n,0);for(let h=0;h<i-1;++h)if(c=l,l=qr(n,h+1),!(!c||!l)){if(ea(t[h],0,JN)){e[h]=e[h+1]=0;continue}s=e[h]/t[h],r=e[h+1]/t[h],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),e[h]=s*o*t[h],e[h+1]=r*o*t[h])}}function eV(n,t,e="x"){const i=PT(e),s=n.length;let r,o,a,c=qr(n,0);for(let l=0;l<s;++l){if(o=a,a=c,c=qr(n,l+1),!a)continue;const h=a[e],d=a[i];o&&(r=(h-o[e])/3,a[`cp1${e}`]=h-r,a[`cp1${i}`]=d-r*t[l]),c&&(r=(c[e]-h)/3,a[`cp2${e}`]=h+r,a[`cp2${i}`]=d+r*t[l])}}function nV(n,t="x"){const e=PT(t),i=n.length,s=Array(i).fill(0),r=Array(i);let o,a,c,l=qr(n,0);for(o=0;o<i;++o)if(a=c,c=l,l=qr(n,o+1),!!c){if(l){const h=l[t]-c[t];s[o]=h!==0?(l[e]-c[e])/h:0}r[o]=a?l?Gn(s[o-1])!==Gn(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}tV(n,s,r),eV(n,r,t)}function Rc(n,t,e){return Math.max(Math.min(n,e),t)}function iV(n,t){let e,i,s,r,o,a=_i(n[0],t);for(e=0,i=n.length;e<i;++e)o=r,r=a,a=e<i-1&&_i(n[e+1],t),r&&(s=n[e],o&&(s.cp1x=Rc(s.cp1x,t.left,t.right),s.cp1y=Rc(s.cp1y,t.top,t.bottom)),a&&(s.cp2x=Rc(s.cp2x,t.left,t.right),s.cp2y=Rc(s.cp2y,t.top,t.bottom)))}function sV(n,t,e,i,s){let r,o,a,c;if(t.spanGaps&&(n=n.filter(l=>!l.skip)),t.cubicInterpolationMode==="monotone")nV(n,s);else{let l=i?n[n.length-1]:n[0];for(r=0,o=n.length;r<o;++r)a=n[r],c=ZN(l,a,n[Math.min(r+1,o-(i?0:1))%o],t.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}t.capBezierPoints&&iV(n,e)}function jp(){return typeof window<"u"&&typeof document<"u"}function $p(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ql(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const Wu=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function rV(n,t){return Wu(n).getPropertyValue(t)}const oV=["top","right","bottom","left"];function Us(n,t,e){const i={};e=e?"-"+e:"";for(let s=0;s<4;s++){const r=oV[s];i[r]=parseFloat(n[t+"-"+r+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const aV=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function cV(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:s,offsetY:r}=i;let o=!1,a,c;if(aV(s,r,n.target))a=s,c=r;else{const l=t.getBoundingClientRect();a=i.clientX-l.left,c=i.clientY-l.top,o=!0}return{x:a,y:c,box:o}}function ks(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,s=Wu(e),r=s.boxSizing==="border-box",o=Us(s,"padding"),a=Us(s,"border","width"),{x:c,y:l,box:h}=cV(n,e),d=o.left+(h&&a.left),f=o.top+(h&&a.top);let{width:g,height:_}=t;return r&&(g-=o.width+a.width,_-=o.height+a.height),{x:Math.round((c-d)/g*e.width/i),y:Math.round((l-f)/_*e.height/i)}}function lV(n,t,e){let i,s;if(t===void 0||e===void 0){const r=n&&$p(n);if(!r)t=n.clientWidth,e=n.clientHeight;else{const o=r.getBoundingClientRect(),a=Wu(r),c=Us(a,"border","width"),l=Us(a,"padding");t=o.width-l.width-c.width,e=o.height-l.height-c.height,i=Ql(a.maxWidth,r,"clientWidth"),s=Ql(a.maxHeight,r,"clientHeight")}}return{width:t,height:e,maxWidth:i||Gl,maxHeight:s||Gl}}const kc=n=>Math.round(n*10)/10;function uV(n,t,e,i){const s=Wu(n),r=Us(s,"margin"),o=Ql(s.maxWidth,n,"clientWidth")||Gl,a=Ql(s.maxHeight,n,"clientHeight")||Gl,c=lV(n,t,e);let{width:l,height:h}=c;if(s.boxSizing==="content-box"){const f=Us(s,"border","width"),g=Us(s,"padding");l-=g.width+f.width,h-=g.height+f.height}return l=Math.max(0,l-r.width),h=Math.max(0,i?l/i:h-r.height),l=kc(Math.min(l,o,c.maxWidth)),h=kc(Math.min(h,a,c.maxHeight)),l&&!h&&(h=kc(l/2)),(t!==void 0||e!==void 0)&&i&&c.height&&h>c.height&&(h=c.height,l=kc(Math.floor(h*i))),{width:l,height:h}}function Fy(n,t,e){const i=t||1,s=Math.floor(n.height*i),r=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(n.currentDevicePixelRatio=i,o.height=s,o.width=r,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const hV=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};jp()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function By(n,t){const e=rV(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ds(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function dV(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function fV(n,t,e,i){const s={x:n.cp2x,y:n.cp2y},r={x:t.cp1x,y:t.cp1y},o=Ds(n,s,e),a=Ds(s,r,e),c=Ds(r,t,e),l=Ds(o,a,e),h=Ds(a,c,e);return Ds(l,h,e)}const pV=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},gV=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Dr(n,t,e){return n?pV(t,e):gV()}function CT(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function RT(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function kT(n){return n==="angle"?{between:Ia,compare:mN,normalize:un}:{between:gi,compare:(t,e)=>t-e,normalize:t=>t}}function Uy({start:n,end:t,count:e,loop:i,style:s}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:s}}function mV(n,t,e){const{property:i,start:s,end:r}=e,{between:o,normalize:a}=kT(i),c=t.length;let{start:l,end:h,loop:d}=n,f,g;if(d){for(l+=c,h+=c,f=0,g=c;f<g&&o(a(t[l%c][i]),s,r);++f)l--,h--;l%=c,h%=c}return h<l&&(h+=c),{start:l,end:h,loop:d,style:n.style}}function DT(n,t,e){if(!e)return[n];const{property:i,start:s,end:r}=e,o=t.length,{compare:a,between:c,normalize:l}=kT(i),{start:h,end:d,loop:f,style:g}=mV(n,t,e),_=[];let y=!1,v=null,I,A,k;const M=()=>c(s,k,I)&&a(s,k)!==0,N=()=>a(r,I)===0||c(r,k,I),B=()=>y||M(),T=()=>!y||N();for(let b=h,E=h;b<=d;++b)A=t[b%o],!A.skip&&(I=l(A[i]),I!==k&&(y=c(I,s,r),v===null&&B()&&(v=a(I,s)===0?b:E),v!==null&&T()&&(_.push(Uy({start:v,end:b,loop:f,count:o,style:g})),v=null),E=b,k=I));return v!==null&&_.push(Uy({start:v,end:d,loop:f,count:o,style:g})),_}function MT(n,t){const e=[],i=n.segments;for(let s=0;s<i.length;s++){const r=DT(i[s],n.points,t);r.length&&e.push(...r)}return e}function _V(n,t,e,i){let s=0,r=t-1;if(e&&!i)for(;s<t&&!n[s].skip;)s++;for(;s<t&&n[s].skip;)s++;for(s%=t,e&&(r+=s);r>s&&n[r%t].skip;)r--;return r%=t,{start:s,end:r}}function yV(n,t,e,i){const s=n.length,r=[];let o=t,a=n[t],c;for(c=t+1;c<=e;++c){const l=n[c%s];l.skip||l.stop?a.skip||(i=!1,r.push({start:t%s,end:(c-1)%s,loop:i}),t=o=l.stop?c:null):(o=c,a.skip&&(t=c)),a=l}return o!==null&&r.push({start:t%s,end:o%s,loop:i}),r}function bV(n,t){const e=n.points,i=n.options.spanGaps,s=e.length;if(!s)return[];const r=!!n._loop,{start:o,end:a}=_V(e,s,r,i);if(i===!0)return Hy(n,[{start:o,end:a,loop:r}],e,t);const c=a<o?a+s:a,l=!!n._fullLoop&&o===0&&a===s-1;return Hy(n,yV(e,o,c,l),e,t)}function Hy(n,t,e,i){return!i||!i.setContext||!e?t:vV(n,t,e,i)}function vV(n,t,e,i){const s=n._chart.getContext(),r=zy(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,c=e.length,l=[];let h=r,d=t[0].start,f=d;function g(_,y,v,I){const A=a?-1:1;if(_!==y){for(_+=c;e[_%c].skip;)_-=A;for(;e[y%c].skip;)y+=A;_%c!==y%c&&(l.push({start:_%c,end:y%c,loop:v,style:I}),h=I,d=y%c)}}for(const _ of t){d=a?d:_.start;let y=e[d%c],v;for(f=d+1;f<=_.end;f++){const I=e[f%c];v=zy(i.setContext(ys(s,{type:"segment",p0:y,p1:I,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:o}))),wV(v,h)&&g(d,f-1,_.loop,h),y=I,h=v}d<f-1&&g(d,f-1,_.loop,h)}return l}function zy(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function wV(n,t){if(!t)return!1;const e=[],i=function(s,r){return Bp(r)?(e.includes(r)||e.push(r),e.indexOf(r)):r};return JSON.stringify(n,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class EV{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const r=e.listeners[s],o=e.duration;r.forEach(a=>a({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=mT.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,c;for(;o>=0;--o)c=r[o],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,t,"progress")),r.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=r.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ri=new EV;const Wy="transparent",TV={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=My(n||Wy),s=i.valid&&My(t||Wy);return s&&s.valid?s.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class xV{constructor(t,e,i,s){const r=e[i];s=Lo([t.to,s,r,t.from]);const o=Lo([t.from,r,s]);this._active=!0,this._fn=t.fn||TV[t.type||typeof o],this._easing=na[t.easing]||na.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Lo([t.to,e,s,t.from]),this._from=Lo([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let c;if(this._active=r!==a&&(o||e<i),!this._active){this._target[s]=a,this._notify(!0);return}if(e<0){this._target[s]=r;return}c=e/i%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(r,a,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}}class OT{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!It(t))return;const e=Object.keys(Zt.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const r=t[s];if(!It(r))return;const o={};for(const a of e)o[a]=r[a];(Jt(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,o)})})}_animateOptions(t,e){const i=e.options,s=AV(t,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&IV(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,e){const i=this._properties,s=[],r=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();let c;for(c=o.length-1;c>=0;--c){const l=o[c];if(l.charAt(0)==="$")continue;if(l==="options"){s.push(...this._animateOptions(t,e));continue}const h=e[l];let d=r[l];const f=i.get(l);if(d)if(f&&d.active()){d.update(f,h,a);continue}else d.cancel();if(!f||!f.duration){t[l]=h;continue}r[l]=d=new xV(f,t,l,h),s.push(d)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return ri.add(this._chart,i),!0}}function IV(n,t){const e=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const r=n[i[s]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function AV(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function jy(n,t){const e=n&&n.options||{},i=e.reverse,s=e.min===void 0?t:0,r=e.max===void 0?t:0;return{start:i?r:s,end:i?s:r}}function SV(n,t,e){if(e===!1)return!1;const i=jy(n,e),s=jy(t,e);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function PV(n){let t,e,i,s;return It(n)?(t=n.top,e=n.right,i=n.bottom,s=n.left):t=e=i=s=n,{top:t,right:e,bottom:i,left:s,disabled:n===!1}}function LT(n,t){const e=[],i=n._getSortedDatasetMetas(t);let s,r;for(s=0,r=i.length;s<r;++s)e.push(i[s].index);return e}function $y(n,t,e,i={}){const s=n.keys,r=i.mode==="single";let o,a,c,l;if(t===null)return;let h=!1;for(o=0,a=s.length;o<a;++o){if(c=+s[o],c===e){if(h=!0,i.all)continue;break}l=n.values[c],oe(l)&&(r||t===0||Gn(t)===Gn(l))&&(t+=l)}return!h&&!i.all?0:t}function CV(n,t){const{iScale:e,vScale:i}=t,s=e.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length);let c,l,h;for(c=0,l=o.length;c<l;++c)h=o[c],a[c]={[s]:h,[r]:n[h]};return a}function Fh(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function RV(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function kV(n){const{min:t,max:e,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function DV(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function qy(n,t,e,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const r=n[s.index];if(e&&r>0||!e&&r<0)return s.index}return null}function Ky(n,t){const{chart:e,_cachedMeta:i}=n,s=e._stacks||(e._stacks={}),{iScale:r,vScale:o,index:a}=i,c=r.axis,l=o.axis,h=RV(r,o,i),d=t.length;let f;for(let g=0;g<d;++g){const _=t[g],{[c]:y,[l]:v}=_,I=_._stacks||(_._stacks={});f=I[l]=DV(s,h,y),f[a]=v,f._top=qy(f,o,!0,i.type),f._bottom=qy(f,o,!1,i.type);const A=f._visualValues||(f._visualValues={});A[a]=v}}function Bh(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function MV(n,t){return ys(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function OV(n,t,e){return ys(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function bo(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const s of t){const r=s._stacks;if(!r||r[i]===void 0||r[i][e]===void 0)return;delete r[i][e],r[i]._visualValues!==void 0&&r[i]._visualValues[e]!==void 0&&delete r[i]._visualValues[e]}}}const Uh=n=>n==="reset"||n==="none",Gy=(n,t)=>t?n:Object.assign({},n),LV=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:LT(e,!0),values:null};class Sn{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Fh(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&bo(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),s=(d,f,g,_)=>d==="x"?f:d==="r"?_:g,r=e.xAxisID=vt(i.xAxisID,Bh(t,"x")),o=e.yAxisID=vt(i.yAxisID,Bh(t,"y")),a=e.rAxisID=vt(i.rAxisID,Bh(t,"r")),c=e.indexAxis,l=e.iAxisID=s(c,r,o,a),h=e.vAxisID=s(c,o,r,a);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Ry(this._data,this),t._stacked&&bo(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(It(e)){const s=this._cachedMeta;this._data=CV(e,s)}else if(i!==e){if(i){Ry(i,this);const s=this._cachedMeta;bo(s),s._parsed=[]}e&&Object.isExtensible(e)&&vN(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=e._stacked;e._stacked=Fh(e.vScale,e),e.stack!==i.stack&&(s=!0,bo(e),e.stack=i.stack),this._resyncElements(t),(s||r!==e._stacked)&&(Ky(this,e._parsed),e._stacked=Fh(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis;let c=t===0&&e===s.length?!0:i._sorted,l=t>0&&i._parsed[t-1],h,d,f;if(this._parsing===!1)i._parsed=s,i._sorted=!0,f=s;else{Jt(s[t])?f=this.parseArrayData(i,s,t,e):It(s[t])?f=this.parseObjectData(i,s,t,e):f=this.parsePrimitiveData(i,s,t,e);const g=()=>d[a]===null||l&&d[a]<l[a];for(h=0;h<e;++h)i._parsed[h+t]=d=f[h],c&&(g()&&(c=!1),l=d);i._sorted=c}o&&Ky(this,f)}parsePrimitiveData(t,e,i,s){const{iScale:r,vScale:o}=t,a=r.axis,c=o.axis,l=r.getLabels(),h=r===o,d=new Array(s);let f,g,_;for(f=0,g=s;f<g;++f)_=f+i,d[f]={[a]:h||r.parse(l[_],_),[c]:o.parse(e[_],_)};return d}parseArrayData(t,e,i,s){const{xScale:r,yScale:o}=t,a=new Array(s);let c,l,h,d;for(c=0,l=s;c<l;++c)h=c+i,d=e[h],a[c]={x:r.parse(d[0],h),y:o.parse(d[1],h)};return a}parseObjectData(t,e,i,s){const{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,l=new Array(s);let h,d,f,g;for(h=0,d=s;h<d;++h)f=h+i,g=e[f],l[h]={x:r.parse(hs(g,a),f),y:o.parse(hs(g,c),f)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this.chart,r=this._cachedMeta,o=e[t.axis],a={keys:LT(s,!0),values:e._stacks[t.axis]._visualValues};return $y(a,o,r.index,{mode:i})}updateRangeFromParsed(t,e,i,s){const r=i[e.axis];let o=r===null?NaN:r;const a=s&&i._stacks[e.axis];s&&a&&(s.values=a,o=$y(s,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&t===i.iScale,o=s.length,a=this._getOtherScale(t),c=LV(e,i,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:d}=kV(a);let f,g;function _(){g=s[f];const y=g[a.axis];return!oe(g[t.axis])||h>y||d<y}for(f=0;f<o&&!(!_()&&(this.updateRangeFromParsed(l,t,g,c),r));++f);if(r){for(f=o-1;f>=0;--f)if(!_()){this.updateRangeFromParsed(l,t,g,c);break}}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=e.length;s<r;++s)o=e[s][t.axis],oe(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,s=e.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=PV(vt(this.options.clip,SV(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,s=i.data||[],r=e.chartArea,o=[],a=this._drawStart||0,c=this._drawCount||s.length-a,l=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(t,r,a,c),h=a;h<a+c;++h){const d=s[h];d.hidden||(d.active&&l?o.push(d):d.draw(t,r))}for(h=0;h<o.length;++h)o[h].draw(t,r)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const s=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=OV(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=s.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=MV(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const s=e==="active",r=this._cachedDataOpts,o=t+"-"+e,a=r[o],c=this.enableOptionSharing&&xa(i);if(a)return Gy(a,c);const l=this.chart.config,h=l.datasetElementScopeKeys(this._type,t),d=s?[`${t}Hover`,"hover",t,""]:[t,""],f=l.getOptionScopes(this.getDataset(),h),g=Object.keys(Zt.elements[t]),_=()=>this.getContext(i,s,e),y=l.resolveNamedOptions(f,g,_,d);return y.$shared&&(y.$shared=c,r[o]=Object.freeze(Gy(y,c))),y}_resolveAnimations(t,e,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${e}`,a=r[o];if(a)return a;let c;if(s.options.animation!==!1){const h=this.chart.config,d=h.datasetAnimationScopeKeys(this._type,e),f=h.getOptionScopes(this.getDataset(),d);c=h.createResolver(f,this.getContext(t,i,e))}const l=new OT(s,c&&c.animations);return c&&c._cacheable&&(r[o]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Uh(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(e,r)||r!==s;return this.updateSharedOptions(r,e,i),{sharedOptions:r,includeOptions:o}}updateElement(t,e,i,s){Uh(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!Uh(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,s){t.active=s;const r=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[a,c,l]of this._syncList)this[a](c,l);this._syncList=[];const s=i.length,r=e.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,t):r<s&&this._removeElements(r,s-r)}_insertElements(t,e,i=!0){const s=this._cachedMeta,r=s.data,o=t+e;let a;const c=l=>{for(l.length+=e,a=l.length-1;a>=o;a--)l[a]=l[a-e]};for(c(r),a=t;a<o;++a)r[a]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(t,e),i&&this.updateElements(r,t,e,"reset")}updateElements(t,e,i,s){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,e);i._stacked&&bo(i,s)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,s]=t;this[e](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}V(Sn,"defaults",{}),V(Sn,"datasetElementType",null),V(Sn,"dataElementType",null);function NV(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let s=0,r=e.length;s<r;s++)i=i.concat(e[s].controller.getAllParsedValues(n));n._cache.$bar=gT(i.sort((s,r)=>s-r))}return n._cache.$bar}function VV(n){const t=n.iScale,e=NV(t,n.type);let i=t._length,s,r,o,a;const c=()=>{o===32767||o===-32768||(xa(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=e.length;s<r;++s)o=t.getPixelForValue(e[s]),c();for(a=void 0,s=0,r=t.ticks.length;s<r;++s)o=t.getPixelForTick(s),c();return i}function FV(n,t,e,i){const s=e.barThickness;let r,o;return Et(s)?(r=t.min*e.categoryPercentage,o=e.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:t.pixels[n]-r/2}}function BV(n,t,e,i){const s=t.pixels,r=s[n];let o=n>0?s[n-1]:null,a=n<s.length-1?s[n+1]:null;const c=e.categoryPercentage;o===null&&(o=r-(a===null?t.end-t.start:a-r)),a===null&&(a=r+r-o);const l=r-(r-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/i,ratio:e.barPercentage,start:l}}function UV(n,t,e,i){const s=e.parse(n[0],i),r=e.parse(n[1],i),o=Math.min(s,r),a=Math.max(s,r);let c=o,l=a;Math.abs(o)>Math.abs(a)&&(c=a,l=o),t[e.axis]=l,t._custom={barStart:c,barEnd:l,start:s,end:r,min:o,max:a}}function NT(n,t,e,i){return Jt(n)?UV(n,t,e,i):t[e.axis]=e.parse(n,i),t}function Yy(n,t,e,i){const s=n.iScale,r=n.vScale,o=s.getLabels(),a=s===r,c=[];let l,h,d,f;for(l=e,h=e+i;l<h;++l)f=t[l],d={},d[s.axis]=a||s.parse(o[l],l),c.push(NT(f,d,r,l));return c}function Hh(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function HV(n,t,e){return n!==0?Gn(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function zV(n){let t,e,i,s,r;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(s="end",r="start"):(s="start",r="end"),{start:e,end:i,reverse:t,top:s,bottom:r}}function WV(n,t,e,i){let s=t.borderSkipped;const r={};if(!s){n.borderSkipped=r;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:c,top:l,bottom:h}=zV(n);s==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?s=l:(e._bottom||0)===i?s=h:(r[Qy(h,o,a,c)]=!0,s=l)),r[Qy(s,o,a,c)]=!0,n.borderSkipped=r}function Qy(n,t,e,i){return i?(n=jV(n,t,e),n=Xy(n,e,t)):n=Xy(n,t,e),n}function jV(n,t,e){return n===t?e:n===e?t:n}function Xy(n,t,e){return n==="start"?t:n==="end"?e:n}function $V(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class cl extends Sn{parsePrimitiveData(t,e,i,s){return Yy(t,e,i,s)}parseArrayData(t,e,i,s){return Yy(t,e,i,s)}parseObjectData(t,e,i,s){const{iScale:r,vScale:o}=t,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,l=r.axis==="x"?a:c,h=o.axis==="x"?a:c,d=[];let f,g,_,y;for(f=i,g=i+s;f<g;++f)y=e[f],_={},_[r.axis]=r.parse(hs(y,l),f),d.push(NT(hs(y,h),_,o,f));return d}updateRangeFromParsed(t,e,i,s){super.updateRangeFromParsed(t,e,i,s);const r=i._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:s}=e,r=this.getParsed(t),o=r._custom,a=Hh(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,c=a.getBasePixel(),l=a.isHorizontal(),h=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(e,s);for(let g=e;g<e+i;g++){const _=this.getParsed(g),y=r||Et(_[a.axis])?{base:c,head:c}:this._calculateBarValuePixels(g),v=this._calculateBarIndexPixels(g,h),I=(_._stacks||{})[a.axis],A={horizontal:l,base:y.base,enableBorderRadius:!I||Hh(_._custom)||o===I._top||o===I._bottom,x:l?y.head:v.center,y:l?v.center:y.head,height:l?v.size:Math.abs(y.size),width:l?Math.abs(y.size):v.size};f&&(A.options=d||this.resolveDataElementOptions(g,t[g].active?"active":s));const k=A.options||t[g].options;WV(A,k,I,o),$V(A,k,h.ratio),this.updateElement(t[g],g,A,s)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),r=i.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(e),c=a&&a[i.axis],l=h=>{const d=h._parsed.find(g=>g[i.axis]===c),f=d&&d[h.vScale.axis];if(Et(f)||isNaN(f))return!0};for(const h of s)if(!(e!==void 0&&l(h))&&((r===!1||o.indexOf(h.stack)===-1||r===void 0&&h.stack===void 0)&&o.push(h.stack),h.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const s=this._getStacks(t,i),r=e!==void 0?s.indexOf(e):-1;return r===-1?s.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,s=[];let r,o;for(r=0,o=e.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=t.barThickness;return{min:a||VV(e),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:s},options:{base:r,minBarLength:o}}=this,a=r||0,c=this.getParsed(t),l=c._custom,h=Hh(l);let d=c[e.axis],f=0,g=i?this.applyStack(e,c,i):d,_,y;g!==d&&(f=g-d,g=d),h&&(d=l.barStart,g=l.barEnd-l.barStart,d!==0&&Gn(d)!==Gn(l.barEnd)&&(f=0),f+=d);const v=!Et(r)&&!h?r:f;let I=e.getPixelForValue(v);if(this.chart.getDataVisibility(t)?_=e.getPixelForValue(f+g):_=I,y=_-I,Math.abs(y)<o){y=HV(y,e,a)*o,d===a&&(I-=y/2);const A=e.getPixelForDecimal(0),k=e.getPixelForDecimal(1),M=Math.min(A,k),N=Math.max(A,k);I=Math.max(Math.min(I,N),M),_=I+y,i&&!h&&(c._stacks[e.axis]._visualValues[s]=e.getValueForPixel(_)-e.getValueForPixel(I))}if(I===e.getPixelForValue(a)){const A=Gn(y)*e.getLineWidthForValue(a)/2;I+=A,y-=A}return{size:y,base:I,head:_,center:_+y/2}}_calculateBarIndexPixels(t,e){const i=e.scale,s=this.options,r=s.skipNull,o=vt(s.maxBarThickness,1/0);let a,c;if(e.grouped){const l=r?this._getStackCount(t):e.stackCount,h=s.barThickness==="flex"?BV(t,e,s,l):FV(t,e,s,l),d=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);a=h.start+h.chunk*d+h.chunk/2,c=Math.min(o,h.chunk*h.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),c=Math.min(o,e.min*e.ratio);return{base:a-c/2,head:a+c/2,center:a,size:c}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[e.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}V(cl,"id","bar"),V(cl,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),V(cl,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class ll extends Sn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,s){const r=super.parsePrimitiveData(t,e,i,s);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(t,e,i,s){const r=super.parseArrayData(t,e,i,s);for(let o=0;o<r.length;o++){const a=e[i+o];r[o]._custom=vt(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(t,e,i,s){const r=super.parseObjectData(t,e,i,s);for(let o=0;o<r.length;o++){const a=e[i+o];r[o]._custom=vt(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=e,o=this.getParsed(t),a=s.getLabelForValue(o.x),c=r.getLabelForValue(o.y),l=o._custom;return{label:i[t]||"",value:"("+a+", "+c+(l?", "+l:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,s){const r=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:c,includeOptions:l}=this._getSharedOptions(e,s),h=o.axis,d=a.axis;for(let f=e;f<e+i;f++){const g=t[f],_=!r&&this.getParsed(f),y={},v=y[h]=r?o.getPixelForDecimal(.5):o.getPixelForValue(_[h]),I=y[d]=r?a.getBasePixel():a.getPixelForValue(_[d]);y.skip=isNaN(v)||isNaN(I),l&&(y.options=c||this.resolveDataElementOptions(f,g.active?"active":s),r&&(y.options.radius=0)),this.updateElement(g,f,y,s)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,e);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return e!=="active"&&(s.radius=0),s.radius+=vt(i&&i._custom,r),s}}V(ll,"id","bubble"),V(ll,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),V(ll,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function qV(n,t,e){let i=1,s=1,r=0,o=0;if(t<Qt){const a=n,c=a+t,l=Math.cos(a),h=Math.sin(a),d=Math.cos(c),f=Math.sin(c),g=(k,M,N)=>Ia(k,a,c,!0)?1:Math.max(M,M*e,N,N*e),_=(k,M,N)=>Ia(k,a,c,!0)?-1:Math.min(M,M*e,N,N*e),y=g(0,l,d),v=g(ue,h,f),I=_(Xt,l,d),A=_(Xt+ue,h,f);i=(y-I)/2,s=(v-A)/2,r=-(y+I)/2,o=-(v+A)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}class Ns extends Sn{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=c=>+i[c];if(It(i[t])){const{key:c="value"}=this._parsing;r=l=>+hs(i[l],c)}let o,a;for(o=t,a=t+e;o<a;++o)s._parsed[o]=r(o)}}_getRotation(){return xn(this.options.rotation-90)}_getCircumference(){return xn(this.options.circumference)}_getRotationExtents(){let t=Qt,e=-Qt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),o=s._getCircumference();t=Math.min(t,r),e=Math.max(e,r+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),c=Math.min(rN(this.options.cutout,a),1),l=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:g,offsetX:_,offsetY:y}=qV(d,h,c),v=(i.width-o)/f,I=(i.height-o)/g,A=Math.max(Math.min(v,I)/2,0),k=uT(this.options.radius,A),M=Math.max(k*c,0),N=(k-M)/this._getVisibleDatasetWeightTotal();this.offsetX=_*k,this.offsetY=y*k,s.total=this.calculateTotal(),this.outerRadius=k-N*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-N*l,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*r/Qt)}updateElements(t,e,i,s){const r=s==="reset",o=this.chart,a=o.chartArea,l=o.options.animation,h=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=r&&l.animateScale,g=f?0:this.innerRadius,_=f?0:this.outerRadius,{sharedOptions:y,includeOptions:v}=this._getSharedOptions(e,s);let I=this._getRotation(),A;for(A=0;A<e;++A)I+=this._circumference(A,r);for(A=e;A<e+i;++A){const k=this._circumference(A,r),M=t[A],N={x:h+this.offsetX,y:d+this.offsetY,startAngle:I,endAngle:I+k,circumference:k,outerRadius:_,innerRadius:g};v&&(N.options=y||this.resolveDataElementOptions(A,M.active?"active":s)),I+=k,this.updateElement(M,A,N,s)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,s;for(s=0;s<e.length;s++){const r=t._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!e[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Qt*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Xa(e._parsed[t],i.options.locale);return{label:s[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const i=this.chart;let s,r,o,a,c;if(!t){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),t=o.data,a=o.controller;break}}if(!t)return 0;for(s=0,r=t.length;s<r;++s)c=a.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(e=Math.max(e,c.borderWidth||0,c.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,s=t.length;i<s;++i){const r=this.resolveDataElementOptions(i);e=Math.max(e,r.offset||0,r.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(vt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}V(Ns,"id","doughnut"),V(Ns,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),V(Ns,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),V(Ns,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map((r,o)=>{const c=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class ul extends Sn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=e,o=this.chart._animationsDisabled;let{start:a,count:c}=yT(e,s,o);this._drawStart=a,this._drawCount=c,bT(e)&&(a=0,c=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:l},t),this.updateElements(s,a,c,t)}updateElements(t,e,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:c,_dataset:l}=this._cachedMeta,{sharedOptions:h,includeOptions:d}=this._getSharedOptions(e,s),f=o.axis,g=a.axis,{spanGaps:_,segment:y}=this.options,v=jr(_)?_:Number.POSITIVE_INFINITY,I=this.chart._animationsDisabled||r||s==="none",A=e+i,k=t.length;let M=e>0&&this.getParsed(e-1);for(let N=0;N<k;++N){const B=t[N],T=I?B:{};if(N<e||N>=A){T.skip=!0;continue}const b=this.getParsed(N),E=Et(b[g]),x=T[f]=o.getPixelForValue(b[f],N),C=T[g]=r||E?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,b,c):b[g],N);T.skip=isNaN(x)||isNaN(C)||E,T.stop=N>0&&Math.abs(b[f]-M[f])>v,y&&(T.parsed=b,T.raw=l.data[N]),d&&(T.options=h||this.resolveDataElementOptions(N,B.active?"active":s)),I||this.updateElement(B,N,T,s),M=b}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}V(ul,"id","line"),V(ul,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),V(ul,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class sa extends Sn{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Xa(e._parsed[t].r,i.options.locale);return{label:s[t]||"",value:r}}parseObjectData(t,e,i,s){return ST.bind(this)(t,e,i,s)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<e.min&&(e.min=r),r>e.max&&(e.max=r))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,s=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(s/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/t.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,e,i,s){const r=s==="reset",o=this.chart,c=o.options.animation,l=this._cachedMeta.rScale,h=l.xCenter,d=l.yCenter,f=l.getIndexAngle(0)-.5*Xt;let g=f,_;const y=360/this.countVisibleElements();for(_=0;_<e;++_)g+=this._computeAngle(_,s,y);for(_=e;_<e+i;_++){const v=t[_];let I=g,A=g+this._computeAngle(_,s,y),k=o.getDataVisibility(_)?l.getDistanceFromCenterForValue(this.getParsed(_).r):0;g=A,r&&(c.animateScale&&(k=0),c.animateRotate&&(I=A=f));const M={x:h,y:d,innerRadius:0,outerRadius:k,startAngle:I,endAngle:A,options:this.resolveDataElementOptions(_,v.active?"active":s)};this.updateElement(v,_,M,s)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?xn(this.resolveDataElementOptions(t,e).angle||i):0}}V(sa,"id","polarArea"),V(sa,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),V(sa,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map((r,o)=>{const c=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class zd extends Ns{}V(zd,"id","pie"),V(zd,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class hl extends Sn{getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,s){return ST.bind(this)(t,e,i,s)}update(t){const e=this._cachedMeta,i=e.dataset,s=e.data||[],r=e.iScale.getLabels();if(i.points=s,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===s.length,options:o};this.updateElement(i,void 0,a,t)}this.updateElements(s,0,s.length,t)}updateElements(t,e,i,s){const r=this._cachedMeta.rScale,o=s==="reset";for(let a=e;a<e+i;a++){const c=t[a],l=this.resolveDataElementOptions(a,c.active?"active":s),h=r.getPointPositionForValue(a,this.getParsed(a).r),d=o?r.xCenter:h.x,f=o?r.yCenter:h.y,g={x:d,y:f,angle:h.angle,skip:isNaN(d)||isNaN(f),options:l};this.updateElement(c,a,g,s)}}}V(hl,"id","radar"),V(hl,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),V(hl,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class dl extends Sn{getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=e,o=this.getParsed(t),a=s.getLabelForValue(o.x),c=r.getLabelForValue(o.y);return{label:i[t]||"",value:"("+a+", "+c+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,s=this.chart._animationsDisabled;let{start:r,count:o}=yT(e,i,s);if(this._drawStart=r,this._drawCount=o,bT(e)&&(r=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:c}=e;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!c._decimated,a.points=i;const l=this.resolveDatasetElementOptions(t);l.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:l},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,r,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:c,_dataset:l}=this._cachedMeta,h=this.resolveDataElementOptions(e,s),d=this.getSharedOptions(h),f=this.includeOptions(s,d),g=o.axis,_=a.axis,{spanGaps:y,segment:v}=this.options,I=jr(y)?y:Number.POSITIVE_INFINITY,A=this.chart._animationsDisabled||r||s==="none";let k=e>0&&this.getParsed(e-1);for(let M=e;M<e+i;++M){const N=t[M],B=this.getParsed(M),T=A?N:{},b=Et(B[_]),E=T[g]=o.getPixelForValue(B[g],M),x=T[_]=r||b?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,B,c):B[_],M);T.skip=isNaN(E)||isNaN(x)||b,T.stop=M>0&&Math.abs(B[g]-k[g])>I,v&&(T.parsed=B,T.raw=l.data[M]),f&&(T.options=d||this.resolveDataElementOptions(M,N.active?"active":s)),A||this.updateElement(N,M,T,s),k=B}this.updateSharedOptions(d,s,h)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let a=0;for(let c=e.length-1;c>=0;--c)a=Math.max(a,e[c].size(this.resolveDataElementOptions(c))/2);return a>0&&a}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!e.length)return s;const r=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(s,r,o)/2}}V(dl,"id","scatter"),V(dl,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),V(dl,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var KV=Object.freeze({__proto__:null,BarController:cl,BubbleController:ll,DoughnutController:Ns,LineController:ul,PieController:zd,PolarAreaController:sa,RadarController:hl,ScatterController:dl});function Ss(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class qp{constructor(t){V(this,"options");this.options=t||{}}static override(t){Object.assign(qp.prototype,t)}init(){}formats(){return Ss()}parse(){return Ss()}format(){return Ss()}add(){return Ss()}diff(){return Ss()}startOf(){return Ss()}endOf(){return Ss()}}var VT={_date:qp};function GV(n,t,e,i){const{controller:s,data:r,_sorted:o}=n,a=s._cachedMeta.iScale,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&r.length){const l=a._reversePixels?yN:mi;if(i){if(s._sharedOptions){const h=r[0],d=typeof h.getRange=="function"&&h.getRange(t);if(d){const f=l(r,t,e-d),g=l(r,t,e+d);return{lo:f.lo,hi:g.hi}}}}else{const h=l(r,t,e);if(c){const{vScale:d}=s._cachedMeta,{_parsed:f}=n,g=f.slice(0,h.lo+1).reverse().findIndex(y=>!Et(y[d.axis]));h.lo-=Math.max(0,g);const _=f.slice(h.hi).findIndex(y=>!Et(y[d.axis]));h.hi+=Math.max(0,_)}return h}}return{lo:0,hi:r.length-1}}function ju(n,t,e,i,s){const r=n.getSortedVisibleDatasetMetas(),o=e[t];for(let a=0,c=r.length;a<c;++a){const{index:l,data:h}=r[a],{lo:d,hi:f}=GV(r[a],t,o,s);for(let g=d;g<=f;++g){const _=h[g];_.skip||i(_,l,g)}}}function YV(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,s){const r=t?Math.abs(i.x-s.x):0,o=e?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function zh(n,t,e,i,s){const r=[];return!s&&!n.isPointInArea(t)||ju(n,e,t,function(a,c,l){!s&&!_i(a,n.chartArea,0)||a.inRange(t.x,t.y,i)&&r.push({element:a,datasetIndex:c,index:l})},!0),r}function QV(n,t,e,i){let s=[];function r(o,a,c){const{startAngle:l,endAngle:h}=o.getProps(["startAngle","endAngle"],i),{angle:d}=fT(o,{x:t.x,y:t.y});Ia(d,l,h)&&s.push({element:o,datasetIndex:a,index:c})}return ju(n,e,t,r),s}function XV(n,t,e,i,s,r){let o=[];const a=YV(e);let c=Number.POSITIVE_INFINITY;function l(h,d,f){const g=h.inRange(t.x,t.y,s);if(i&&!g)return;const _=h.getCenterPoint(s);if(!(!!r||n.isPointInArea(_))&&!g)return;const v=a(t,_);v<c?(o=[{element:h,datasetIndex:d,index:f}],c=v):v===c&&o.push({element:h,datasetIndex:d,index:f})}return ju(n,e,t,l),o}function Wh(n,t,e,i,s,r){return!r&&!n.isPointInArea(t)?[]:e==="r"&&!i?QV(n,t,e,s):XV(n,t,e,i,s,r)}function Jy(n,t,e,i,s){const r=[],o=e==="x"?"inXRange":"inYRange";let a=!1;return ju(n,e,t,(c,l,h)=>{c[o]&&c[o](t[e],s)&&(r.push({element:c,datasetIndex:l,index:h}),a=a||c.inRange(t.x,t.y,s))}),i&&!a?[]:r}var JV={modes:{index(n,t,e,i){const s=ks(t,n),r=e.axis||"x",o=e.includeInvisible||!1,a=e.intersect?zh(n,s,r,i,o):Wh(n,s,r,!1,i,o),c=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(l=>{const h=a[0].index,d=l.data[h];d&&!d.skip&&c.push({element:d,datasetIndex:l.index,index:h})}),c):[]},dataset(n,t,e,i){const s=ks(t,n),r=e.axis||"xy",o=e.includeInvisible||!1;let a=e.intersect?zh(n,s,r,i,o):Wh(n,s,r,!1,i,o);if(a.length>0){const c=a[0].datasetIndex,l=n.getDatasetMeta(c).data;a=[];for(let h=0;h<l.length;++h)a.push({element:l[h],datasetIndex:c,index:h})}return a},point(n,t,e,i){const s=ks(t,n),r=e.axis||"xy",o=e.includeInvisible||!1;return zh(n,s,r,i,o)},nearest(n,t,e,i){const s=ks(t,n),r=e.axis||"xy",o=e.includeInvisible||!1;return Wh(n,s,r,e.intersect,i,o)},x(n,t,e,i){const s=ks(t,n);return Jy(n,s,"x",e.intersect,i)},y(n,t,e,i){const s=ks(t,n);return Jy(n,s,"y",e.intersect,i)}}};const FT=["left","top","right","bottom"];function vo(n,t){return n.filter(e=>e.pos===t)}function Zy(n,t){return n.filter(e=>FT.indexOf(e.pos)===-1&&e.box.axis===t)}function wo(n,t){return n.sort((e,i)=>{const s=t?i:e,r=t?e:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function ZV(n){const t=[];let e,i,s,r,o,a;for(e=0,i=(n||[]).length;e<i;++e)s=n[e],{position:r,options:{stack:o,stackWeight:a=1}}=s,t.push({index:e,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return t}function t2(n){const t={};for(const e of n){const{stack:i,pos:s,stackWeight:r}=e;if(!i||!FT.includes(s))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function e2(n,t){const e=t2(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let r,o,a;for(r=0,o=n.length;r<o;++r){a=n[r];const{fullSize:c}=a.box,l=e[a.stack],h=l&&a.stackWeight/l.weight;a.horizontal?(a.width=h?h*i:c&&t.availableWidth,a.height=s):(a.width=i,a.height=h?h*s:c&&t.availableHeight)}return e}function n2(n){const t=ZV(n),e=wo(t.filter(l=>l.box.fullSize),!0),i=wo(vo(t,"left"),!0),s=wo(vo(t,"right")),r=wo(vo(t,"top"),!0),o=wo(vo(t,"bottom")),a=Zy(t,"x"),c=Zy(t,"y");return{fullSize:e,leftAndTop:i.concat(r),rightAndBottom:s.concat(c).concat(o).concat(a),chartArea:vo(t,"chartArea"),vertical:i.concat(s).concat(c),horizontal:r.concat(o).concat(a)}}function tb(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function BT(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function i2(n,t,e,i){const{pos:s,box:r}=e,o=n.maxPadding;if(!It(s)){e.size&&(n[s]-=e.size);const d=i[e.stack]||{size:0,count:1};d.size=Math.max(d.size,e.horizontal?r.height:r.width),e.size=d.size/d.count,n[s]+=e.size}r.getPadding&&BT(o,r.getPadding());const a=Math.max(0,t.outerWidth-tb(o,n,"left","right")),c=Math.max(0,t.outerHeight-tb(o,n,"top","bottom")),l=a!==n.w,h=c!==n.h;return n.w=a,n.h=c,e.horizontal?{same:l,other:h}:{same:h,other:l}}function s2(n){const t=n.maxPadding;function e(i){const s=Math.max(t[i]-n[i],0);return n[i]+=s,s}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function r2(n,t){const e=t.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(t[o],e[o])}),r}return i(n?["left","right"]:["top","bottom"])}function No(n,t,e,i){const s=[];let r,o,a,c,l,h;for(r=0,o=n.length,l=0;r<o;++r){a=n[r],c=a.box,c.update(a.width||t.w,a.height||t.h,r2(a.horizontal,t));const{same:d,other:f}=i2(t,e,a,i);l|=d&&s.length,h=h||f,c.fullSize||s.push(a)}return l&&No(s,t,e,i)||h}function Dc(n,t,e,i,s){n.top=e,n.left=t,n.right=t+i,n.bottom=e+s,n.width=i,n.height=s}function eb(n,t,e,i){const s=e.padding;let{x:r,y:o}=t;for(const a of n){const c=a.box,l=i[a.stack]||{placed:0,weight:1},h=a.stackWeight/l.weight||1;if(a.horizontal){const d=t.w*h,f=l.size||c.height;xa(l.start)&&(o=l.start),c.fullSize?Dc(c,s.left,o,e.outerWidth-s.right-s.left,f):Dc(c,t.left+l.placed,o,d,f),l.start=o,l.placed+=d,o=c.bottom}else{const d=t.h*h,f=l.size||c.width;xa(l.start)&&(r=l.start),c.fullSize?Dc(c,r,s.top,f,e.outerHeight-s.bottom-s.top):Dc(c,r,t.top+l.placed,f,d),l.start=r,l.placed+=d,r=c.right}}t.x=r,t.y=o}var ze={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const s=qe(n.options.layout.padding),r=Math.max(t-s.width,0),o=Math.max(e-s.height,0),a=n2(n.boxes),c=a.vertical,l=a.horizontal;Ht(n.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const h=c.reduce((y,v)=>v.box.options&&v.box.options.display===!1?y:y+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/h,hBoxMaxHeight:o/2}),f=Object.assign({},s);BT(f,qe(i));const g=Object.assign({maxPadding:f,w:r,h:o,x:s.left,y:s.top},s),_=e2(c.concat(l),d);No(a.fullSize,g,d,_),No(c,g,d,_),No(l,g,d,_)&&No(c,g,d,_),s2(g),eb(a.leftAndTop,g,d,_),g.x+=g.w,g.y+=g.h,eb(a.rightAndBottom,g,d,_),n.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},Ht(a.chartArea,y=>{const v=y.box;Object.assign(v,n.chartArea),v.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class UT{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class o2 extends UT{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const fl="$chartjs",a2={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},nb=n=>n===null||n==="";function c2(n,t){const e=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[fl]={initial:{height:i,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",nb(s)){const r=By(n,"width");r!==void 0&&(n.width=r)}if(nb(i))if(n.style.height==="")n.height=n.width/(t||2);else{const r=By(n,"height");r!==void 0&&(n.height=r)}return n}const HT=hV?{passive:!0}:!1;function l2(n,t,e){n&&n.addEventListener(t,e,HT)}function u2(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,HT)}function h2(n,t){const e=a2[n.type]||n.type,{x:i,y:s}=ks(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Xl(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function d2(n,t,e){const i=n.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Xl(a.addedNodes,i),o=o&&!Xl(a.removedNodes,i);o&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function f2(n,t,e){const i=n.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Xl(a.removedNodes,i),o=o&&!Xl(a.addedNodes,i);o&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}const Sa=new Map;let ib=0;function zT(){const n=window.devicePixelRatio;n!==ib&&(ib=n,Sa.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function p2(n,t){Sa.size||window.addEventListener("resize",zT),Sa.set(n,t)}function g2(n){Sa.delete(n),Sa.size||window.removeEventListener("resize",zT)}function m2(n,t,e){const i=n.canvas,s=i&&$p(i);if(!s)return;const r=_T((a,c)=>{const l=s.clientWidth;e(a,c),l<s.clientWidth&&e()},window),o=new ResizeObserver(a=>{const c=a[0],l=c.contentRect.width,h=c.contentRect.height;l===0&&h===0||r(l,h)});return o.observe(s),p2(n,r),o}function jh(n,t,e){e&&e.disconnect(),t==="resize"&&g2(n)}function _2(n,t,e){const i=n.canvas,s=_T(r=>{n.ctx!==null&&e(h2(r,n))},n);return l2(i,t,s),s}class y2 extends UT{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(c2(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[fl])return!1;const i=e[fl].initial;["height","width"].forEach(r=>{const o=i[r];Et(o)?e.removeAttribute(r):e.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{e.style[r]=s[r]}),e.width=e.width,delete e[fl],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),o={attach:d2,detach:f2,resize:m2}[e]||_2;s[e]=o(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:jh,detach:jh,resize:jh}[e]||u2)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return uV(t,e,i,s)}isAttached(t){const e=t&&$p(t);return!!(e&&e.isConnected)}}function b2(n){return!jp()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?o2:y2}var Hc;let Ci=(Hc=class{constructor(){V(this,"x");V(this,"y");V(this,"active",!1);V(this,"options");V(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return jr(this.x)&&jr(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}},V(Hc,"defaults",{}),V(Hc,"defaultRoutes"),Hc);function v2(n,t){const e=n.options.ticks,i=w2(n),s=Math.min(e.maxTicksLimit||i,i),r=e.major.enabled?T2(t):[],o=r.length,a=r[0],c=r[o-1],l=[];if(o>s)return x2(t,l,r,o/s),l;const h=E2(r,t,s);if(o>0){let d,f;const g=o>1?Math.round((c-a)/(o-1)):null;for(Mc(t,l,h,Et(g)?0:a-g,a),d=0,f=o-1;d<f;d++)Mc(t,l,h,r[d],r[d+1]);return Mc(t,l,h,c,Et(g)?t.length:c+g),l}return Mc(t,l,h),l}function w2(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),s=n._maxLength/e;return Math.floor(Math.min(i,s))}function E2(n,t,e){const i=I2(n),s=t.length/e;if(!i)return Math.max(s,1);const r=fN(i);for(let o=0,a=r.length-1;o<a;o++){const c=r[o];if(c>s)return c}return Math.max(s,1)}function T2(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function x2(n,t,e,i){let s=0,r=e[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===r&&(t.push(n[o]),s++,r=e[s*i])}function Mc(n,t,e,i,s){const r=vt(i,0),o=Math.min(vt(s,n.length),n.length);let a=0,c,l,h;for(e=Math.ceil(e),s&&(c=s-i,e=c/Math.floor(c/e)),h=r;h<0;)a++,h=Math.round(r+a*e);for(l=Math.max(r,0);l<o;l++)l===h&&(t.push(n[l]),a++,h=Math.round(r+a*e))}function I2(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const A2=n=>n==="left"?"right":n==="right"?"left":n,sb=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,rb=(n,t)=>Math.min(t||n,n);function ob(n,t){const e=[],i=n.length/t,s=n.length;let r=0;for(;r<s;r+=i)e.push(n[Math.floor(r)]);return e}function S2(n,t,e){const i=n.ticks.length,s=Math.min(t,i-1),r=n._startPixel,o=n._endPixel,a=1e-6;let c=n.getPixelForTick(s),l;if(!(e&&(i===1?l=Math.max(c-r,o-c):t===0?l=(n.getPixelForTick(1)-c)/2:l=(c-n.getPixelForTick(s-1))/2,c+=s<t?l:-l,c<r-a||c>o+a)))return c}function P2(n,t){Ht(n,e=>{const i=e.gc,s=i.length/2;let r;if(s>t){for(r=0;r<s;++r)delete e.data[i[r]];i.splice(0,s)}})}function Eo(n){return n.drawTicks?n.tickLength:0}function ab(n,t){if(!n.display)return 0;const e=me(n.font,t),i=qe(n.padding);return(Jt(n.text)?n.text.length:1)*e.lineHeight+i.height}function C2(n,t){return ys(n,{scale:t,type:"scale"})}function R2(n,t,e){return ys(n,{tick:e,index:t,type:"tick"})}function k2(n,t,e){let i=Fp(n);return(e&&t!=="right"||!e&&t==="right")&&(i=A2(i)),i}function D2(n,t,e,i){const{top:s,left:r,bottom:o,right:a,chart:c}=n,{chartArea:l,scales:h}=c;let d=0,f,g,_;const y=o-s,v=a-r;if(n.isHorizontal()){if(g=Ne(i,r,a),It(e)){const I=Object.keys(e)[0],A=e[I];_=h[I].getPixelForValue(A)+y-t}else e==="center"?_=(l.bottom+l.top)/2+y-t:_=sb(n,e,t);f=a-r}else{if(It(e)){const I=Object.keys(e)[0],A=e[I];g=h[I].getPixelForValue(A)-v+t}else e==="center"?g=(l.left+l.right)/2-v+t:g=sb(n,e,t);_=Ne(i,o,s),d=e==="left"?-ue:ue}return{titleX:g,titleY:_,maxWidth:f,rotation:d}}class nr extends Ci{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=cn(t,Number.POSITIVE_INFINITY),e=cn(e,Number.NEGATIVE_INFINITY),i=cn(i,Number.POSITIVE_INFINITY),s=cn(s,Number.NEGATIVE_INFINITY),{min:cn(t,i),max:cn(e,s),minDefined:oe(t),maxDefined:oe(e)}}getMinMax(t){let{min:e,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:e,max:i};const a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)o=a[c].controller.getMinMax(this,t),s||(e=Math.min(e,o.min)),r||(i=Math.max(i,o.max));return e=r&&e>i?i:e,i=s&&e>i?e:i,{min:cn(e,cn(i,e)),max:cn(i,cn(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){$t(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=zN(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?ob(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=v2(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){$t(this.options.afterUpdate,[this])}beforeSetDimensions(){$t(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){$t(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),$t(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){$t(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i],r.label=$t(e.callback,[r.value,i,t],this)}afterTickToLabelConversion(){$t(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){$t(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=rb(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,r=e.maxRotation;let o=s,a,c,l;if(!this._isVisible()||!e.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const h=this._getLabelSizes(),d=h.widest.width,f=h.highest.height,g=we(this.chart.width-d,0,this.maxWidth);a=t.offset?this.maxWidth/i:g/(i-1),d+6>a&&(a=g/(i-(t.offset?.5:1)),c=this.maxHeight-Eo(t.grid)-e.padding-ab(t.title,this.chart.options.font),l=Math.sqrt(d*d+f*f),o=Np(Math.min(Math.asin(we((h.highest.height+6)/a,-1,1)),Math.asin(we(c/l,-1,1))-Math.asin(we(f/l,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){$t(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){$t(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const c=ab(s,e.options.font);if(a?(t.width=this.maxWidth,t.height=Eo(r)+c):(t.height=this.maxHeight,t.width=Eo(r)+c),i.display&&this.ticks.length){const{first:l,last:h,widest:d,highest:f}=this._getLabelSizes(),g=i.padding*2,_=xn(this.labelRotation),y=Math.cos(_),v=Math.sin(_);if(a){const I=i.mirror?0:v*d.width+y*f.height;t.height=Math.min(this.maxHeight,t.height+I+g)}else{const I=i.mirror?0:y*d.width+v*f.height;t.width=Math.min(this.maxWidth,t.width+I+g)}this._calculatePadding(l,h,v,y)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,c=this.labelRotation!==0,l=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,g=0;c?l?(f=s*t.width,g=i*e.height):(f=i*t.height,g=s*e.width):r==="start"?g=e.width:r==="end"?f=t.width:r!=="inner"&&(f=t.width/2,g=e.width/2),this.paddingLeft=Math.max((f-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((g-d+o)*this.width/(this.width-d),0)}else{let h=e.height/2,d=t.height/2;r==="start"?(h=0,d=t.height):r==="end"&&(h=e.height,d=0),this.paddingTop=h+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){$t(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Et(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=ob(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:s,_longestTextCache:r}=this,o=[],a=[],c=Math.floor(e/rb(e,i));let l=0,h=0,d,f,g,_,y,v,I,A,k,M,N;for(d=0;d<e;d+=c){if(_=t[d].label,y=this._resolveTickFontOptions(d),s.font=v=y.string,I=r[v]=r[v]||{data:{},gc:[]},A=y.lineHeight,k=M=0,!Et(_)&&!Jt(_))k=Yl(s,I.data,I.gc,k,_),M=A;else if(Jt(_))for(f=0,g=_.length;f<g;++f)N=_[f],!Et(N)&&!Jt(N)&&(k=Yl(s,I.data,I.gc,k,N),M+=A);o.push(k),a.push(M),l=Math.max(k,l),h=Math.max(M,h)}P2(r,e);const B=o.indexOf(l),T=a.indexOf(h),b=E=>({width:o[E]||0,height:a[E]||0});return{first:b(0),last:b(e-1),widest:b(B),highest:b(T),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return _N(this._alignToPixels?As(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=R2(this.getContext(),t,i))}return this.$context||(this.$context=C2(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=xn(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,c=r?r.highest.height+o:0;return this.isHorizontal()?c*i>a*s?a/i:c/s:c*s<a*i?c/i:a/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:a}=s,c=r.offset,l=this.isHorizontal(),d=this.ticks.length+(c?1:0),f=Eo(r),g=[],_=a.setContext(this.getContext()),y=_.display?_.width:0,v=y/2,I=function(ft){return As(i,ft,y)};let A,k,M,N,B,T,b,E,x,C,D,S;if(o==="top")A=I(this.bottom),T=this.bottom-f,E=A-v,C=I(t.top)+v,S=t.bottom;else if(o==="bottom")A=I(this.top),C=t.top,S=I(t.bottom)-v,T=A+v,E=this.top+f;else if(o==="left")A=I(this.right),B=this.right-f,b=A-v,x=I(t.left)+v,D=t.right;else if(o==="right")A=I(this.left),x=t.left,D=I(t.right)-v,B=A+v,b=this.left+f;else if(e==="x"){if(o==="center")A=I((t.top+t.bottom)/2+.5);else if(It(o)){const ft=Object.keys(o)[0],it=o[ft];A=I(this.chart.scales[ft].getPixelForValue(it))}C=t.top,S=t.bottom,T=A+v,E=T+f}else if(e==="y"){if(o==="center")A=I((t.left+t.right)/2);else if(It(o)){const ft=Object.keys(o)[0],it=o[ft];A=I(this.chart.scales[ft].getPixelForValue(it))}B=A-v,b=B-f,x=t.left,D=t.right}const Ct=vt(s.ticks.maxTicksLimit,d),wt=Math.max(1,Math.ceil(d/Ct));for(k=0;k<d;k+=wt){const ft=this.getContext(k),it=r.setContext(ft),lt=a.setContext(ft),Mt=it.lineWidth,be=it.color,Ee=lt.dash||[],Ot=lt.dashOffset,Bt=it.tickWidth,Ce=it.tickColor,Re=it.tickBorderDash||[],se=it.tickBorderDashOffset;M=S2(this,k,c),M!==void 0&&(N=As(i,M,Mt),l?B=b=x=D=N:T=E=C=S=N,g.push({tx1:B,ty1:T,tx2:b,ty2:E,x1:x,y1:C,x2:D,y2:S,width:Mt,color:be,borderDash:Ee,borderDashOffset:Ot,tickWidth:Bt,tickColor:Ce,tickBorderDash:Re,tickBorderDashOffset:se}))}return this._ticksLength=d,this._borderValue=A,g}_computeLabelItems(t){const e=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:h,mirror:d}=r,f=Eo(i.grid),g=f+h,_=d?-h:g,y=-xn(this.labelRotation),v=[];let I,A,k,M,N,B,T,b,E,x,C,D,S="middle";if(s==="top")B=this.bottom-_,T=this._getXAxisLabelAlignment();else if(s==="bottom")B=this.top+_,T=this._getXAxisLabelAlignment();else if(s==="left"){const wt=this._getYAxisLabelAlignment(f);T=wt.textAlign,N=wt.x}else if(s==="right"){const wt=this._getYAxisLabelAlignment(f);T=wt.textAlign,N=wt.x}else if(e==="x"){if(s==="center")B=(t.top+t.bottom)/2+g;else if(It(s)){const wt=Object.keys(s)[0],ft=s[wt];B=this.chart.scales[wt].getPixelForValue(ft)+g}T=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")N=(t.left+t.right)/2-g;else if(It(s)){const wt=Object.keys(s)[0],ft=s[wt];N=this.chart.scales[wt].getPixelForValue(ft)}T=this._getYAxisLabelAlignment(f).textAlign}e==="y"&&(c==="start"?S="top":c==="end"&&(S="bottom"));const Ct=this._getLabelSizes();for(I=0,A=a.length;I<A;++I){k=a[I],M=k.label;const wt=r.setContext(this.getContext(I));b=this.getPixelForTick(I)+r.labelOffset,E=this._resolveTickFontOptions(I),x=E.lineHeight,C=Jt(M)?M.length:1;const ft=C/2,it=wt.color,lt=wt.textStrokeColor,Mt=wt.textStrokeWidth;let be=T;o?(N=b,T==="inner"&&(I===A-1?be=this.options.reverse?"left":"right":I===0?be=this.options.reverse?"right":"left":be="center"),s==="top"?l==="near"||y!==0?D=-C*x+x/2:l==="center"?D=-Ct.highest.height/2-ft*x+x:D=-Ct.highest.height+x/2:l==="near"||y!==0?D=x/2:l==="center"?D=Ct.highest.height/2-ft*x:D=Ct.highest.height-C*x,d&&(D*=-1),y!==0&&!wt.showLabelBackdrop&&(N+=x/2*Math.sin(y))):(B=b,D=(1-C)*x/2);let Ee;if(wt.showLabelBackdrop){const Ot=qe(wt.backdropPadding),Bt=Ct.heights[I],Ce=Ct.widths[I];let Re=D-Ot.top,se=0-Ot.left;switch(S){case"middle":Re-=Bt/2;break;case"bottom":Re-=Bt;break}switch(T){case"center":se-=Ce/2;break;case"right":se-=Ce;break;case"inner":I===A-1?se-=Ce:I>0&&(se-=Ce/2);break}Ee={left:se,top:Re,width:Ce+Ot.width,height:Bt+Ot.height,color:wt.backdropColor}}v.push({label:M,font:E,textOffset:D,options:{rotation:y,color:it,strokeColor:lt,strokeWidth:Mt,textAlign:be,textBaseline:S,translation:[N,B],backdrop:Ee}})}return v}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-xn(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,c=o.widest.width;let l,h;return e==="left"?s?(h=this.right+r,i==="near"?l="left":i==="center"?(l="center",h+=c/2):(l="right",h+=c)):(h=this.right-a,i==="near"?l="right":i==="center"?(l="center",h-=c/2):(l="left",h=this.left)):e==="right"?s?(h=this.left+r,i==="near"?l="right":i==="center"?(l="center",h-=c/2):(l="left",h-=c)):(h=this.left+a,i==="near"?l="left":i==="center"?(l="center",h+=c/2):(l="right",h=this.right)):l="right",{textAlign:l,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:r,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,r,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex(r=>r.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const a=(c,l,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(l.x,l.y),i.stroke(),i.restore())};if(e.display)for(r=0,o=s.length;r<o;++r){const c=s[r];e.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),e.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let l,h,d,f;this.isHorizontal()?(l=As(t,this.left,o)-o/2,h=As(t,this.right,a)+a/2,d=f=c):(d=As(t,this.top,o)-o/2,f=As(t,this.bottom,a)+a/2,l=h=c),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(l,d),e.lineTo(h,f),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Hu(i,s);const r=this.getLabelItems(t);for(const o of r){const a=o.options,c=o.font,l=o.label,h=o.textOffset;Xs(i,l,0,h,c,a)}s&&zu(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const r=me(i.font),o=qe(i.padding),a=i.align;let c=r.lineHeight/2;e==="bottom"||e==="center"||It(e)?(c+=o.bottom,Jt(i.text)&&(c+=r.lineHeight*(i.text.length-1))):c+=o.top;const{titleX:l,titleY:h,maxWidth:d,rotation:f}=D2(this,c,e,a);Xs(t,i.text,0,0,r,{color:i.color,maxWidth:d,rotation:f,textAlign:k2(a,e,s),textBaseline:"middle",translation:[l,h]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=vt(t.grid&&t.grid.z,-1),s=vt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==nr.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=e.length;r<o;++r){const a=e[r];a[i]===this.id&&(!t||a.type===t)&&s.push(a)}return s}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return me(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Oc{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;L2(e)&&(i=this.register(e));const s=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,M2(t,o,i),this.override&&Zt.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in Zt[s]&&(delete Zt[s][i],this.override&&delete Qs[i])}}function M2(n,t,e){const i=Ta(Object.create(null),[e?Zt.get(e):{},Zt.get(t),n.defaults]);Zt.set(t,i),n.defaultRoutes&&O2(t,n.defaultRoutes),n.descriptors&&Zt.describe(t,n.descriptors)}function O2(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),s=i.pop(),r=[n].concat(i).join("."),o=t[e].split("."),a=o.pop(),c=o.join(".");Zt.route(r,s,c,a)})}function L2(n){return"id"in n&&"defaults"in n}class N2{constructor(){this.controllers=new Oc(Sn,"datasets",!0),this.elements=new Oc(Ci,"elements"),this.plugins=new Oc(Object,"plugins"),this.scales=new Oc(nr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):Ht(s,o=>{const a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,e,i){const s=Lp(t);$t(i["before"+s],[],i),e[t](i),$t(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Ln=new N2;class V2{constructor(){this._init=[]}notify(t,e,i,s){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(r,t,e,i);return e==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,i,s){s=s||{};for(const r of t){const o=r.plugin,a=o[i],c=[e,s,r.options];if($t(a,c,o)===!1&&s.cancelable)return!1}return!0}invalidate(){Et(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=vt(i.options&&i.options.plugins,{}),r=F2(i);return s===!1&&!e?[]:U2(t,r,s,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}}function F2(n){const t={},e=[],i=Object.keys(Ln.plugins.items);for(let r=0;r<i.length;r++)e.push(Ln.getPlugin(i[r]));const s=n.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function B2(n,t){return!t&&n===!1?null:n===!0?{}:n}function U2(n,{plugins:t,localIds:e},i,s){const r=[],o=n.getContext();for(const a of t){const c=a.id,l=B2(i[c],s);l!==null&&r.push({plugin:a,options:H2(n.config,{plugin:a,local:e[c]},l,o)})}return r}function H2(n,{plugin:t,local:e},i,s){const r=n.pluginScopeKeys(t),o=n.getOptionScopes(i,r);return e&&t.defaults&&o.push(t.defaults),n.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Wd(n,t){const e=Zt.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function z2(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function W2(n,t){return n===t?"_index_":"_value_"}function cb(n){if(n==="x"||n==="y"||n==="r")return n}function j2(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function jd(n,...t){if(cb(n))return n;for(const e of t){const i=e.axis||j2(e.position)||n.length>1&&cb(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function lb(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function $2(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return lb(n,"x",e[0])||lb(n,"y",e[0])}return{}}function q2(n,t){const e=Qs[n.type]||{scales:{}},i=t.scales||{},s=Wd(n.type,t),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!It(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=jd(o,a,$2(o,n),Zt.scales[a.type]),l=W2(c,s),h=e.scales||{};r[o]=ta(Object.create(null),[{axis:c},a,h[c],h[l]])}),n.data.datasets.forEach(o=>{const a=o.type||n.type,c=o.indexAxis||Wd(a,t),h=(Qs[a]||{}).scales||{};Object.keys(h).forEach(d=>{const f=z2(d,c),g=o[f+"AxisID"]||f;r[g]=r[g]||Object.create(null),ta(r[g],[{axis:f},i[g],h[d]])})}),Object.keys(r).forEach(o=>{const a=r[o];ta(a,[Zt.scales[a.type],Zt.scale])}),r}function WT(n){const t=n.options||(n.options={});t.plugins=vt(t.plugins,{}),t.scales=q2(n,t)}function jT(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function K2(n){return n=n||{},n.data=jT(n.data),WT(n),n}const ub=new Map,$T=new Set;function Lc(n,t){let e=ub.get(n);return e||(e=t(),ub.set(n,e),$T.add(e)),e}const To=(n,t,e)=>{const i=hs(t,e);i!==void 0&&n.add(i)};class G2{constructor(t){this._config=K2(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=jT(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),WT(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Lc(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Lc(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Lc(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Lc(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return(!s||e)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:r}=this,o=this._cachedScopes(t,i),a=o.get(e);if(a)return a;const c=new Set;e.forEach(h=>{t&&(c.add(t),h.forEach(d=>To(c,t,d))),h.forEach(d=>To(c,s,d)),h.forEach(d=>To(c,Qs[r]||{},d)),h.forEach(d=>To(c,Zt,d)),h.forEach(d=>To(c,Ud,d))});const l=Array.from(c);return l.length===0&&l.push(Object.create(null)),$T.has(e)&&o.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,Qs[e]||{},Zt.datasets[e]||{},{type:e},Zt,Ud]}resolveNamedOptions(t,e,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=hb(this._resolverCache,t,s);let c=o;if(Q2(o,e)){r.$shared=!1,i=ds(i)?i():i;const l=this.createResolver(t,i,a);c=$r(o,i,l)}for(const l of e)r[l]=c[l];return r}createResolver(t,e,i=[""],s){const{resolver:r}=hb(this._resolverCache,t,i);return It(e)?$r(r,e,void 0,s):r}}function hb(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const s=e.join();let r=i.get(s);return r||(r={resolver:Hp(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const Y2=n=>It(n)&&Object.getOwnPropertyNames(n).some(t=>ds(n[t]));function Q2(n,t){const{isScriptable:e,isIndexable:i}=TT(n);for(const s of t){const r=e(s),o=i(s),a=(o||r)&&n[s];if(r&&(ds(a)||Y2(a))||o&&Jt(a))return!0}return!1}var X2="4.4.8";const J2=["top","bottom","left","right","chartArea"];function db(n,t){return n==="top"||n==="bottom"||J2.indexOf(n)===-1&&t==="x"}function fb(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function pb(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),$t(e&&e.onComplete,[n],t)}function Z2(n){const t=n.chart,e=t.options.animation;$t(e&&e.onProgress,[n],t)}function qT(n){return jp()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const pl={},gb=n=>{const t=qT(n);return Object.values(pl).filter(e=>e.canvas===t).pop()};function tF(n,t,e){const i=Object.keys(n);for(const s of i){const r=+s;if(r>=t){const o=n[s];delete n[s],(e>0||r>t)&&(n[r+e]=o)}}}function eF(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}function Nc(n,t,e){return n.options.clip?n[e]:t[e]}function nF(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Nc(e,t,"left"),right:Nc(e,t,"right"),top:Nc(i,t,"top"),bottom:Nc(i,t,"bottom")}:t}class li{static register(...t){Ln.add(...t),mb()}static unregister(...t){Ln.remove(...t),mb()}constructor(t,e){const i=this.config=new G2(e),s=qT(t),r=gb(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||b2(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),c=a&&a.canvas,l=c&&c.height,h=c&&c.width;if(this.id=sN(),this.ctx=a,this.canvas=c,this.width=h,this.height=l,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new V2,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=wN(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],pl[this.id]=this,!a||!c){console.error("Failed to create chart: can't acquire context from the given item");return}ri.listen(this,"complete",pb),ri.listen(this,"progress",Z2),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:s,_aspectRatio:r}=this;return Et(t)?e&&r?r:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ln}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Fy(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ly(this.canvas,this.ctx),this}stop(){return ri.stop(this),this}resize(t,e){ri.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,e,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Fy(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),$t(i.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Ht(e,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];e&&(r=r.concat(Object.keys(e).map(o=>{const a=e[o],c=jd(o,a),l=c==="r",h=c==="x";return{options:a,dposition:l?"chartArea":h?"bottom":"left",dtype:l?"radialLinear":h?"category":"linear"}}))),Ht(r,o=>{const a=o.options,c=a.id,l=jd(c,a),h=vt(a.type,o.dtype);(a.position===void 0||db(a.position,l)!==db(o.dposition))&&(a.position=o.dposition),s[c]=!0;let d=null;if(c in i&&i[c].type===h)d=i[c];else{const f=Ln.getScale(h);d=new f({id:c,type:h,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(a,t)}),Ht(s,(o,a)=>{o||delete i[a]}),Ht(i,o=>{ze.configure(this,o,o.options),ze.addBox(this,o)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((s,r)=>s.index-r.index),i>e){for(let s=e;s<i;++s)this._destroyDatasetMeta(s);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(fb("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,s)=>{e.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const r=e[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||Wd(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const c=Ln.getController(a),{datasetElementType:l,dataElementType:h}=Zt.datasets[a];Object.assign(c,{dataElementType:Ln.getElement(h),datasetElementType:l&&Ln.getElement(l)}),o.controller=new c(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Ht(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let l=0,h=this.data.datasets.length;l<h;l++){const{controller:d}=this.getDatasetMeta(l),f=!s&&r.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||Ht(r,l=>{l.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(fb("z","_idx"));const{_active:a,_lastEvent:c}=this;c?this._eventHandler(c,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Ht(this.scales,t=>{ze.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Ay(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of e){const o=i==="_removeElements"?-r:r;tF(t,s,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<e;r++)if(!Ay(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ze.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Ht(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,ds(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ri.has(this)?this.attached&&!ri.running(this)&&ri.start(this):(this.draw(),pb({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let s,r;for(s=0,r=e.length;s<r;++s){const o=e[s];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,s=!i.disabled,r=nF(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&Hu(e,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),t.controller.draw(),s&&zu(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return _i(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,s){const r=JV.modes[e];return typeof r=="function"?r(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let s=i.filter(r=>r&&r._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=ys(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=i?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,s);xa(e)?(r.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),ri.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Ly(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete pl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(r,o)=>{e.addEventListener(this,r,o),t[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Ht(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(c,l)=>{e.addEventListener(this,c,l),t[c]=l},s=(c,l)=>{t[c]&&(e.removeEventListener(this,c,l),delete t[c])},r=(c,l)=>{this.canvas&&this.resize(c,l)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){Ht(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Ht(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?"set":"remove";let r,o,a,c;for(e==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,c=t.length;a<c;++a){o=t[a];const l=o&&this.getDatasetMeta(o.datasetIndex).controller;l&&l[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!ql(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const s=this.options.hover,r=(c,l)=>c.filter(h=>!l.some(d=>h.datasetIndex===d.datasetIndex&&h.index===d.index)),o=r(e,t),a=i?t:r(t,e);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:s=[],options:r}=this,o=e,a=this._getActiveElements(t,s,i,o),c=uN(t),l=eF(t,this._lastEvent,i,c);i&&(this._lastEvent=null,$t(r.onHover,[t,a,this],this),c&&$t(r.onClick,[t,a,this],this));const h=!ql(a,s);return(h||e)&&(this._active=a,this._updateHoverStyles(a,s,e)),this._lastEvent=l,h}_getActiveElements(t,e,i,s){if(t.type==="mouseout")return[];if(!i)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,s)}}V(li,"defaults",Zt),V(li,"instances",pl),V(li,"overrides",Qs),V(li,"registry",Ln),V(li,"version",X2),V(li,"getChart",gb);function mb(){return Ht(li.instances,n=>n._plugins.invalidate())}function iF(n,t,e){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:c}=t;let l=s/a;n.beginPath(),n.arc(r,o,a,i-l,e+l),c>s?(l=s/c,n.arc(r,o,c,e+l,i-l,!0)):n.arc(r,o,s,e+ue,i-ue),n.closePath(),n.clip()}function sF(n){return Up(n,["outerStart","outerEnd","innerStart","innerEnd"])}function rF(n,t,e,i){const s=sF(n.options.borderRadius),r=(e-t)/2,o=Math.min(r,i*t/2),a=c=>{const l=(e-Math.min(r,c))*i/2;return we(c,0,Math.min(r,l))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:we(s.innerStart,0,o),innerEnd:we(s.innerEnd,0,o)}}function dr(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Jl(n,t,e,i,s,r){const{x:o,y:a,startAngle:c,pixelMargin:l,innerRadius:h}=t,d=Math.max(t.outerRadius+i+e-l,0),f=h>0?h+i+e+l:0;let g=0;const _=s-c;if(i){const wt=h>0?h-i:0,ft=d>0?d-i:0,it=(wt+ft)/2,lt=it!==0?_*it/(it+i):_;g=(_-lt)/2}const y=Math.max(.001,_*d-e/Xt)/d,v=(_-y)/2,I=c+v+g,A=s-v-g,{outerStart:k,outerEnd:M,innerStart:N,innerEnd:B}=rF(t,f,d,A-I),T=d-k,b=d-M,E=I+k/T,x=A-M/b,C=f+N,D=f+B,S=I+N/C,Ct=A-B/D;if(n.beginPath(),r){const wt=(E+x)/2;if(n.arc(o,a,d,E,wt),n.arc(o,a,d,wt,x),M>0){const Mt=dr(b,x,o,a);n.arc(Mt.x,Mt.y,M,x,A+ue)}const ft=dr(D,A,o,a);if(n.lineTo(ft.x,ft.y),B>0){const Mt=dr(D,Ct,o,a);n.arc(Mt.x,Mt.y,B,A+ue,Ct+Math.PI)}const it=(A-B/f+(I+N/f))/2;if(n.arc(o,a,f,A-B/f,it,!0),n.arc(o,a,f,it,I+N/f,!0),N>0){const Mt=dr(C,S,o,a);n.arc(Mt.x,Mt.y,N,S+Math.PI,I-ue)}const lt=dr(T,I,o,a);if(n.lineTo(lt.x,lt.y),k>0){const Mt=dr(T,E,o,a);n.arc(Mt.x,Mt.y,k,I-ue,E)}}else{n.moveTo(o,a);const wt=Math.cos(E)*d+o,ft=Math.sin(E)*d+a;n.lineTo(wt,ft);const it=Math.cos(x)*d+o,lt=Math.sin(x)*d+a;n.lineTo(it,lt)}n.closePath()}function oF(n,t,e,i,s){const{fullCircles:r,startAngle:o,circumference:a}=t;let c=t.endAngle;if(r){Jl(n,t,e,i,c,s);for(let l=0;l<r;++l)n.fill();isNaN(a)||(c=o+(a%Qt||Qt))}return Jl(n,t,e,i,c,s),n.fill(),c}function aF(n,t,e,i,s){const{fullCircles:r,startAngle:o,circumference:a,options:c}=t,{borderWidth:l,borderJoinStyle:h,borderDash:d,borderDashOffset:f}=c,g=c.borderAlign==="inner";if(!l)return;n.setLineDash(d||[]),n.lineDashOffset=f,g?(n.lineWidth=l*2,n.lineJoin=h||"round"):(n.lineWidth=l,n.lineJoin=h||"bevel");let _=t.endAngle;if(r){Jl(n,t,e,i,_,s);for(let y=0;y<r;++y)n.stroke();isNaN(a)||(_=o+(a%Qt||Qt))}g&&iF(n,t,_),r||(Jl(n,t,e,i,_,s),n.stroke())}class Vo extends Ci{constructor(e){super();V(this,"circumference");V(this,"endAngle");V(this,"fullCircles");V(this,"innerRadius");V(this,"outerRadius");V(this,"pixelMargin");V(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,s){const r=this.getProps(["x","y"],s),{angle:o,distance:a}=fT(r,{x:e,y:i}),{startAngle:c,endAngle:l,innerRadius:h,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),g=(this.options.spacing+this.options.borderWidth)/2,_=vt(f,l-c),y=Ia(o,c,l)&&c!==l,v=_>=Qt||y,I=gi(a,h+g,d+g);return v&&I}getCenterPoint(e){const{x:i,y:s,startAngle:r,endAngle:o,innerRadius:a,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:h}=this.options,d=(r+o)/2,f=(a+c+h+l)/2;return{x:i+Math.cos(d)*f,y:s+Math.sin(d)*f}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:s}=this,r=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>Qt?Math.floor(s/Qt):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const c=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(c)*r,Math.sin(c)*r);const l=1-Math.sin(Math.min(Xt,s||0)),h=r*l;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,oF(e,this,h,o,a),aF(e,this,h,o,a),e.restore()}}V(Vo,"id","arc"),V(Vo,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),V(Vo,"defaultRoutes",{backgroundColor:"backgroundColor"}),V(Vo,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function KT(n,t,e=t){n.lineCap=vt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(vt(e.borderDash,t.borderDash)),n.lineDashOffset=vt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=vt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=vt(e.borderWidth,t.borderWidth),n.strokeStyle=vt(e.borderColor,t.borderColor)}function cF(n,t,e){n.lineTo(e.x,e.y)}function lF(n){return n.stepped?MN:n.tension||n.cubicInterpolationMode==="monotone"?ON:cF}function GT(n,t,e={}){const i=n.length,{start:s=0,end:r=i-1}=e,{start:o,end:a}=t,c=Math.max(s,o),l=Math.min(r,a),h=s<o&&r<o||s>a&&r>a;return{count:i,start:c,loop:t.loop,ilen:l<c&&!h?i+l-c:l-c}}function uF(n,t,e,i){const{points:s,options:r}=t,{count:o,start:a,loop:c,ilen:l}=GT(s,e,i),h=lF(r);let{move:d=!0,reverse:f}=i||{},g,_,y;for(g=0;g<=l;++g)_=s[(a+(f?l-g:g))%o],!_.skip&&(d?(n.moveTo(_.x,_.y),d=!1):h(n,y,_,f,r.stepped),y=_);return c&&(_=s[(a+(f?l:0))%o],h(n,y,_,f,r.stepped)),!!c}function hF(n,t,e,i){const s=t.points,{count:r,start:o,ilen:a}=GT(s,e,i),{move:c=!0,reverse:l}=i||{};let h=0,d=0,f,g,_,y,v,I;const A=M=>(o+(l?a-M:M))%r,k=()=>{y!==v&&(n.lineTo(h,v),n.lineTo(h,y),n.lineTo(h,I))};for(c&&(g=s[A(0)],n.moveTo(g.x,g.y)),f=0;f<=a;++f){if(g=s[A(f)],g.skip)continue;const M=g.x,N=g.y,B=M|0;B===_?(N<y?y=N:N>v&&(v=N),h=(d*h+M)/++d):(k(),n.lineTo(M,N),_=B,d=0,y=v=N),I=N}k()}function $d(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?hF:uF}function dF(n){return n.stepped?dV:n.tension||n.cubicInterpolationMode==="monotone"?fV:Ds}function fF(n,t,e,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,i)&&s.closePath()),KT(n,t.options),n.stroke(s)}function pF(n,t,e,i){const{segments:s,options:r}=t,o=$d(t);for(const a of s)KT(n,r,a.style),n.beginPath(),o(n,t,a,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const gF=typeof Path2D=="function";function mF(n,t,e,i){gF&&!t.options.segment?fF(n,t,e,i):pF(n,t,e,i)}class Yi extends Ci{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;sV(this._points,i,t,s,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=bV(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,s=t[e],r=this.points,o=MT(this,{property:e,start:s,end:s});if(!o.length)return;const a=[],c=dF(i);let l,h;for(l=0,h=o.length;l<h;++l){const{start:d,end:f}=o[l],g=r[d],_=r[f];if(g===_){a.push(g);continue}const y=Math.abs((s-g[e])/(_[e]-g[e])),v=c(g,_,y,i.stepped);v[e]=t[e],a.push(v)}return a.length===1?a[0]:a}pathSegment(t,e,i){return $d(this)(t,this,e,i)}path(t,e,i){const s=this.segments,r=$d(this);let o=this._loop;e=e||0,i=i||this.points.length-e;for(const a of s)o&=r(t,this,a,{start:e,end:e+i-1});return!!o}draw(t,e,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),mF(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}V(Yi,"id","line"),V(Yi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),V(Yi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),V(Yi,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function _b(n,t,e,i){const s=n.options,{[e]:r}=n.getProps([e],i);return Math.abs(t-r)<s.radius+s.hitRadius}class gl extends Ci{constructor(e){super();V(this,"parsed");V(this,"skip");V(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,s){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(e-o,2)+Math.pow(i-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,i){return _b(this,e,"x",i)}inYRange(e,i){return _b(this,e,"y",i)}getCenterPoint(e){const{x:i,y:s}=this.getProps(["x","y"],e);return{x:i,y:s}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);const s=i&&e.borderWidth||0;return(i+s)*2}draw(e,i){const s=this.options;this.skip||s.radius<.1||!_i(this,i,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,Hd(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}V(gl,"id","point"),V(gl,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),V(gl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function YT(n,t){const{x:e,y:i,base:s,width:r,height:o}=n.getProps(["x","y","base","width","height"],t);let a,c,l,h,d;return n.horizontal?(d=o/2,a=Math.min(e,s),c=Math.max(e,s),l=i-d,h=i+d):(d=r/2,a=e-d,c=e+d,l=Math.min(i,s),h=Math.max(i,s)),{left:a,top:l,right:c,bottom:h}}function Qi(n,t,e,i){return n?0:we(t,e,i)}function _F(n,t,e){const i=n.options.borderWidth,s=n.borderSkipped,r=ET(i);return{t:Qi(s.top,r.top,0,e),r:Qi(s.right,r.right,0,t),b:Qi(s.bottom,r.bottom,0,e),l:Qi(s.left,r.left,0,t)}}function yF(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,r=Bs(s),o=Math.min(t,e),a=n.borderSkipped,c=i||It(s);return{topLeft:Qi(!c||a.top||a.left,r.topLeft,0,o),topRight:Qi(!c||a.top||a.right,r.topRight,0,o),bottomLeft:Qi(!c||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Qi(!c||a.bottom||a.right,r.bottomRight,0,o)}}function bF(n){const t=YT(n),e=t.right-t.left,i=t.bottom-t.top,s=_F(n,e/2,i/2),r=yF(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:e-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function $h(n,t,e,i){const s=t===null,r=e===null,a=n&&!(s&&r)&&YT(n,i);return a&&(s||gi(t,a.left,a.right))&&(r||gi(e,a.top,a.bottom))}function vF(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function wF(n,t){n.rect(t.x,t.y,t.w,t.h)}function qh(n,t,e={}){const i=n.x!==e.x?-t:0,s=n.y!==e.y?-t:0,r=(n.x+n.w!==e.x+e.w?t:0)-i,o=(n.y+n.h!==e.y+e.h?t:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+r,h:n.h+o,radius:n.radius}}class ml extends Ci{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=bF(this),a=vF(o.radius)?Aa:wF;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),a(t,qh(o,e,r)),t.clip(),a(t,qh(r,-e,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,qh(r,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,i){return $h(this,t,e,i)}inXRange(t,e){return $h(this,t,null,e)}inYRange(t,e){return $h(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+s)/2:e,y:r?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}V(ml,"id","bar"),V(ml,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),V(ml,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var EF=Object.freeze({__proto__:null,ArcElement:Vo,BarElement:ml,LineElement:Yi,PointElement:gl});const qd=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],yb=qd.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function QT(n){return qd[n%qd.length]}function XT(n){return yb[n%yb.length]}function TF(n,t){return n.borderColor=QT(t),n.backgroundColor=XT(t),++t}function xF(n,t){return n.backgroundColor=n.data.map(()=>QT(t++)),t}function IF(n,t){return n.backgroundColor=n.data.map(()=>XT(t++)),t}function AF(n){let t=0;return(e,i)=>{const s=n.getDatasetMeta(i).controller;s instanceof Ns?t=xF(e,t):s instanceof sa?t=IF(e,t):s&&(t=TF(e,t))}}function bb(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function SF(n){return n&&(n.borderColor||n.backgroundColor)}function PF(){return Zt.borderColor!=="rgba(0,0,0,0.1)"||Zt.backgroundColor!=="rgba(0,0,0,0.1)"}var CF={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:s}=n.config,{elements:r}=s,o=bb(i)||SF(s)||r&&bb(r)||PF();if(!e.forceOverride&&o)return;const a=AF(n);i.forEach(a)}};function RF(n,t,e,i,s){const r=s.samples||i;if(r>=e)return n.slice(t,t+e);const o=[],a=(e-2)/(r-2);let c=0;const l=t+e-1;let h=t,d,f,g,_,y;for(o[c++]=n[h],d=0;d<r-2;d++){let v=0,I=0,A;const k=Math.floor((d+1)*a)+1+t,M=Math.min(Math.floor((d+2)*a)+1,e)+t,N=M-k;for(A=k;A<M;A++)v+=n[A].x,I+=n[A].y;v/=N,I/=N;const B=Math.floor(d*a)+1+t,T=Math.min(Math.floor((d+1)*a)+1,e)+t,{x:b,y:E}=n[h];for(g=_=-1,A=B;A<T;A++)_=.5*Math.abs((b-v)*(n[A].y-E)-(b-n[A].x)*(I-E)),_>g&&(g=_,f=n[A],y=A);o[c++]=f,h=y}return o[c++]=n[l],o}function kF(n,t,e,i){let s=0,r=0,o,a,c,l,h,d,f,g,_,y;const v=[],I=t+e-1,A=n[t].x,M=n[I].x-A;for(o=t;o<t+e;++o){a=n[o],c=(a.x-A)/M*i,l=a.y;const N=c|0;if(N===h)l<_?(_=l,d=o):l>y&&(y=l,f=o),s=(r*s+a.x)/++r;else{const B=o-1;if(!Et(d)&&!Et(f)){const T=Math.min(d,f),b=Math.max(d,f);T!==g&&T!==B&&v.push({...n[T],x:s}),b!==g&&b!==B&&v.push({...n[b],x:s})}o>0&&B!==g&&v.push(n[B]),v.push(a),h=N,r=0,_=y=l,d=f=g=o}}return v}function JT(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function vb(n){n.data.datasets.forEach(t=>{JT(t)})}function DF(n,t){const e=t.length;let i=0,s;const{iScale:r}=n,{min:o,max:a,minDefined:c,maxDefined:l}=r.getUserBounds();return c&&(i=we(mi(t,r.axis,o).lo,0,e-1)),l?s=we(mi(t,r.axis,a).hi+1,i,e)-i:s=e-i,{start:i,count:s}}var MF={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){vb(n);return}const i=n.width;n.data.datasets.forEach((s,r)=>{const{_data:o,indexAxis:a}=s,c=n.getDatasetMeta(r),l=o||s.data;if(Lo([a,n.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const h=n.scales[c.xAxisID];if(h.type!=="linear"&&h.type!=="time"||n.options.parsing)return;let{start:d,count:f}=DF(c,l);const g=e.threshold||4*i;if(f<=g){JT(s);return}Et(o)&&(s._data=l,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(y){this._data=y}}));let _;switch(e.algorithm){case"lttb":_=RF(l,d,f,i,e);break;case"min-max":_=kF(l,d,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}s._decimated=_})},destroy(n){vb(n)}};function OF(n,t,e){const i=n.segments,s=n.points,r=t.points,o=[];for(const a of i){let{start:c,end:l}=a;l=Kp(c,l,s);const h=Kd(e,s[c],s[l],a.loop);if(!t.segments){o.push({source:a,target:h,start:s[c],end:s[l]});continue}const d=MT(t,h);for(const f of d){const g=Kd(e,r[f.start],r[f.end],f.loop),_=DT(a,s,g);for(const y of _)o.push({source:y,target:f,start:{[e]:wb(h,g,"start",Math.max)},end:{[e]:wb(h,g,"end",Math.min)}})}}return o}function Kd(n,t,e,i){if(i)return;let s=t[n],r=e[n];return n==="angle"&&(s=un(s),r=un(r)),{property:n,start:s,end:r}}function LF(n,t){const{x:e=null,y:i=null}=n||{},s=t.points,r=[];return t.segments.forEach(({start:o,end:a})=>{a=Kp(o,a,s);const c=s[o],l=s[a];i!==null?(r.push({x:c.x,y:i}),r.push({x:l.x,y:i})):e!==null&&(r.push({x:e,y:c.y}),r.push({x:e,y:l.y}))}),r}function Kp(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function wb(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function ZT(n,t){let e=[],i=!1;return Jt(n)?(i=!0,e=n):e=LF(n,t),e.length?new Yi({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function Eb(n){return n&&n.fill!==!1}function NF(n,t,e){let s=n[t].fill;const r=[t];let o;if(!e)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!oe(s))return s;if(o=n[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function VF(n,t,e){const i=HF(n);if(It(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return oe(s)&&Math.floor(s)===s?FF(i[0],t,s,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function FF(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function BF(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:It(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function UF(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:It(n)?i=n.value:i=t.getBaseValue(),i}function HF(n){const t=n.options,e=t.fill;let i=vt(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function zF(n){const{scale:t,index:e,line:i}=n,s=[],r=i.segments,o=i.points,a=WF(t,e);a.push(ZT({x:null,y:t.bottom},i));for(let c=0;c<r.length;c++){const l=r[c];for(let h=l.start;h<=l.end;h++)jF(s,o[h],a)}return new Yi({points:s,options:{}})}function WF(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===t)break;r.hidden||e.unshift(r.dataset)}return e}function jF(n,t,e){const i=[];for(let s=0;s<e.length;s++){const r=e[s],{first:o,last:a,point:c}=$F(r,t,"x");if(!(!c||o&&a)){if(o)i.unshift(c);else if(n.push(c),!a)break}}n.push(...i)}function $F(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const s=i[e],r=n.segments,o=n.points;let a=!1,c=!1;for(let l=0;l<r.length;l++){const h=r[l],d=o[h.start][e],f=o[h.end][e];if(gi(s,d,f)){a=s===d,c=s===f;break}}return{first:a,last:c,point:i}}class tx{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:s,y:r,radius:o}=this;return e=e||{start:0,end:Qt},t.arc(s,r,o,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:s}=this,r=t.angle;return{x:e+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function qF(n){const{chart:t,fill:e,line:i}=n;if(oe(e))return KF(t,e);if(e==="stack")return zF(n);if(e==="shape")return!0;const s=GF(n);return s instanceof tx?s:ZT(s,i)}function KF(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function GF(n){return(n.scale||{}).getPointPositionForValue?QF(n):YF(n)}function YF(n){const{scale:t={},fill:e}=n,i=BF(e,t);if(oe(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function QF(n){const{scale:t,fill:e}=n,i=t.options,s=t.getLabels().length,r=i.reverse?t.max:t.min,o=UF(e,t,r),a=[];if(i.grid.circular){const c=t.getPointPositionForValue(0,r);return new tx({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(o)})}for(let c=0;c<s;++c)a.push(t.getPointPositionForValue(c,o));return a}function Kh(n,t,e){const i=qF(t),{line:s,scale:r,axis:o}=t,a=s.options,c=a.fill,l=a.backgroundColor,{above:h=l,below:d=l}=c||{};i&&s.points.length&&(Hu(n,e),XF(n,{line:s,target:i,above:h,below:d,area:e,scale:r,axis:o}),zu(n))}function XF(n,t){const{line:e,target:i,above:s,below:r,area:o,scale:a}=t,c=e._loop?"angle":t.axis;n.save(),c==="x"&&r!==s&&(Tb(n,i,o.top),xb(n,{line:e,target:i,color:s,scale:a,property:c}),n.restore(),n.save(),Tb(n,i,o.bottom)),xb(n,{line:e,target:i,color:r,scale:a,property:c}),n.restore()}function Tb(n,t,e){const{segments:i,points:s}=t;let r=!0,o=!1;n.beginPath();for(const a of i){const{start:c,end:l}=a,h=s[c],d=s[Kp(c,l,s)];r?(n.moveTo(h.x,h.y),r=!1):(n.lineTo(h.x,e),n.lineTo(h.x,h.y)),o=!!t.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(d.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function xb(n,t){const{line:e,target:i,property:s,color:r,scale:o}=t,a=OF(e,i,s);for(const{source:c,target:l,start:h,end:d}of a){const{style:{backgroundColor:f=r}={}}=c,g=i!==!0;n.save(),n.fillStyle=f,JF(n,o,g&&Kd(s,h,d)),n.beginPath();const _=!!e.pathSegment(n,c);let y;if(g){_?n.closePath():Ib(n,i,d,s);const v=!!i.pathSegment(n,l,{move:_,reverse:!0});y=_&&v,y||Ib(n,i,h,s)}n.closePath(),n.fill(y?"evenodd":"nonzero"),n.restore()}}function JF(n,t,e){const{top:i,bottom:s}=t.chart.chartArea,{property:r,start:o,end:a}=e||{};r==="x"&&(n.beginPath(),n.rect(o,i,a-o,s-i),n.clip())}function Ib(n,t,e,i){const s=t.interpolate(e,i);s&&n.lineTo(s.x,s.y)}var ZF={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,s=[];let r,o,a,c;for(o=0;o<i;++o)r=n.getDatasetMeta(o),a=r.dataset,c=null,a&&a.options&&a instanceof Yi&&(c={visible:n.isDatasetVisible(o),index:o,fill:VF(a,o,i),chart:n,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=c,s.push(c);for(o=0;o<i;++o)c=s[o],!(!c||c.fill===!1)&&(c.fill=NF(s,o,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",s=n.getSortedVisibleDatasetMetas(),r=n.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&Kh(n.ctx,a,r))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;Eb(r)&&Kh(n.ctx,r,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!Eb(i)||e.drawTime!=="beforeDatasetDraw"||Kh(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ab=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},tB=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class Sb extends Ci{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=$t(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=me(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=Ab(i,r);let l,h;e.font=s.string,this.isHorizontal()?(l=this.maxWidth,h=this._fitRows(o,r,a,c)+10):(h=this.maxHeight,l=this._fitCols(o,s,a,c)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],h=s+a;let d=t;r.textAlign="left",r.textBaseline="middle";let f=-1,g=-h;return this.legendItems.forEach((_,y)=>{const v=i+e/2+r.measureText(_.text).width;(y===0||l[l.length-1]+v+2*a>o)&&(d+=h,l[l.length-(y>0?0:1)]=0,g+=h,f++),c[y]={left:0,top:g,row:f,width:v,height:s},l[l.length-1]+=v+a}),d}_fitCols(t,e,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],h=o-t;let d=a,f=0,g=0,_=0,y=0;return this.legendItems.forEach((v,I)=>{const{itemWidth:A,itemHeight:k}=eB(i,e,r,v,s);I>0&&g+k+2*a>h&&(d+=f+a,l.push({width:f,height:g}),_+=f+a,y++,f=g=0),c[I]={left:_,top:g,col:y,width:A,height:k},f=Math.max(f,A),g+=k+a}),d+=f,l.push({width:f,height:g}),d}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:r}}=this,o=Dr(r,this.left,this.width);if(this.isHorizontal()){let a=0,c=Ne(i,this.left+s,this.right-this.lineWidths[a]);for(const l of e)a!==l.row&&(a=l.row,c=Ne(i,this.left+s,this.right-this.lineWidths[a])),l.top+=this.top+t+s,l.left=o.leftForLtr(o.x(c),l.width),c+=l.width+s}else{let a=0,c=Ne(i,this.top+t+s,this.bottom-this.columnSizes[a].height);for(const l of e)l.col!==a&&(a=l.col,c=Ne(i,this.top+t+s,this.bottom-this.columnSizes[a].height)),l.top=c,l.left+=this.left+s,l.left=o.leftForLtr(o.x(l.left),l.width),c+=l.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Hu(t,this),this._draw(),zu(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:r,labels:o}=t,a=Zt.color,c=Dr(t.rtl,this.left,this.width),l=me(o.font),{padding:h}=o,d=l.size,f=d/2;let g;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=l.string;const{boxWidth:_,boxHeight:y,itemHeight:v}=Ab(o,d),I=function(B,T,b){if(isNaN(_)||_<=0||isNaN(y)||y<0)return;s.save();const E=vt(b.lineWidth,1);if(s.fillStyle=vt(b.fillStyle,a),s.lineCap=vt(b.lineCap,"butt"),s.lineDashOffset=vt(b.lineDashOffset,0),s.lineJoin=vt(b.lineJoin,"miter"),s.lineWidth=E,s.strokeStyle=vt(b.strokeStyle,a),s.setLineDash(vt(b.lineDash,[])),o.usePointStyle){const x={radius:y*Math.SQRT2/2,pointStyle:b.pointStyle,rotation:b.rotation,borderWidth:E},C=c.xPlus(B,_/2),D=T+f;wT(s,x,C,D,o.pointStyleWidth&&_)}else{const x=T+Math.max((d-y)/2,0),C=c.leftForLtr(B,_),D=Bs(b.borderRadius);s.beginPath(),Object.values(D).some(S=>S!==0)?Aa(s,{x:C,y:x,w:_,h:y,radius:D}):s.rect(C,x,_,y),s.fill(),E!==0&&s.stroke()}s.restore()},A=function(B,T,b){Xs(s,b.text,B,T+v/2,l,{strikethrough:b.hidden,textAlign:c.textAlign(b.textAlign)})},k=this.isHorizontal(),M=this._computeTitleHeight();k?g={x:Ne(r,this.left+h,this.right-i[0]),y:this.top+h+M,line:0}:g={x:this.left+h,y:Ne(r,this.top+M+h,this.bottom-e[0].height),line:0},CT(this.ctx,t.textDirection);const N=v+h;this.legendItems.forEach((B,T)=>{s.strokeStyle=B.fontColor,s.fillStyle=B.fontColor;const b=s.measureText(B.text).width,E=c.textAlign(B.textAlign||(B.textAlign=o.textAlign)),x=_+f+b;let C=g.x,D=g.y;c.setWidth(this.width),k?T>0&&C+x+h>this.right&&(D=g.y+=N,g.line++,C=g.x=Ne(r,this.left+h,this.right-i[g.line])):T>0&&D+N>this.bottom&&(C=g.x=C+e[g.line].width+h,g.line++,D=g.y=Ne(r,this.top+M+h,this.bottom-e[g.line].height));const S=c.x(C);if(I(S,D,B),C=EN(E,C+_+f,k?C+x:this.right,t.rtl),A(c.x(C),D,B),k)g.x+=x+h;else if(typeof B.text!="string"){const Ct=l.lineHeight;g.y+=ex(B,Ct)+h}else g.y+=N}),RT(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=me(e.font),s=qe(e.padding);if(!e.display)return;const r=Dr(t.rtl,this.left,this.width),o=this.ctx,a=e.position,c=i.size/2,l=s.top+c;let h,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),h=this.top+l,d=Ne(t.align,d,this.right-f);else{const _=this.columnSizes.reduce((y,v)=>Math.max(y,v.height),0);h=l+Ne(t.align,this.top,this.bottom-_-t.labels.padding-this._computeTitleHeight())}const g=Ne(a,d,d+f);o.textAlign=r.textAlign(Fp(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=i.string,Xs(o,e.text,g,h,i)}_computeTitleHeight(){const t=this.options.title,e=me(t.font),i=qe(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,r;if(gi(t,this.left,this.right)&&gi(e,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],gi(t,s.left,s.left+s.width)&&gi(e,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!sB(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,r=tB(s,i);s&&!r&&$t(e.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!r&&$t(e.onHover,[t,i,this],this)}else i&&$t(e.onClick,[t,i,this],this)}}function eB(n,t,e,i,s){const r=nB(i,n,t,e),o=iB(s,i,t.lineHeight);return{itemWidth:r,itemHeight:o}}function nB(n,t,e,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),t+e.size/2+i.measureText(s).width}function iB(n,t,e){let i=n;return typeof t.text!="string"&&(i=ex(t,e)),i}function ex(n,t){const e=n.text?n.text.length:0;return t*e}function sB(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var rB={id:"legend",_element:Sb,start(n,t,e){const i=n.legend=new Sb({ctx:n.ctx,options:e,chart:n});ze.configure(n,i,e),ze.addBox(n,i)},stop(n){ze.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;ze.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,s=e.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const l=c.controller.getStyle(e?0:void 0),h=qe(l.borderWidth);return{text:t[c.index].label,fillStyle:l.backgroundColor,fontColor:r,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:s||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Gp extends Ci{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const s=Jt(i.text)?i.text.length:1;this._padding=qe(i.padding);const r=s*me(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:s,right:r,options:o}=this,a=o.align;let c=0,l,h,d;return this.isHorizontal()?(h=Ne(a,i,r),d=e+t,l=r-i):(o.position==="left"?(h=i+t,d=Ne(a,s,e),c=Xt*-.5):(h=r-t,d=Ne(a,e,s),c=Xt*.5),l=s-e),{titleX:h,titleY:d,maxWidth:l,rotation:c}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=me(e.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:l}=this._drawArgs(r);Xs(t,e.text,0,0,i,{color:e.color,maxWidth:c,rotation:l,textAlign:Fp(e.align),textBaseline:"middle",translation:[o,a]})}}function oB(n,t){const e=new Gp({ctx:n.ctx,options:t,chart:n});ze.configure(n,e,t),ze.addBox(n,e),n.titleBlock=e}var aB={id:"title",_element:Gp,start(n,t,e){oB(n,e)},stop(n){const t=n.titleBlock;ze.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;ze.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vc=new WeakMap;var cB={id:"subtitle",start(n,t,e){const i=new Gp({ctx:n.ctx,options:e,chart:n});ze.configure(n,i,e),ze.addBox(n,i),Vc.set(n,i)},stop(n){ze.removeBox(n,Vc.get(n)),Vc.delete(n)},beforeUpdate(n,t,e){const i=Vc.get(n);ze.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Fo={average(n){if(!n.length)return!1;let t,e,i=new Set,s=0,r=0;for(t=0,e=n.length;t<e;++t){const a=n[t].element;if(a&&a.hasValue()){const c=a.tooltipPosition();i.add(c.x),s+=c.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((a,c)=>a+c)/i.size,y:s/r}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=n.length;r<o;++r){const c=n[r].element;if(c&&c.hasValue()){const l=c.getCenterPoint(),h=Bd(t,l);h<s&&(s=h,a=c)}}if(a){const c=a.tooltipPosition();e=c.x,i=c.y}return{x:e,y:i}}};function Mn(n,t){return t&&(Jt(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function oi(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function lB(n,t){const{element:e,datasetIndex:i,index:s}=t,r=n.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:n,label:o,parsed:r.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:e}}function Pb(n,t){const e=n.chart.ctx,{body:i,footer:s,title:r}=n,{boxWidth:o,boxHeight:a}=t,c=me(t.bodyFont),l=me(t.titleFont),h=me(t.footerFont),d=r.length,f=s.length,g=i.length,_=qe(t.padding);let y=_.height,v=0,I=i.reduce((M,N)=>M+N.before.length+N.lines.length+N.after.length,0);if(I+=n.beforeBody.length+n.afterBody.length,d&&(y+=d*l.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),I){const M=t.displayColors?Math.max(a,c.lineHeight):c.lineHeight;y+=g*M+(I-g)*c.lineHeight+(I-1)*t.bodySpacing}f&&(y+=t.footerMarginTop+f*h.lineHeight+(f-1)*t.footerSpacing);let A=0;const k=function(M){v=Math.max(v,e.measureText(M).width+A)};return e.save(),e.font=l.string,Ht(n.title,k),e.font=c.string,Ht(n.beforeBody.concat(n.afterBody),k),A=t.displayColors?o+2+t.boxPadding:0,Ht(i,M=>{Ht(M.before,k),Ht(M.lines,k),Ht(M.after,k)}),A=0,e.font=h.string,Ht(n.footer,k),e.restore(),v+=_.width,{width:v,height:y}}function uB(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function hB(n,t,e,i){const{x:s,width:r}=i,o=e.caretSize+e.caretPadding;if(n==="left"&&s+r+o>t.width||n==="right"&&s-r-o<0)return!0}function dB(n,t,e,i){const{x:s,width:r}=e,{width:o,chartArea:{left:a,right:c}}=n;let l="center";return i==="center"?l=s<=(a+c)/2?"left":"right":s<=r/2?l="left":s>=o-r/2&&(l="right"),hB(l,n,t,e)&&(l="center"),l}function Cb(n,t,e){const i=e.yAlign||t.yAlign||uB(n,e);return{xAlign:e.xAlign||t.xAlign||dB(n,t,e,i),yAlign:i}}function fB(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function pB(n,t,e){let{y:i,height:s}=n;return t==="top"?i+=e:t==="bottom"?i-=s+e:i-=s/2,i}function Rb(n,t,e,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=n,{xAlign:a,yAlign:c}=e,l=s+r,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:g}=Bs(o);let _=fB(t,a);const y=pB(t,c,l);return c==="center"?a==="left"?_+=l:a==="right"&&(_-=l):a==="left"?_-=Math.max(h,f)+s:a==="right"&&(_+=Math.max(d,g)+s),{x:we(_,0,i.width-t.width),y:we(y,0,i.height-t.height)}}function Fc(n,t,e){const i=qe(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function kb(n){return Mn([],oi(n))}function gB(n,t,e){return ys(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Db(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const nx={beforeTitle:si,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:si,beforeBody:si,beforeLabel:si,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Et(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:si,afterBody:si,beforeFooter:si,footer:si,afterFooter:si};function Ze(n,t,e,i){const s=n[t].call(e,i);return typeof s>"u"?nx[t].call(e,i):s}class Gd extends Ci{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&e.options.animation&&i.animations,r=new OT(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=gB(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,s=Ze(i,"beforeTitle",this,t),r=Ze(i,"title",this,t),o=Ze(i,"afterTitle",this,t);let a=[];return a=Mn(a,oi(s)),a=Mn(a,oi(r)),a=Mn(a,oi(o)),a}getBeforeBody(t,e){return kb(Ze(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,s=[];return Ht(t,r=>{const o={before:[],lines:[],after:[]},a=Db(i,r);Mn(o.before,oi(Ze(a,"beforeLabel",this,r))),Mn(o.lines,Ze(a,"label",this,r)),Mn(o.after,oi(Ze(a,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(t,e){return kb(Ze(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,s=Ze(i,"beforeFooter",this,t),r=Ze(i,"footer",this,t),o=Ze(i,"afterFooter",this,t);let a=[];return a=Mn(a,oi(s)),a=Mn(a,oi(r)),a=Mn(a,oi(o)),a}_createItems(t){const e=this._active,i=this.chart.data,s=[],r=[],o=[];let a=[],c,l;for(c=0,l=e.length;c<l;++c)a.push(lB(this.chart,e[c]));return t.filter&&(a=a.filter((h,d,f)=>t.filter(h,d,f,i))),t.itemSort&&(a=a.sort((h,d)=>t.itemSort(h,d,i))),Ht(a,h=>{const d=Db(t.callbacks,h);s.push(Ze(d,"labelColor",this,h)),r.push(Ze(d,"labelPointStyle",this,h)),o.push(Ze(d,"labelTextColor",this,h))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(t,e){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=Fo[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const c=this._size=Pb(this,i),l=Object.assign({},a,c),h=Cb(this.chart,i,l),d=Rb(i,l,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,r={opacity:1,x:d.x,y:d.y,width:c.width,height:c.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,s){const r=this.getCaretPosition(t,i,s);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:c,topRight:l,bottomLeft:h,bottomRight:d}=Bs(a),{x:f,y:g}=t,{width:_,height:y}=e;let v,I,A,k,M,N;return r==="center"?(M=g+y/2,s==="left"?(v=f,I=v-o,k=M+o,N=M-o):(v=f+_,I=v+o,k=M-o,N=M+o),A=v):(s==="left"?I=f+Math.max(c,h)+o:s==="right"?I=f+_-Math.max(l,d)-o:I=this.caretX,r==="top"?(k=g,M=k-o,v=I-o,A=I+o):(k=g+y,M=k+o,v=I+o,A=I-o),N=k),{x1:v,x2:I,x3:A,y1:k,y2:M,y3:N}}drawTitle(t,e,i){const s=this.title,r=s.length;let o,a,c;if(r){const l=Dr(i.rtl,this.x,this.width);for(t.x=Fc(this,i.titleAlign,i),e.textAlign=l.textAlign(i.titleAlign),e.textBaseline="middle",o=me(i.titleFont),a=i.titleSpacing,e.fillStyle=i.titleColor,e.font=o.string,c=0;c<r;++c)e.fillText(s[c],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,c+1===r&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,e,i,s,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:c,boxWidth:l}=r,h=me(r.bodyFont),d=Fc(this,"left",r),f=s.x(d),g=c<h.lineHeight?(h.lineHeight-c)/2:0,_=e.y+g;if(r.usePointStyle){const y={radius:Math.min(l,c)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=s.leftForLtr(f,l)+l/2,I=_+c/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,Hd(t,y,v,I),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Hd(t,y,v,I)}else{t.lineWidth=It(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const y=s.leftForLtr(f,l),v=s.leftForLtr(s.xPlus(f,1),l-2),I=Bs(o.borderRadius);Object.values(I).some(A=>A!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Aa(t,{x:y,y:_,w:l,h:c,radius:I}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Aa(t,{x:v,y:_+1,w:l-2,h:c-2,radius:I}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(y,_,l,c),t.strokeRect(y,_,l,c),t.fillStyle=o.backgroundColor,t.fillRect(v,_+1,l-2,c-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:c,boxWidth:l,boxPadding:h}=i,d=me(i.bodyFont);let f=d.lineHeight,g=0;const _=Dr(i.rtl,this.x,this.width),y=function(b){e.fillText(b,_.x(t.x+g),t.y+f/2),t.y+=f+r},v=_.textAlign(o);let I,A,k,M,N,B,T;for(e.textAlign=o,e.textBaseline="middle",e.font=d.string,t.x=Fc(this,v,i),e.fillStyle=i.bodyColor,Ht(this.beforeBody,y),g=a&&v!=="right"?o==="center"?l/2+h:l+2+h:0,M=0,B=s.length;M<B;++M){for(I=s[M],A=this.labelTextColors[M],e.fillStyle=A,Ht(I.before,y),k=I.lines,a&&k.length&&(this._drawColorBox(e,t,M,_,i),f=Math.max(d.lineHeight,c)),N=0,T=k.length;N<T;++N)y(k[N]),f=d.lineHeight;Ht(I.after,y)}g=0,f=d.lineHeight,Ht(this.afterBody,y),t.y-=r}drawFooter(t,e,i){const s=this.footer,r=s.length;let o,a;if(r){const c=Dr(i.rtl,this.x,this.width);for(t.x=Fc(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=c.textAlign(i.footerAlign),e.textBaseline="middle",o=me(i.footerFont),e.fillStyle=i.footerColor,e.font=o.string,a=0;a<r;++a)e.fillText(s[a],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){const{xAlign:r,yAlign:o}=this,{x:a,y:c}=t,{width:l,height:h}=i,{topLeft:d,topRight:f,bottomLeft:g,bottomRight:_}=Bs(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(a+d,c),o==="top"&&this.drawCaret(t,e,i,s),e.lineTo(a+l-f,c),e.quadraticCurveTo(a+l,c,a+l,c+f),o==="center"&&r==="right"&&this.drawCaret(t,e,i,s),e.lineTo(a+l,c+h-_),e.quadraticCurveTo(a+l,c+h,a+l-_,c+h),o==="bottom"&&this.drawCaret(t,e,i,s),e.lineTo(a+g,c+h),e.quadraticCurveTo(a,c+h,a,c+h-g),o==="center"&&r==="left"&&this.drawCaret(t,e,i,s),e.lineTo(a,c+d),e.quadraticCurveTo(a,c,a+d,c),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=Fo[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Pb(this,t),c=Object.assign({},o,this._size),l=Cb(e,t,c),h=Rb(t,c,l,e);(s._to!==h.x||r._to!==h.y)&&(this.xAlign=l.xAlign,this.yAlign=l.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=qe(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,s,e),CT(t,e.textDirection),r.y+=o.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),RT(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,s=t.map(({datasetIndex:a,index:c})=>{const l=this.chart.getDatasetMeta(a);if(!l)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:l.data[c],index:c}}),r=!ql(i,s),o=this._positionChanged(s,e);(r||o)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(t,r,e,i),a=this._positionChanged(o,t),c=e||!ql(o,r)||a;return c&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),c}_getActiveElements(t,e,i,s){const r=this.options;if(t.type==="mouseout")return[];if(!s)return e.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:i,caretY:s,options:r}=this,o=Fo[r.position].call(this,t,e);return o!==!1&&(i!==o.x||s!==o.y)}}V(Gd,"positioners",Fo);var mB={id:"tooltip",_element:Gd,positioners:Fo,afterInit(n,t,e){e&&(n.tooltip=new Gd({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:nx},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},_B=Object.freeze({__proto__:null,Colors:CF,Decimation:MF,Filler:ZF,Legend:rB,SubTitle:cB,Title:aB,Tooltip:mB});const yB=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function bB(n,t,e,i){const s=n.indexOf(t);if(s===-1)return yB(n,t,e,i);const r=n.lastIndexOf(t);return s!==r?e:s}const vB=(n,t)=>n===null?null:we(Math.round(n),0,t);function Mb(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class Yd extends nr{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:s,label:r}of e)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Et(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:bB(i,t,vt(e,t),this._addedLabels),vB(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=t===0&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=e;o++)s.push({value:o});return s}getLabelForValue(t){return Mb.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}V(Yd,"id","category"),V(Yd,"defaults",{ticks:{callback:Mb}});function wB(n,t){const e=[],{bounds:s,step:r,min:o,max:a,precision:c,count:l,maxTicks:h,maxDigits:d,includeBounds:f}=n,g=r||1,_=h-1,{min:y,max:v}=t,I=!Et(o),A=!Et(a),k=!Et(l),M=(v-y)/(d+1);let N=Py((v-y)/_/g)*g,B,T,b,E;if(N<1e-14&&!I&&!A)return[{value:y},{value:v}];E=Math.ceil(v/N)-Math.floor(y/N),E>_&&(N=Py(E*N/_/g)*g),Et(c)||(B=Math.pow(10,c),N=Math.ceil(N*B)/B),s==="ticks"?(T=Math.floor(y/N)*N,b=Math.ceil(v/N)*N):(T=y,b=v),I&&A&&r&&gN((a-o)/r,N/1e3)?(E=Math.round(Math.min((a-o)/N,h)),N=(a-o)/E,T=o,b=a):k?(T=I?o:T,b=A?a:b,E=l-1,N=(b-T)/E):(E=(b-T)/N,ea(E,Math.round(E),N/1e3)?E=Math.round(E):E=Math.ceil(E));const x=Math.max(Cy(N),Cy(T));B=Math.pow(10,Et(c)?x:c),T=Math.round(T*B)/B,b=Math.round(b*B)/B;let C=0;for(I&&(f&&T!==o?(e.push({value:o}),T<o&&C++,ea(Math.round((T+C*N)*B)/B,o,Ob(o,M,n))&&C++):T<o&&C++);C<E;++C){const D=Math.round((T+C*N)*B)/B;if(A&&D>a)break;e.push({value:D})}return A&&f&&b!==a?e.length&&ea(e[e.length-1].value,a,Ob(a,M,n))?e[e.length-1].value=a:e.push({value:a}):(!A||b===a)&&e.push({value:b}),e}function Ob(n,t,{horizontal:e,minRotation:i}){const s=xn(i),r=(e?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+n).length;return Math.min(t/r,o)}class Zl extends nr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Et(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=c=>s=e?s:c,a=c=>r=i?r:c;if(t){const c=Gn(s),l=Gn(r);c<0&&l<0?a(0):c>0&&l>0&&o(0)}if(s===r){let c=r===0?1:Math.abs(r*.05);a(r+c),t||o(s-c)}this.min=s,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},r=this._range||this,o=wB(s,r);return t.bounds==="ticks"&&dT(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Xa(t,this.chart.options.locale,this.options.ticks.format)}}class Qd extends Zl{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=oe(t)?t:0,this.max=oe(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=xn(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}V(Qd,"id","linear"),V(Qd,"defaults",{ticks:{callback:Uu.formatters.numeric}});const Pa=n=>Math.floor(Gi(n)),Ps=(n,t)=>Math.pow(10,Pa(n)+t);function Lb(n){return n/Math.pow(10,Pa(n))===1}function Nb(n,t,e){const i=Math.pow(10,e),s=Math.floor(n/i);return Math.ceil(t/i)-s}function EB(n,t){const e=t-n;let i=Pa(e);for(;Nb(n,t,i)>10;)i++;for(;Nb(n,t,i)<10;)i--;return Math.min(i,Pa(n))}function TB(n,{min:t,max:e}){t=cn(n.min,t);const i=[],s=Pa(t);let r=EB(t,e),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),c=s>r?Math.pow(10,s):0,l=Math.round((t-c)*o)/o,h=Math.floor((t-c)/a/10)*a*10;let d=Math.floor((l-h)/Math.pow(10,r)),f=cn(n.min,Math.round((c+h+d*Math.pow(10,r))*o)/o);for(;f<e;)i.push({value:f,major:Lb(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(r++,d=2,o=r>=0?1:o),f=Math.round((c+h+d*Math.pow(10,r))*o)/o;const g=cn(n.max,f);return i.push({value:g,major:Lb(g),significand:d}),i}class Xd extends nr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=Zl.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return oe(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=oe(t)?Math.max(0,t):null,this.max=oe(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!oe(this._userMin)&&(this.min=t===Ps(this.min,0)?Ps(this.min,-1):Ps(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,s=this.max;const r=a=>i=t?i:a,o=a=>s=e?s:a;i===s&&(i<=0?(r(1),o(10)):(r(Ps(i,-1)),o(Ps(s,1)))),i<=0&&r(Ps(s,-1)),s<=0&&o(Ps(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=TB(e,this);return t.bounds==="ticks"&&dT(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":Xa(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Gi(t),this._valueRange=Gi(this.max)-Gi(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Gi(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}V(Xd,"id","logarithmic"),V(Xd,"defaults",{ticks:{callback:Uu.formatters.logarithmic,major:{enabled:!0}}});function Jd(n){const t=n.ticks;if(t.display&&n.display){const e=qe(t.backdropPadding);return vt(t.font&&t.font.size,Zt.font.size)+e.height}return 0}function xB(n,t,e){return e=Jt(e)?e:[e],{w:DN(n,t.string,e),h:e.length*t.lineHeight}}function Vb(n,t,e,i,s){return n===i||n===s?{start:t-e/2,end:t+e/2}:n<i||n>s?{start:t-e,end:t}:{start:t,end:t+e}}function IB(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],s=[],r=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?Xt/r:0;for(let c=0;c<r;c++){const l=o.setContext(n.getPointLabelContext(c));s[c]=l.padding;const h=n.getPointPosition(c,n.drawingArea+s[c],a),d=me(l.font),f=xB(n.ctx,d,n._pointLabels[c]);i[c]=f;const g=un(n.getIndexAngle(c)+a),_=Math.round(Np(g)),y=Vb(_,h.x,f.w,0,180),v=Vb(_,h.y,f.h,90,270);AB(e,t,g,y,v)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=CB(n,i,s)}function AB(n,t,e,i,s){const r=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e));let a=0,c=0;i.start<t.l?(a=(t.l-i.start)/r,n.l=Math.min(n.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/r,n.r=Math.max(n.r,t.r+a)),s.start<t.t?(c=(t.t-s.start)/o,n.t=Math.min(n.t,t.t-c)):s.end>t.b&&(c=(s.end-t.b)/o,n.b=Math.max(n.b,t.b+c))}function SB(n,t,e){const i=n.drawingArea,{extra:s,additionalAngle:r,padding:o,size:a}=e,c=n.getPointPosition(t,i+s+o,r),l=Math.round(Np(un(c.angle+ue))),h=DB(c.y,a.h,l),d=RB(l),f=kB(c.x,a.w,d);return{visible:!0,x:c.x,y:h,textAlign:d,left:f,top:h,right:f+a.w,bottom:h+a.h}}function PB(n,t){if(!t)return!0;const{left:e,top:i,right:s,bottom:r}=n;return!(_i({x:e,y:i},t)||_i({x:e,y:r},t)||_i({x:s,y:i},t)||_i({x:s,y:r},t))}function CB(n,t,e){const i=[],s=n._pointLabels.length,r=n.options,{centerPointLabels:o,display:a}=r.pointLabels,c={extra:Jd(r)/2,additionalAngle:o?Xt/s:0};let l;for(let h=0;h<s;h++){c.padding=e[h],c.size=t[h];const d=SB(n,h,c);i.push(d),a==="auto"&&(d.visible=PB(d,l),d.visible&&(l=d))}return i}function RB(n){return n===0||n===180?"center":n<180?"left":"right"}function kB(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function DB(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function MB(n,t,e){const{left:i,top:s,right:r,bottom:o}=e,{backdropColor:a}=t;if(!Et(a)){const c=Bs(t.borderRadius),l=qe(t.backdropPadding);n.fillStyle=a;const h=i-l.left,d=s-l.top,f=r-i+l.width,g=o-s+l.height;Object.values(c).some(_=>_!==0)?(n.beginPath(),Aa(n,{x:h,y:d,w:f,h:g,radius:c}),n.fill()):n.fillRect(h,d,f,g)}}function OB(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let s=t-1;s>=0;s--){const r=n._pointLabelItems[s];if(!r.visible)continue;const o=i.setContext(n.getPointLabelContext(s));MB(e,o,r);const a=me(o.font),{x:c,y:l,textAlign:h}=r;Xs(e,n._pointLabels[s],c,l+a.lineHeight/2,a,{color:o.color,textAlign:h,textBaseline:"middle"})}}function ix(n,t,e,i){const{ctx:s}=n;if(e)s.arc(n.xCenter,n.yCenter,t,0,Qt);else{let r=n.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=n.getPointPosition(o,t),s.lineTo(r.x,r.y)}}function LB(n,t,e,i,s){const r=n.ctx,o=t.circular,{color:a,lineWidth:c}=t;!o&&!i||!a||!c||e<0||(r.save(),r.strokeStyle=a,r.lineWidth=c,r.setLineDash(s.dash||[]),r.lineDashOffset=s.dashOffset,r.beginPath(),ix(n,e,o,i),r.closePath(),r.stroke(),r.restore())}function NB(n,t,e){return ys(n,{label:e,index:t,type:"pointLabel"})}class Bo extends Zl{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=qe(Jd(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=oe(t)&&!isNaN(t)?t:0,this.max=oe(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Jd(this.options))}generateTickLabels(t){Zl.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const s=$t(this.options.pointLabels.callback,[e,i],this);return s||s===0?s:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?IB(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,s){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,s))}getIndexAngle(t){const e=Qt/(this._pointLabels.length||1),i=this.options.startAngle||0;return un(t*e+xn(i))}getDistanceFromCenterForValue(t){if(Et(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Et(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return NB(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const s=this.getIndexAngle(t)-ue+i;return{x:Math.cos(s)*e+this.xCenter,y:Math.sin(s)*e+this.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:s,bottom:r}=this._pointLabelItems[t];return{left:e,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),ix(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:s,border:r}=e,o=this._pointLabels.length;let a,c,l;if(e.pointLabels.display&&OB(this,o),s.display&&this.ticks.forEach((h,d)=>{if(d!==0||d===0&&this.min<0){c=this.getDistanceFromCenterForValue(h.value);const f=this.getContext(d),g=s.setContext(f),_=r.setContext(f);LB(this,g,c,o,_)}}),i.display){for(t.save(),a=o-1;a>=0;a--){const h=i.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:f}=h;!f||!d||(t.lineWidth=f,t.strokeStyle=d,t.setLineDash(h.borderDash),t.lineDashOffset=h.borderDashOffset,c=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),l=this.getPointPosition(a,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!e.reverse)return;const l=i.setContext(this.getContext(c)),h=me(l.font);if(r=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){t.font=h.string,o=t.measureText(a.label).width,t.fillStyle=l.backdropColor;const d=qe(l.backdropPadding);t.fillRect(-o/2-d.left,-r-h.size/2-d.top,o+d.width,h.size+d.height)}Xs(t,a.label,0,-r,h,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),t.restore()}drawTitle(){}}V(Bo,"id","radialLinear"),V(Bo,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Uu.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),V(Bo,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),V(Bo,"descriptors",{angleLines:{_fallback:"grid"}});const $u={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},nn=Object.keys($u);function Fb(n,t){return n-t}function Bb(n,t){if(Et(t))return null;const e=n._adapter,{parser:i,round:s,isoWeekday:r}=n._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),oe(o)||(o=typeof i=="string"?e.parse(o,i):e.parse(o)),o===null?null:(s&&(o=s==="week"&&(jr(r)||r===!0)?e.startOf(o,"isoWeek",r):e.startOf(o,s)),+o)}function Ub(n,t,e,i){const s=nn.length;for(let r=nn.indexOf(n);r<s-1;++r){const o=$u[nn[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(a*o.size))<=i)return nn[r]}return nn[s-1]}function VB(n,t,e,i,s){for(let r=nn.length-1;r>=nn.indexOf(e);r--){const o=nn[r];if($u[o].common&&n._adapter.diff(s,i,o)>=t-1)return o}return nn[e?nn.indexOf(e):0]}function FB(n){for(let t=nn.indexOf(n)+1,e=nn.length;t<e;++t)if($u[nn[t]].common)return nn[t]}function Hb(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:s}=Vp(e,t),r=e[i]>=t?e[i]:e[s];n[r]=!0}}function BB(n,t,e,i){const s=n._adapter,r=+s.startOf(t[0].value,i),o=t[t.length-1].value;let a,c;for(a=r;a<=o;a=+s.add(a,1,i))c=e[a],c>=0&&(t[c].major=!0);return t}function zb(n,t,e){const i=[],s={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],s[a]=o,i.push({value:a,major:!1});return r===0||!e?i:BB(n,i,s,e)}class Ca extends nr{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),s=this._adapter=new VT._date(t.adapters.date);s.init(e),ta(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Bb(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function c(l){!o&&!isNaN(l.min)&&(s=Math.min(s,l.min)),!a&&!isNaN(l.max)&&(r=Math.max(r,l.max))}(!o||!a)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=oe(s)&&!isNaN(s)?s:+e.startOf(Date.now(),i),r=oe(r)&&!isNaN(r)?r:+e.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=bN(s,r,o);return this._unit=e.unit||(i.autoSkip?Ub(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):VB(this,a.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:FB(this._unit),this.initOffsets(s),t.reverse&&a.reverse(),zb(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,s,r;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?e=1-s:e=(this.getDecimalForValue(t[1])-s)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?i=r:i=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;e=we(e,0,o),i=we(i,0,o),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||Ub(r.minUnit,e,i,this._getLabelCapacity(e)),a=vt(s.ticks.stepSize,1),c=o==="week"?r.isoWeekday:!1,l=jr(c)||c===!0,h={};let d=e,f,g;if(l&&(d=+t.startOf(d,"isoWeek",c)),d=+t.startOf(d,l?"day":o),t.diff(i,e,o)>1e5*a)throw new Error(e+" and "+i+" are too far apart with stepSize of "+a+" "+o);const _=s.ticks.source==="data"&&this.getDataTimestamps();for(f=d,g=0;f<i;f=+t.add(f,a,o),g++)Hb(h,f,_);return(f===i||s.bounds==="ticks"||g===1)&&Hb(h,f,_),Object.keys(h).sort(Fb).map(y=>+y)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const s=this.options.time.displayFormats,r=this._unit,o=e||s[r];return this._adapter.format(t,o)}_tickFormatFunction(t,e,i,s){const r=this.options,o=r.ticks.callback;if(o)return $t(o,[t,e,i],this);const a=r.time.displayFormats,c=this._unit,l=this._majorUnit,h=c&&a[c],d=l&&a[l],f=i[e],g=l&&d&&f&&f.major;return this._adapter.format(t,s||(g?d:h))}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,s=xn(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,s=i[e.unit]||i.millisecond,r=this._tickFormatFunction(t,0,zb(this,[t],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,i=s.length;e<i;++e)t=t.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const s=this.getLabels();for(e=0,i=s.length;e<i;++e)t.push(Bb(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return gT(t.sort(Fb))}}V(Ca,"id","time"),V(Ca,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Bc(n,t,e){let i=0,s=n.length-1,r,o,a,c;e?(t>=n[i].pos&&t<=n[s].pos&&({lo:i,hi:s}=mi(n,"pos",t)),{pos:r,time:a}=n[i],{pos:o,time:c}=n[s]):(t>=n[i].time&&t<=n[s].time&&({lo:i,hi:s}=mi(n,"time",t)),{time:r,pos:a}=n[i],{time:o,pos:c}=n[s]);const l=o-r;return l?a+(c-a)*(t-r)/l:a}class Zd extends Ca{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Bc(e,this.min),this._tableRange=Bc(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],r=[];let o,a,c,l,h;for(o=0,a=t.length;o<a;++o)l=t[o],l>=e&&l<=i&&s.push(l);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)h=s[o+1],c=s[o-1],l=s[o],Math.round((h+c)/2)!==l&&r.push({time:l,pos:o/(a-1)});return r}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Bc(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Bc(this._table,i*this._tableRange+this._minPos,!0)}}V(Zd,"id","timeseries"),V(Zd,"defaults",Ca.defaults);var UB=Object.freeze({__proto__:null,CategoryScale:Yd,LinearScale:Qd,LogarithmicScale:Xd,RadialLinearScale:Bo,TimeScale:Ca,TimeSeriesScale:Zd});const HB=[KV,EF,_B,UB];li.register(...HB);const sx=6048e5,zB=864e5,Ja=6e4,Za=36e5,WB=1e3,Wb=Symbol.for("constructDateFrom");function ae(n,t){return typeof n=="function"?n(t):n&&typeof n=="object"&&Wb in n?n[Wb](t):n instanceof Date?new n.constructor(t):new Date(t)}function mt(n,t){return ae(t||n,n)}function qu(n,t,e){const i=mt(n,e==null?void 0:e.in);return isNaN(t)?ae((e==null?void 0:e.in)||n,NaN):(t&&i.setDate(i.getDate()+t),i)}function Yp(n,t,e){const i=mt(n,e==null?void 0:e.in);if(isNaN(t))return ae(n,NaN);if(!t)return i;const s=i.getDate(),r=ae(n,i.getTime());r.setMonth(i.getMonth()+t+1,0);const o=r.getDate();return s>=o?r:(i.setFullYear(r.getFullYear(),r.getMonth(),s),i)}function Qp(n,t,e){return ae(n,+mt(n)+t)}function jB(n,t,e){return Qp(n,t*Za)}let $B={};function ir(){return $B}function Jn(n,t){var a,c,l,h;const e=ir(),i=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??e.weekStartsOn??((h=(l=e.locale)==null?void 0:l.options)==null?void 0:h.weekStartsOn)??0,s=mt(n,t==null?void 0:t.in),r=s.getDay(),o=(r<i?7:0)+r-i;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Kr(n,t){return Jn(n,{...t,weekStartsOn:1})}function rx(n,t){const e=mt(n,t==null?void 0:t.in),i=e.getFullYear(),s=ae(e,0);s.setFullYear(i+1,0,4),s.setHours(0,0,0,0);const r=Kr(s),o=ae(e,0);o.setFullYear(i,0,4),o.setHours(0,0,0,0);const a=Kr(o);return e.getTime()>=r.getTime()?i+1:e.getTime()>=a.getTime()?i:i-1}function tu(n){const t=mt(n),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+n-+e}function sr(n,...t){const e=ae.bind(null,t.find(i=>typeof i=="object"));return t.map(e)}function tf(n,t){const e=mt(n,t==null?void 0:t.in);return e.setHours(0,0,0,0),e}function ox(n,t,e){const[i,s]=sr(e==null?void 0:e.in,n,t),r=tf(i),o=tf(s),a=+r-tu(r),c=+o-tu(o);return Math.round((a-c)/zB)}function qB(n,t){const e=rx(n,t),i=ae(n,0);return i.setFullYear(e,0,4),i.setHours(0,0,0,0),Kr(i)}function KB(n,t,e){const i=mt(n,e==null?void 0:e.in);return i.setTime(i.getTime()+t*Ja),i}function GB(n,t,e){return Yp(n,t*3,e)}function YB(n,t,e){return Qp(n,t*1e3)}function QB(n,t,e){return qu(n,t*7,e)}function XB(n,t,e){return Yp(n,t*12,e)}function ra(n,t){const e=+mt(n)-+mt(t);return e<0?-1:e>0?1:e}function JB(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function ax(n){return!(!JB(n)&&typeof n!="number"||isNaN(+mt(n)))}function ZB(n,t,e){const[i,s]=sr(e==null?void 0:e.in,n,t),r=i.getFullYear()-s.getFullYear(),o=i.getMonth()-s.getMonth();return r*12+o}function tU(n,t,e){const[i,s]=sr(e==null?void 0:e.in,n,t);return i.getFullYear()-s.getFullYear()}function cx(n,t,e){const[i,s]=sr(e==null?void 0:e.in,n,t),r=jb(i,s),o=Math.abs(ox(i,s));i.setDate(i.getDate()-r*o);const a=+(jb(i,s)===-r),c=r*(o-a);return c===0?0:c}function jb(n,t){const e=n.getFullYear()-t.getFullYear()||n.getMonth()-t.getMonth()||n.getDate()-t.getDate()||n.getHours()-t.getHours()||n.getMinutes()-t.getMinutes()||n.getSeconds()-t.getSeconds()||n.getMilliseconds()-t.getMilliseconds();return e<0?-1:e>0?1:e}function tc(n){return t=>{const i=(n?Math[n]:Math.trunc)(t);return i===0?0:i}}function eU(n,t,e){const[i,s]=sr(e==null?void 0:e.in,n,t),r=(+i-+s)/Za;return tc(e==null?void 0:e.roundingMethod)(r)}function Xp(n,t){return+mt(n)-+mt(t)}function nU(n,t,e){const i=Xp(n,t)/Ja;return tc(e==null?void 0:e.roundingMethod)(i)}function lx(n,t){const e=mt(n,t==null?void 0:t.in);return e.setHours(23,59,59,999),e}function ux(n,t){const e=mt(n,t==null?void 0:t.in),i=e.getMonth();return e.setFullYear(e.getFullYear(),i+1,0),e.setHours(23,59,59,999),e}function iU(n,t){const e=mt(n,t==null?void 0:t.in);return+lx(e,t)==+ux(e,t)}function hx(n,t,e){const[i,s,r]=sr(e==null?void 0:e.in,n,n,t),o=ra(s,r),a=Math.abs(ZB(s,r));if(a<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-o*a);let c=ra(s,r)===-o;iU(i)&&a===1&&ra(i,r)===1&&(c=!1);const l=o*(a-+c);return l===0?0:l}function sU(n,t,e){const i=hx(n,t,e)/3;return tc(e==null?void 0:e.roundingMethod)(i)}function rU(n,t,e){const i=Xp(n,t)/1e3;return tc(e==null?void 0:e.roundingMethod)(i)}function oU(n,t,e){const i=cx(n,t,e)/7;return tc(e==null?void 0:e.roundingMethod)(i)}function aU(n,t,e){const[i,s]=sr(e==null?void 0:e.in,n,t),r=ra(i,s),o=Math.abs(tU(i,s));i.setFullYear(1584),s.setFullYear(1584);const a=ra(i,s)===-r,c=r*(o-+a);return c===0?0:c}function cU(n,t){const e=mt(n,t==null?void 0:t.in),i=e.getMonth(),s=i-i%3;return e.setMonth(s,1),e.setHours(0,0,0,0),e}function lU(n,t){const e=mt(n,t==null?void 0:t.in);return e.setDate(1),e.setHours(0,0,0,0),e}function uU(n,t){const e=mt(n,t==null?void 0:t.in),i=e.getFullYear();return e.setFullYear(i+1,0,0),e.setHours(23,59,59,999),e}function dx(n,t){const e=mt(n,t==null?void 0:t.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}function hU(n,t){const e=mt(n,t==null?void 0:t.in);return e.setMinutes(59,59,999),e}function dU(n,t){var a,c;const e=ir(),i=e.weekStartsOn??((c=(a=e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??0,s=mt(n,t==null?void 0:t.in),r=s.getDay(),o=(r<i?-7:0)+6-(r-i);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function fU(n,t){const e=mt(n,t==null?void 0:t.in);return e.setSeconds(59,999),e}function pU(n,t){const e=mt(n,t==null?void 0:t.in),i=e.getMonth(),s=i-i%3+3;return e.setMonth(s,0),e.setHours(23,59,59,999),e}function gU(n,t){const e=mt(n,t==null?void 0:t.in);return e.setMilliseconds(999),e}const mU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_U=(n,t,e)=>{let i;const s=mU[n];return typeof s=="string"?i=s:t===1?i=s.one:i=s.other.replace("{{count}}",t.toString()),e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"in "+i:i+" ago":i};function Gh(n){return(t={})=>{const e=t.width?String(t.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}const yU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wU={date:Gh({formats:yU,defaultWidth:"full"}),time:Gh({formats:bU,defaultWidth:"full"}),dateTime:Gh({formats:vU,defaultWidth:"full"})},EU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},TU=(n,t,e,i)=>EU[n];function xo(n){return(t,e)=>{const i=e!=null&&e.context?String(e.context):"standalone";let s;if(i==="formatting"&&n.formattingValues){const o=n.defaultFormattingWidth||n.defaultWidth,a=e!=null&&e.width?String(e.width):o;s=n.formattingValues[a]||n.formattingValues[o]}else{const o=n.defaultWidth,a=e!=null&&e.width?String(e.width):n.defaultWidth;s=n.values[a]||n.values[o]}const r=n.argumentCallback?n.argumentCallback(t):t;return s[r]}}const xU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},IU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},AU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},SU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},PU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},CU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},RU=(n,t)=>{const e=Number(n),i=e%100;if(i>20||i<10)switch(i%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},kU={ordinalNumber:RU,era:xo({values:xU,defaultWidth:"wide"}),quarter:xo({values:IU,defaultWidth:"wide",argumentCallback:n=>n-1}),month:xo({values:AU,defaultWidth:"wide"}),day:xo({values:SU,defaultWidth:"wide"}),dayPeriod:xo({values:PU,defaultWidth:"wide",formattingValues:CU,defaultFormattingWidth:"wide"})};function Io(n){return(t,e={})=>{const i=e.width,s=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],r=t.match(s);if(!r)return null;const o=r[0],a=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],c=Array.isArray(a)?MU(a,d=>d.test(o)):DU(a,d=>d.test(o));let l;l=n.valueCallback?n.valueCallback(c):c,l=e.valueCallback?e.valueCallback(l):l;const h=t.slice(o.length);return{value:l,rest:h}}}function DU(n,t){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&t(n[e]))return e}function MU(n,t){for(let e=0;e<n.length;e++)if(t(n[e]))return e}function OU(n){return(t,e={})=>{const i=t.match(n.matchPattern);if(!i)return null;const s=i[0],r=t.match(n.parsePattern);if(!r)return null;let o=n.valueCallback?n.valueCallback(r[0]):r[0];o=e.valueCallback?e.valueCallback(o):o;const a=t.slice(s.length);return{value:o,rest:a}}}const LU=/^(\d+)(th|st|nd|rd)?/i,NU=/\d+/i,VU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},FU={any:[/^b/i,/^(a|c)/i]},BU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},UU={any:[/1/i,/2/i,/3/i,/4/i]},HU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},zU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},WU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$U={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},KU={ordinalNumber:OU({matchPattern:LU,parsePattern:NU,valueCallback:n=>parseInt(n,10)}),era:Io({matchPatterns:VU,defaultMatchWidth:"wide",parsePatterns:FU,defaultParseWidth:"any"}),quarter:Io({matchPatterns:BU,defaultMatchWidth:"wide",parsePatterns:UU,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Io({matchPatterns:HU,defaultMatchWidth:"wide",parsePatterns:zU,defaultParseWidth:"any"}),day:Io({matchPatterns:WU,defaultMatchWidth:"wide",parsePatterns:jU,defaultParseWidth:"any"}),dayPeriod:Io({matchPatterns:$U,defaultMatchWidth:"any",parsePatterns:qU,defaultParseWidth:"any"})},fx={code:"en-US",formatDistance:_U,formatLong:wU,formatRelative:TU,localize:kU,match:KU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function GU(n,t){const e=mt(n,t==null?void 0:t.in);return ox(e,dx(e))+1}function px(n,t){const e=mt(n,t==null?void 0:t.in),i=+Kr(e)-+qB(e);return Math.round(i/sx)+1}function Jp(n,t){var h,d,f,g;const e=mt(n,t==null?void 0:t.in),i=e.getFullYear(),s=ir(),r=(t==null?void 0:t.firstWeekContainsDate)??((d=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(f=s.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=ae((t==null?void 0:t.in)||n,0);o.setFullYear(i+1,0,r),o.setHours(0,0,0,0);const a=Jn(o,t),c=ae((t==null?void 0:t.in)||n,0);c.setFullYear(i,0,r),c.setHours(0,0,0,0);const l=Jn(c,t);return+e>=+a?i+1:+e>=+l?i:i-1}function YU(n,t){var a,c,l,h;const e=ir(),i=(t==null?void 0:t.firstWeekContainsDate)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??e.firstWeekContainsDate??((h=(l=e.locale)==null?void 0:l.options)==null?void 0:h.firstWeekContainsDate)??1,s=Jp(n,t),r=ae((t==null?void 0:t.in)||n,0);return r.setFullYear(s,0,i),r.setHours(0,0,0,0),Jn(r,t)}function gx(n,t){const e=mt(n,t==null?void 0:t.in),i=+Jn(e,t)-+YU(e,t);return Math.round(i/sx)+1}function Ut(n,t){const e=n<0?"-":"",i=Math.abs(n).toString().padStart(t,"0");return e+i}const Fi={y(n,t){const e=n.getFullYear(),i=e>0?e:1-e;return Ut(t==="yy"?i%100:i,t.length)},M(n,t){const e=n.getMonth();return t==="M"?String(e+1):Ut(e+1,2)},d(n,t){return Ut(n.getDate(),t.length)},a(n,t){const e=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(n,t){return Ut(n.getHours()%12||12,t.length)},H(n,t){return Ut(n.getHours(),t.length)},m(n,t){return Ut(n.getMinutes(),t.length)},s(n,t){return Ut(n.getSeconds(),t.length)},S(n,t){const e=t.length,i=n.getMilliseconds(),s=Math.trunc(i*Math.pow(10,e-3));return Ut(s,t.length)}},fr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$b={G:function(n,t,e){const i=n.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(i,{width:"abbreviated"});case"GGGGG":return e.era(i,{width:"narrow"});case"GGGG":default:return e.era(i,{width:"wide"})}},y:function(n,t,e){if(t==="yo"){const i=n.getFullYear(),s=i>0?i:1-i;return e.ordinalNumber(s,{unit:"year"})}return Fi.y(n,t)},Y:function(n,t,e,i){const s=Jp(n,i),r=s>0?s:1-s;if(t==="YY"){const o=r%100;return Ut(o,2)}return t==="Yo"?e.ordinalNumber(r,{unit:"year"}):Ut(r,t.length)},R:function(n,t){const e=rx(n);return Ut(e,t.length)},u:function(n,t){const e=n.getFullYear();return Ut(e,t.length)},Q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Ut(i,2);case"Qo":return e.ordinalNumber(i,{unit:"quarter"});case"QQQ":return e.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Ut(i,2);case"qo":return e.ordinalNumber(i,{unit:"quarter"});case"qqq":return e.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,t,e){const i=n.getMonth();switch(t){case"M":case"MM":return Fi.M(n,t);case"Mo":return e.ordinalNumber(i+1,{unit:"month"});case"MMM":return e.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(i,{width:"wide",context:"formatting"})}},L:function(n,t,e){const i=n.getMonth();switch(t){case"L":return String(i+1);case"LL":return Ut(i+1,2);case"Lo":return e.ordinalNumber(i+1,{unit:"month"});case"LLL":return e.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(i,{width:"wide",context:"standalone"})}},w:function(n,t,e,i){const s=gx(n,i);return t==="wo"?e.ordinalNumber(s,{unit:"week"}):Ut(s,t.length)},I:function(n,t,e){const i=px(n);return t==="Io"?e.ordinalNumber(i,{unit:"week"}):Ut(i,t.length)},d:function(n,t,e){return t==="do"?e.ordinalNumber(n.getDate(),{unit:"date"}):Fi.d(n,t)},D:function(n,t,e){const i=GU(n);return t==="Do"?e.ordinalNumber(i,{unit:"dayOfYear"}):Ut(i,t.length)},E:function(n,t,e){const i=n.getDay();switch(t){case"E":case"EE":case"EEE":return e.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(i,{width:"short",context:"formatting"});case"EEEE":default:return e.day(i,{width:"wide",context:"formatting"})}},e:function(n,t,e,i){const s=n.getDay(),r=(s-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(r);case"ee":return Ut(r,2);case"eo":return e.ordinalNumber(r,{unit:"day"});case"eee":return e.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(s,{width:"short",context:"formatting"});case"eeee":default:return e.day(s,{width:"wide",context:"formatting"})}},c:function(n,t,e,i){const s=n.getDay(),r=(s-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(r);case"cc":return Ut(r,t.length);case"co":return e.ordinalNumber(r,{unit:"day"});case"ccc":return e.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(s,{width:"narrow",context:"standalone"});case"cccccc":return e.day(s,{width:"short",context:"standalone"});case"cccc":default:return e.day(s,{width:"wide",context:"standalone"})}},i:function(n,t,e){const i=n.getDay(),s=i===0?7:i;switch(t){case"i":return String(s);case"ii":return Ut(s,t.length);case"io":return e.ordinalNumber(s,{unit:"day"});case"iii":return e.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(i,{width:"short",context:"formatting"});case"iiii":default:return e.day(i,{width:"wide",context:"formatting"})}},a:function(n,t,e){const s=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,t,e){const i=n.getHours();let s;switch(i===12?s=fr.noon:i===0?s=fr.midnight:s=i/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,t,e){const i=n.getHours();let s;switch(i>=17?s=fr.evening:i>=12?s=fr.afternoon:i>=4?s=fr.morning:s=fr.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,t,e){if(t==="ho"){let i=n.getHours()%12;return i===0&&(i=12),e.ordinalNumber(i,{unit:"hour"})}return Fi.h(n,t)},H:function(n,t,e){return t==="Ho"?e.ordinalNumber(n.getHours(),{unit:"hour"}):Fi.H(n,t)},K:function(n,t,e){const i=n.getHours()%12;return t==="Ko"?e.ordinalNumber(i,{unit:"hour"}):Ut(i,t.length)},k:function(n,t,e){let i=n.getHours();return i===0&&(i=24),t==="ko"?e.ordinalNumber(i,{unit:"hour"}):Ut(i,t.length)},m:function(n,t,e){return t==="mo"?e.ordinalNumber(n.getMinutes(),{unit:"minute"}):Fi.m(n,t)},s:function(n,t,e){return t==="so"?e.ordinalNumber(n.getSeconds(),{unit:"second"}):Fi.s(n,t)},S:function(n,t){return Fi.S(n,t)},X:function(n,t,e){const i=n.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return Kb(i);case"XXXX":case"XX":return Ms(i);case"XXXXX":case"XXX":default:return Ms(i,":")}},x:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"x":return Kb(i);case"xxxx":case"xx":return Ms(i);case"xxxxx":case"xxx":default:return Ms(i,":")}},O:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+qb(i,":");case"OOOO":default:return"GMT"+Ms(i,":")}},z:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+qb(i,":");case"zzzz":default:return"GMT"+Ms(i,":")}},t:function(n,t,e){const i=Math.trunc(+n/1e3);return Ut(i,t.length)},T:function(n,t,e){return Ut(+n,t.length)}};function qb(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),s=Math.trunc(i/60),r=i%60;return r===0?e+String(s):e+String(s)+t+Ut(r,2)}function Kb(n,t){return n%60===0?(n>0?"-":"+")+Ut(Math.abs(n)/60,2):Ms(n,t)}function Ms(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),s=Ut(Math.trunc(i/60),2),r=Ut(i%60,2);return e+s+t+r}const Gb=(n,t)=>{switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},mx=(n,t)=>{switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},QU=(n,t)=>{const e=n.match(/(P+)(p+)?/)||[],i=e[1],s=e[2];if(!s)return Gb(n,t);let r;switch(i){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;case"PPPP":default:r=t.dateTime({width:"full"});break}return r.replace("{{date}}",Gb(i,t)).replace("{{time}}",mx(s,t))},ef={p:mx,P:QU},XU=/^D+$/,JU=/^Y+$/,ZU=["D","DD","YY","YYYY"];function _x(n){return XU.test(n)}function yx(n){return JU.test(n)}function nf(n,t,e){const i=t4(n,t,e);if(console.warn(i),ZU.includes(n))throw new RangeError(i)}function t4(n,t,e){const i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${t}\`) for formatting ${i} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const e4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,n4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,i4=/^'([^]*?)'?$/,s4=/''/g,r4=/[a-zA-Z]/;function o4(n,t,e){var h,d,f,g,_,y,v,I;const i=ir(),s=(e==null?void 0:e.locale)??i.locale??fx,r=(e==null?void 0:e.firstWeekContainsDate)??((d=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(f=i.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=(e==null?void 0:e.weekStartsOn)??((y=(_=e==null?void 0:e.locale)==null?void 0:_.options)==null?void 0:y.weekStartsOn)??i.weekStartsOn??((I=(v=i.locale)==null?void 0:v.options)==null?void 0:I.weekStartsOn)??0,a=mt(n,e==null?void 0:e.in);if(!ax(a))throw new RangeError("Invalid time value");let c=t.match(n4).map(A=>{const k=A[0];if(k==="p"||k==="P"){const M=ef[k];return M(A,s.formatLong)}return A}).join("").match(e4).map(A=>{if(A==="''")return{isToken:!1,value:"'"};const k=A[0];if(k==="'")return{isToken:!1,value:a4(A)};if($b[k])return{isToken:!0,value:A};if(k.match(r4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return{isToken:!1,value:A}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const l={firstWeekContainsDate:r,weekStartsOn:o,locale:s};return c.map(A=>{if(!A.isToken)return A.value;const k=A.value;(!(e!=null&&e.useAdditionalWeekYearTokens)&&yx(k)||!(e!=null&&e.useAdditionalDayOfYearTokens)&&_x(k))&&nf(k,t,String(n));const M=$b[k[0]];return M(a,k,s.localize,l)}).join("")}function a4(n){const t=n.match(i4);return t?t[1].replace(s4,"'"):n}function c4(){return Object.assign({},ir())}function l4(n,t){const e=mt(n,t==null?void 0:t.in).getDay();return e===0?7:e}function u4(n,t){const e=h4(t)?new t(0):ae(t,0);return e.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),e.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e}function h4(n){var t;return typeof n=="function"&&((t=n.prototype)==null?void 0:t.constructor)===n}const d4=10;class bx{constructor(){V(this,"subPriority",0)}validate(t,e){return!0}}class f4 extends bx{constructor(t,e,i,s,r){super(),this.value=t,this.validateValue=e,this.setValue=i,this.priority=s,r&&(this.subPriority=r)}validate(t,e){return this.validateValue(t,this.value,e)}set(t,e,i){return this.setValue(t,e,this.value,i)}}class p4 extends bx{constructor(e,i){super();V(this,"priority",d4);V(this,"subPriority",-1);this.context=e||(s=>ae(i,s))}set(e,i){return i.timestampIsSet?e:ae(e,u4(e,this.context))}}class Dt{run(t,e,i,s){const r=this.parse(t,e,i,s);return r?{setter:new f4(r.value,this.validate,this.set,this.priority,this.subPriority),rest:r.rest}:null}validate(t,e,i){return!0}}class g4 extends Dt{constructor(){super(...arguments);V(this,"priority",140);V(this,"incompatibleTokens",["R","u","t","T"])}parse(e,i,s){switch(i){case"G":case"GG":case"GGG":return s.era(e,{width:"abbreviated"})||s.era(e,{width:"narrow"});case"GGGGG":return s.era(e,{width:"narrow"});case"GGGG":default:return s.era(e,{width:"wide"})||s.era(e,{width:"abbreviated"})||s.era(e,{width:"narrow"})}}set(e,i,s){return i.era=s,e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}const he={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Un={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function de(n,t){return n&&{value:t(n.value),rest:n.rest}}function te(n,t){const e=t.match(n);return e?{value:parseInt(e[0],10),rest:t.slice(e[0].length)}:null}function Hn(n,t){const e=t.match(n);if(!e)return null;if(e[0]==="Z")return{value:0,rest:t.slice(1)};const i=e[1]==="+"?1:-1,s=e[2]?parseInt(e[2],10):0,r=e[3]?parseInt(e[3],10):0,o=e[5]?parseInt(e[5],10):0;return{value:i*(s*Za+r*Ja+o*WB),rest:t.slice(e[0].length)}}function vx(n){return te(he.anyDigitsSigned,n)}function ce(n,t){switch(n){case 1:return te(he.singleDigit,t);case 2:return te(he.twoDigits,t);case 3:return te(he.threeDigits,t);case 4:return te(he.fourDigits,t);default:return te(new RegExp("^\\d{1,"+n+"}"),t)}}function eu(n,t){switch(n){case 1:return te(he.singleDigitSigned,t);case 2:return te(he.twoDigitsSigned,t);case 3:return te(he.threeDigitsSigned,t);case 4:return te(he.fourDigitsSigned,t);default:return te(new RegExp("^-?\\d{1,"+n+"}"),t)}}function Zp(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function wx(n,t){const e=t>0,i=e?t:1-t;let s;if(i<=50)s=n||100;else{const r=i+50,o=Math.trunc(r/100)*100,a=n>=r%100;s=n+o-(a?100:0)}return e?s:1-s}function Ex(n){return n%400===0||n%4===0&&n%100!==0}class m4 extends Dt{constructor(){super(...arguments);V(this,"priority",130);V(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,i,s){const r=o=>({year:o,isTwoDigitYear:i==="yy"});switch(i){case"y":return de(ce(4,e),r);case"yo":return de(s.ordinalNumber(e,{unit:"year"}),r);default:return de(ce(i.length,e),r)}}validate(e,i){return i.isTwoDigitYear||i.year>0}set(e,i,s){const r=e.getFullYear();if(s.isTwoDigitYear){const a=wx(s.year,r);return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}const o=!("era"in i)||i.era===1?s.year:1-s.year;return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}}class _4 extends Dt{constructor(){super(...arguments);V(this,"priority",130);V(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,i,s){const r=o=>({year:o,isTwoDigitYear:i==="YY"});switch(i){case"Y":return de(ce(4,e),r);case"Yo":return de(s.ordinalNumber(e,{unit:"year"}),r);default:return de(ce(i.length,e),r)}}validate(e,i){return i.isTwoDigitYear||i.year>0}set(e,i,s,r){const o=Jp(e,r);if(s.isTwoDigitYear){const c=wx(s.year,o);return e.setFullYear(c,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),Jn(e,r)}const a=!("era"in i)||i.era===1?s.year:1-s.year;return e.setFullYear(a,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),Jn(e,r)}}class y4 extends Dt{constructor(){super(...arguments);V(this,"priority",130);V(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,i){return eu(i==="R"?4:i.length,e)}set(e,i,s){const r=ae(e,0);return r.setFullYear(s,0,4),r.setHours(0,0,0,0),Kr(r)}}class b4 extends Dt{constructor(){super(...arguments);V(this,"priority",130);V(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,i){return eu(i==="u"?4:i.length,e)}set(e,i,s){return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}class v4 extends Dt{constructor(){super(...arguments);V(this,"priority",120);V(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,i,s){switch(i){case"Q":case"QQ":return ce(i.length,e);case"Qo":return s.ordinalNumber(e,{unit:"quarter"});case"QQQ":return s.quarter(e,{width:"abbreviated",context:"formatting"})||s.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(e,{width:"wide",context:"formatting"})||s.quarter(e,{width:"abbreviated",context:"formatting"})||s.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,i){return i>=1&&i<=4}set(e,i,s){return e.setMonth((s-1)*3,1),e.setHours(0,0,0,0),e}}class w4 extends Dt{constructor(){super(...arguments);V(this,"priority",120);V(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,i,s){switch(i){case"q":case"qq":return ce(i.length,e);case"qo":return s.ordinalNumber(e,{unit:"quarter"});case"qqq":return s.quarter(e,{width:"abbreviated",context:"standalone"})||s.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(e,{width:"wide",context:"standalone"})||s.quarter(e,{width:"abbreviated",context:"standalone"})||s.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,i){return i>=1&&i<=4}set(e,i,s){return e.setMonth((s-1)*3,1),e.setHours(0,0,0,0),e}}class E4 extends Dt{constructor(){super(...arguments);V(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);V(this,"priority",110)}parse(e,i,s){const r=o=>o-1;switch(i){case"M":return de(te(he.month,e),r);case"MM":return de(ce(2,e),r);case"Mo":return de(s.ordinalNumber(e,{unit:"month"}),r);case"MMM":return s.month(e,{width:"abbreviated",context:"formatting"})||s.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(e,{width:"wide",context:"formatting"})||s.month(e,{width:"abbreviated",context:"formatting"})||s.month(e,{width:"narrow",context:"formatting"})}}validate(e,i){return i>=0&&i<=11}set(e,i,s){return e.setMonth(s,1),e.setHours(0,0,0,0),e}}class T4 extends Dt{constructor(){super(...arguments);V(this,"priority",110);V(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,i,s){const r=o=>o-1;switch(i){case"L":return de(te(he.month,e),r);case"LL":return de(ce(2,e),r);case"Lo":return de(s.ordinalNumber(e,{unit:"month"}),r);case"LLL":return s.month(e,{width:"abbreviated",context:"standalone"})||s.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(e,{width:"wide",context:"standalone"})||s.month(e,{width:"abbreviated",context:"standalone"})||s.month(e,{width:"narrow",context:"standalone"})}}validate(e,i){return i>=0&&i<=11}set(e,i,s){return e.setMonth(s,1),e.setHours(0,0,0,0),e}}function x4(n,t,e){const i=mt(n,e==null?void 0:e.in),s=gx(i,e)-t;return i.setDate(i.getDate()-s*7),mt(i,e==null?void 0:e.in)}class I4 extends Dt{constructor(){super(...arguments);V(this,"priority",100);V(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,i,s){switch(i){case"w":return te(he.week,e);case"wo":return s.ordinalNumber(e,{unit:"week"});default:return ce(i.length,e)}}validate(e,i){return i>=1&&i<=53}set(e,i,s,r){return Jn(x4(e,s,r),r)}}function A4(n,t,e){const i=mt(n,e==null?void 0:e.in),s=px(i,e)-t;return i.setDate(i.getDate()-s*7),i}class S4 extends Dt{constructor(){super(...arguments);V(this,"priority",100);V(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,i,s){switch(i){case"I":return te(he.week,e);case"Io":return s.ordinalNumber(e,{unit:"week"});default:return ce(i.length,e)}}validate(e,i){return i>=1&&i<=53}set(e,i,s){return Kr(A4(e,s))}}const P4=[31,28,31,30,31,30,31,31,30,31,30,31],C4=[31,29,31,30,31,30,31,31,30,31,30,31];class R4 extends Dt{constructor(){super(...arguments);V(this,"priority",90);V(this,"subPriority",1);V(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,i,s){switch(i){case"d":return te(he.date,e);case"do":return s.ordinalNumber(e,{unit:"date"});default:return ce(i.length,e)}}validate(e,i){const s=e.getFullYear(),r=Ex(s),o=e.getMonth();return r?i>=1&&i<=C4[o]:i>=1&&i<=P4[o]}set(e,i,s){return e.setDate(s),e.setHours(0,0,0,0),e}}class k4 extends Dt{constructor(){super(...arguments);V(this,"priority",90);V(this,"subpriority",1);V(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,i,s){switch(i){case"D":case"DD":return te(he.dayOfYear,e);case"Do":return s.ordinalNumber(e,{unit:"date"});default:return ce(i.length,e)}}validate(e,i){const s=e.getFullYear();return Ex(s)?i>=1&&i<=366:i>=1&&i<=365}set(e,i,s){return e.setMonth(0,s),e.setHours(0,0,0,0),e}}function tg(n,t,e){var d,f,g,_;const i=ir(),s=(e==null?void 0:e.weekStartsOn)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??i.weekStartsOn??((_=(g=i.locale)==null?void 0:g.options)==null?void 0:_.weekStartsOn)??0,r=mt(n,e==null?void 0:e.in),o=r.getDay(),c=(t%7+7)%7,l=7-s,h=t<0||t>6?t-(o+l)%7:(c+l)%7-(o+l)%7;return qu(r,h,e)}class D4 extends Dt{constructor(){super(...arguments);V(this,"priority",90);V(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,i,s){switch(i){case"E":case"EE":case"EEE":return s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"})}}validate(e,i){return i>=0&&i<=6}set(e,i,s,r){return e=tg(e,s,r),e.setHours(0,0,0,0),e}}class M4 extends Dt{constructor(){super(...arguments);V(this,"priority",90);V(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,i,s,r){const o=a=>{const c=Math.floor((a-1)/7)*7;return(a+r.weekStartsOn+6)%7+c};switch(i){case"e":case"ee":return de(ce(i.length,e),o);case"eo":return de(s.ordinalNumber(e,{unit:"day"}),o);case"eee":return s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"eeeee":return s.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"})}}validate(e,i){return i>=0&&i<=6}set(e,i,s,r){return e=tg(e,s,r),e.setHours(0,0,0,0),e}}class O4 extends Dt{constructor(){super(...arguments);V(this,"priority",90);V(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,i,s,r){const o=a=>{const c=Math.floor((a-1)/7)*7;return(a+r.weekStartsOn+6)%7+c};switch(i){case"c":case"cc":return de(ce(i.length,e),o);case"co":return de(s.ordinalNumber(e,{unit:"day"}),o);case"ccc":return s.day(e,{width:"abbreviated",context:"standalone"})||s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"});case"ccccc":return s.day(e,{width:"narrow",context:"standalone"});case"cccccc":return s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(e,{width:"wide",context:"standalone"})||s.day(e,{width:"abbreviated",context:"standalone"})||s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"})}}validate(e,i){return i>=0&&i<=6}set(e,i,s,r){return e=tg(e,s,r),e.setHours(0,0,0,0),e}}function L4(n,t,e){const i=mt(n,e==null?void 0:e.in),s=l4(i,e),r=t-s;return qu(i,r,e)}class N4 extends Dt{constructor(){super(...arguments);V(this,"priority",90);V(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,i,s){const r=o=>o===0?7:o;switch(i){case"i":case"ii":return ce(i.length,e);case"io":return s.ordinalNumber(e,{unit:"day"});case"iii":return de(s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return de(s.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return de(s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),r);case"iiii":default:return de(s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,i){return i>=1&&i<=7}set(e,i,s){return e=L4(e,s),e.setHours(0,0,0,0),e}}class V4 extends Dt{constructor(){super(...arguments);V(this,"priority",80);V(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,i,s){switch(i){case"a":case"aa":case"aaa":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,i,s){return e.setHours(Zp(s),0,0,0),e}}class F4 extends Dt{constructor(){super(...arguments);V(this,"priority",80);V(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,i,s){switch(i){case"b":case"bb":case"bbb":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,i,s){return e.setHours(Zp(s),0,0,0),e}}class B4 extends Dt{constructor(){super(...arguments);V(this,"priority",80);V(this,"incompatibleTokens",["a","b","t","T"])}parse(e,i,s){switch(i){case"B":case"BB":case"BBB":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,i,s){return e.setHours(Zp(s),0,0,0),e}}class U4 extends Dt{constructor(){super(...arguments);V(this,"priority",70);V(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,i,s){switch(i){case"h":return te(he.hour12h,e);case"ho":return s.ordinalNumber(e,{unit:"hour"});default:return ce(i.length,e)}}validate(e,i){return i>=1&&i<=12}set(e,i,s){const r=e.getHours()>=12;return r&&s<12?e.setHours(s+12,0,0,0):!r&&s===12?e.setHours(0,0,0,0):e.setHours(s,0,0,0),e}}class H4 extends Dt{constructor(){super(...arguments);V(this,"priority",70);V(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,i,s){switch(i){case"H":return te(he.hour23h,e);case"Ho":return s.ordinalNumber(e,{unit:"hour"});default:return ce(i.length,e)}}validate(e,i){return i>=0&&i<=23}set(e,i,s){return e.setHours(s,0,0,0),e}}class z4 extends Dt{constructor(){super(...arguments);V(this,"priority",70);V(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,i,s){switch(i){case"K":return te(he.hour11h,e);case"Ko":return s.ordinalNumber(e,{unit:"hour"});default:return ce(i.length,e)}}validate(e,i){return i>=0&&i<=11}set(e,i,s){return e.getHours()>=12&&s<12?e.setHours(s+12,0,0,0):e.setHours(s,0,0,0),e}}class W4 extends Dt{constructor(){super(...arguments);V(this,"priority",70);V(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,i,s){switch(i){case"k":return te(he.hour24h,e);case"ko":return s.ordinalNumber(e,{unit:"hour"});default:return ce(i.length,e)}}validate(e,i){return i>=1&&i<=24}set(e,i,s){const r=s<=24?s%24:s;return e.setHours(r,0,0,0),e}}class j4 extends Dt{constructor(){super(...arguments);V(this,"priority",60);V(this,"incompatibleTokens",["t","T"])}parse(e,i,s){switch(i){case"m":return te(he.minute,e);case"mo":return s.ordinalNumber(e,{unit:"minute"});default:return ce(i.length,e)}}validate(e,i){return i>=0&&i<=59}set(e,i,s){return e.setMinutes(s,0,0),e}}class $4 extends Dt{constructor(){super(...arguments);V(this,"priority",50);V(this,"incompatibleTokens",["t","T"])}parse(e,i,s){switch(i){case"s":return te(he.second,e);case"so":return s.ordinalNumber(e,{unit:"second"});default:return ce(i.length,e)}}validate(e,i){return i>=0&&i<=59}set(e,i,s){return e.setSeconds(s,0),e}}class q4 extends Dt{constructor(){super(...arguments);V(this,"priority",30);V(this,"incompatibleTokens",["t","T"])}parse(e,i){const s=r=>Math.trunc(r*Math.pow(10,-i.length+3));return de(ce(i.length,e),s)}set(e,i,s){return e.setMilliseconds(s),e}}class K4 extends Dt{constructor(){super(...arguments);V(this,"priority",10);V(this,"incompatibleTokens",["t","T","x"])}parse(e,i){switch(i){case"X":return Hn(Un.basicOptionalMinutes,e);case"XX":return Hn(Un.basic,e);case"XXXX":return Hn(Un.basicOptionalSeconds,e);case"XXXXX":return Hn(Un.extendedOptionalSeconds,e);case"XXX":default:return Hn(Un.extended,e)}}set(e,i,s){return i.timestampIsSet?e:ae(e,e.getTime()-tu(e)-s)}}class G4 extends Dt{constructor(){super(...arguments);V(this,"priority",10);V(this,"incompatibleTokens",["t","T","X"])}parse(e,i){switch(i){case"x":return Hn(Un.basicOptionalMinutes,e);case"xx":return Hn(Un.basic,e);case"xxxx":return Hn(Un.basicOptionalSeconds,e);case"xxxxx":return Hn(Un.extendedOptionalSeconds,e);case"xxx":default:return Hn(Un.extended,e)}}set(e,i,s){return i.timestampIsSet?e:ae(e,e.getTime()-tu(e)-s)}}class Y4 extends Dt{constructor(){super(...arguments);V(this,"priority",40);V(this,"incompatibleTokens","*")}parse(e){return vx(e)}set(e,i,s){return[ae(e,s*1e3),{timestampIsSet:!0}]}}class Q4 extends Dt{constructor(){super(...arguments);V(this,"priority",20);V(this,"incompatibleTokens","*")}parse(e){return vx(e)}set(e,i,s){return[ae(e,s),{timestampIsSet:!0}]}}const X4={G:new g4,y:new m4,Y:new _4,R:new y4,u:new b4,Q:new v4,q:new w4,M:new E4,L:new T4,w:new I4,I:new S4,d:new R4,D:new k4,E:new D4,e:new M4,c:new O4,i:new N4,a:new V4,b:new F4,B:new B4,h:new U4,H:new H4,K:new z4,k:new W4,m:new j4,s:new $4,S:new q4,X:new K4,x:new G4,t:new Y4,T:new Q4},J4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Z4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tH=/^'([^]*?)'?$/,eH=/''/g,nH=/\S/,iH=/[a-zA-Z]/;function sH(n,t,e,i){var v,I,A,k,M,N,B,T;const s=()=>ae((i==null?void 0:i.in)||e,NaN),r=c4(),o=(i==null?void 0:i.locale)??r.locale??fx,a=(i==null?void 0:i.firstWeekContainsDate)??((I=(v=i==null?void 0:i.locale)==null?void 0:v.options)==null?void 0:I.firstWeekContainsDate)??r.firstWeekContainsDate??((k=(A=r.locale)==null?void 0:A.options)==null?void 0:k.firstWeekContainsDate)??1,c=(i==null?void 0:i.weekStartsOn)??((N=(M=i==null?void 0:i.locale)==null?void 0:M.options)==null?void 0:N.weekStartsOn)??r.weekStartsOn??((T=(B=r.locale)==null?void 0:B.options)==null?void 0:T.weekStartsOn)??0;if(!t)return n?s():mt(e,i==null?void 0:i.in);const l={firstWeekContainsDate:a,weekStartsOn:c,locale:o},h=[new p4(i==null?void 0:i.in,e)],d=t.match(Z4).map(b=>{const E=b[0];if(E in ef){const x=ef[E];return x(b,o.formatLong)}return b}).join("").match(J4),f=[];for(let b of d){!(i!=null&&i.useAdditionalWeekYearTokens)&&yx(b)&&nf(b,t,n),!(i!=null&&i.useAdditionalDayOfYearTokens)&&_x(b)&&nf(b,t,n);const E=b[0],x=X4[E];if(x){const{incompatibleTokens:C}=x;if(Array.isArray(C)){const S=f.find(Ct=>C.includes(Ct.token)||Ct.token===E);if(S)throw new RangeError(`The format string mustn't contain \`${S.fullToken}\` and \`${b}\` at the same time`)}else if(x.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${b}\` and any other token at the same time`);f.push({token:E,fullToken:b});const D=x.run(n,b,o.match,l);if(!D)return s();h.push(D.setter),n=D.rest}else{if(E.match(iH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");if(b==="''"?b="'":E==="'"&&(b=rH(b)),n.indexOf(b)===0)n=n.slice(b.length);else return s()}}if(n.length>0&&nH.test(n))return s();const g=h.map(b=>b.priority).sort((b,E)=>E-b).filter((b,E,x)=>x.indexOf(b)===E).map(b=>h.filter(E=>E.priority===b).sort((E,x)=>x.subPriority-E.subPriority)).map(b=>b[0]);let _=mt(e,i==null?void 0:i.in);if(isNaN(+_))return s();const y={};for(const b of g){if(!b.validate(_,l))return s();const E=b.set(_,y,l);Array.isArray(E)?(_=E[0],Object.assign(y,E[1])):_=E}return _}function rH(n){return n.match(tH)[1].replace(eH,"'")}function oH(n,t){const e=mt(n,t==null?void 0:t.in);return e.setMinutes(0,0,0),e}function aH(n,t){const e=mt(n,t==null?void 0:t.in);return e.setSeconds(0,0),e}function cH(n,t){const e=mt(n,t==null?void 0:t.in);return e.setMilliseconds(0),e}function lH(n,t){const e=()=>ae(t==null?void 0:t.in,NaN),i=(t==null?void 0:t.additionalDigits)??2,s=fH(n);let r;if(s.date){const l=pH(s.date,i);r=gH(l.restDateString,l.year)}if(!r||isNaN(+r))return e();const o=+r;let a=0,c;if(s.time&&(a=mH(s.time),isNaN(a)))return e();if(s.timezone){if(c=_H(s.timezone),isNaN(c))return e()}else{const l=new Date(o+a),h=mt(0,t==null?void 0:t.in);return h.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),h.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),h}return mt(o+a+c,t==null?void 0:t.in)}const Uc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},uH=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,hH=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,dH=/^([+-])(\d{2})(?::?(\d{2}))?$/;function fH(n){const t={},e=n.split(Uc.dateTimeDelimiter);let i;if(e.length>2)return t;if(/:/.test(e[0])?i=e[0]:(t.date=e[0],i=e[1],Uc.timeZoneDelimiter.test(t.date)&&(t.date=n.split(Uc.timeZoneDelimiter)[0],i=n.substr(t.date.length,n.length))),i){const s=Uc.timezone.exec(i);s?(t.time=i.replace(s[1],""),t.timezone=s[1]):t.time=i}return t}function pH(n,t){const e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),i=n.match(e);if(!i)return{year:NaN,restDateString:""};const s=i[1]?parseInt(i[1]):null,r=i[2]?parseInt(i[2]):null;return{year:r===null?s:r*100,restDateString:n.slice((i[1]||i[2]).length)}}function gH(n,t){if(t===null)return new Date(NaN);const e=n.match(uH);if(!e)return new Date(NaN);const i=!!e[4],s=Ao(e[1]),r=Ao(e[2])-1,o=Ao(e[3]),a=Ao(e[4]),c=Ao(e[5])-1;if(i)return EH(t,a,c)?yH(t,a,c):new Date(NaN);{const l=new Date(0);return!vH(t,r,o)||!wH(t,s)?new Date(NaN):(l.setUTCFullYear(t,r,Math.max(s,o)),l)}}function Ao(n){return n?parseInt(n):1}function mH(n){const t=n.match(hH);if(!t)return NaN;const e=Yh(t[1]),i=Yh(t[2]),s=Yh(t[3]);return TH(e,i,s)?e*Za+i*Ja+s*1e3:NaN}function Yh(n){return n&&parseFloat(n.replace(",","."))||0}function _H(n){if(n==="Z")return 0;const t=n.match(dH);if(!t)return 0;const e=t[1]==="+"?-1:1,i=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return xH(i,s)?e*(i*Za+s*Ja):NaN}function yH(n,t,e){const i=new Date(0);i.setUTCFullYear(n,0,4);const s=i.getUTCDay()||7,r=(t-1)*7+e+1-s;return i.setUTCDate(i.getUTCDate()+r),i}const bH=[31,null,31,30,31,30,31,31,30,31,30,31];function Tx(n){return n%400===0||n%4===0&&n%100!==0}function vH(n,t,e){return t>=0&&t<=11&&e>=1&&e<=(bH[t]||(Tx(n)?29:28))}function wH(n,t){return t>=1&&t<=(Tx(n)?366:365)}function EH(n,t,e){return t>=1&&t<=53&&e>=0&&e<=6}function TH(n,t,e){return n===24?t===0&&e===0:e>=0&&e<60&&t>=0&&t<60&&n>=0&&n<25}function xH(n,t){return t>=0&&t<=59}/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const IH={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};VT._date.override({_id:"date-fns",formats:function(){return IH},parse:function(n,t){if(n===null||typeof n>"u")return null;const e=typeof n;return e==="number"||n instanceof Date?n=mt(n):e==="string"&&(typeof t=="string"?n=sH(n,t,new Date,this.options):n=lH(n,this.options)),ax(n)?n.getTime():null},format:function(n,t){return o4(n,t,this.options)},add:function(n,t,e){switch(e){case"millisecond":return Qp(n,t);case"second":return YB(n,t);case"minute":return KB(n,t);case"hour":return jB(n,t);case"day":return qu(n,t);case"week":return QB(n,t);case"month":return Yp(n,t);case"quarter":return GB(n,t);case"year":return XB(n,t);default:return n}},diff:function(n,t,e){switch(e){case"millisecond":return Xp(n,t);case"second":return rU(n,t);case"minute":return nU(n,t);case"hour":return eU(n,t);case"day":return cx(n,t);case"week":return oU(n,t);case"month":return hx(n,t);case"quarter":return sU(n,t);case"year":return aU(n,t);default:return 0}},startOf:function(n,t,e){switch(t){case"second":return cH(n);case"minute":return aH(n);case"hour":return oH(n);case"day":return tf(n);case"week":return Jn(n);case"isoWeek":return Jn(n,{weekStartsOn:+e});case"month":return lU(n);case"quarter":return cU(n);case"year":return dx(n);default:return n}},endOf:function(n,t){switch(t){case"second":return gU(n);case"minute":return fU(n);case"hour":return hU(n);case"day":return lx(n);case"week":return dU(n);case"month":return ux(n);case"quarter":return pU(n);case"year":return uU(n);default:return n}}});bt.use(li);var AH="firebase",SH="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ts(AH,SH,"app");const PH={apiKey:"AIzaSyAhGfARTjQMgdI7OwfC_9OTBv6lISJ1abk",authDomain:"finbonacci-6bccb.firebaseapp.com",projectId:"finbonacci-6bccb",storageBucket:"finbonacci-6bccb.firebasestorage.app",messagingSenderId:"303713239932",appId:"1:303713239932:web:2f034ad54ec75ba0285af9"};u0(PH);const eg=yS(ID),JH=DE();eg.use(jE);eg.use(bt);eg.mount("#app");export{eA as A,OH as B,OO as C,KH as D,DH as E,Vn as F,QH as G,YH as H,GH as I,lf as J,B0 as K,FH as L,_C as M,UH as N,BH as O,UI as P,rR as Q,ED as _,Jv as a,cm as b,gh as c,LH as d,NH as e,kE as f,Q0 as g,JH as h,qH as i,zH as j,jH as k,$H as l,DE as m,Tn as n,qc as o,Rv as p,WH as q,yv as r,VH as s,cI as t,vD as u,MH as v,RH as w,Qe as x,kH as y,NA as z};
