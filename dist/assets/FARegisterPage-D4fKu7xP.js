import{_ as x,r as l,c as v,a,b as h,w as o,v as u,t as f,e as R,g as V,f as _,h as w,i as q,u as A,j as C,q as E,k as D,l as N,o as y}from"./index-DoOH1WHm.js";const P={class:"container"},B={key:0,class:"error"},F={key:1,class:"error"},S={__name:"FARegisterPage",setup(I){const n=l(""),c=l(""),i=l(""),p=l(""),m=l(""),d=l(""),r=l(""),g=A(),k=async()=>{const t=C(w,"users"),e=E(t,D("username","==",i.value));return(await N(e)).empty},b=async()=>{if(d.value="",r.value="",!await k()){d.value="Username already taken!";return}try{const e=(await R(V(),n.value,c.value)).user,s=_(w,"users",e.uid);await q(s,{uid:e.uid,username:i.value,email:n.value,company:p.value,regNumber:m.value,role:"FA"}),alert("User registered successfully!"),g.push("/home")}catch(t){t.code==="auth/email-already-in-use"?r.value="Email already registered!":t.code==="auth/invalid-email"?r.value="Invalid email format!":t.code==="auth/weak-password"?r.value="Password should be at least 6 characters!":console.error(t.code,t.message)}},U=()=>{g.push("/")};return(t,e)=>(y(),v("div",P,[e[5]||(e[5]=a("h1",null,"Register as a Financial Advisor",-1)),a("p",null,[o(a("input",{type:"text",placeholder:"Username","onUpdate:modelValue":e[0]||(e[0]=s=>i.value=s)},null,512),[[u,i.value]])]),d.value?(y(),v("p",B,f(d.value),1)):h("",!0),a("p",null,[o(a("input",{type:"text",placeholder:"Email","onUpdate:modelValue":e[1]||(e[1]=s=>n.value=s)},null,512),[[u,n.value]])]),r.value?(y(),v("p",F,f(r.value),1)):h("",!0),a("p",null,[o(a("input",{type:"password",placeholder:"Password","onUpdate:modelValue":e[2]||(e[2]=s=>c.value=s)},null,512),[[u,c.value]])]),a("p",null,[o(a("input",{type:"text",placeholder:"Company","onUpdate:modelValue":e[3]||(e[3]=s=>p.value=s)},null,512),[[u,p.value]])]),a("p",null,[o(a("input",{type:"text",placeholder:"Registration Number","onUpdate:modelValue":e[4]||(e[4]=s=>m.value=s)},null,512),[[u,m.value]])]),a("p",null,[a("button",{onClick:b},"Register"),a("button",{class:"back-btn",onClick:U},"Back to Login")])]))}},T=x(S,[["__scopeId","data-v-05188b8d"]]);export{T as default};
